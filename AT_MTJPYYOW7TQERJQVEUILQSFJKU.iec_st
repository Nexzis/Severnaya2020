<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE Program >
<Program UUID="CA2B1D1C4580D3B25779F986D8B44E74" Name="ALG_USOGSU" Period="100" PutDataAtEndOfCycle="true">
    <Variables>
        <Variable UUID="E71B769A41D0A8E75A472998F1F2E396" Name="ALG_DI" Type="ALG_DI_USOGSU" TypeUUID="5620D41A4BA2C7C81F28FD938568E9A8" Usage="internal" />
        <Variable UUID="FCA8550243AE7E194DDADA88DA639600" Name="ALG_DO" Type="ALG_DO_USOGSU" TypeUUID="A85CD650423BED4ED0864298E1C0454B" Usage="internal" />
        <Variable UUID="EE00C3AC45A7BE9D5617F9A98E7C208F" Name="ALG_AI" Type="ALG_Input_AnPar" TypeUUID="1DA35FBE4387C6355394269EDDE79E29" Usage="internal" />
        <Variable UUID="617746B44531C500D6C6AB9EF3E50034" Name="COUNT" Type="COUNTER" TypeUUID="97C2E9DA4947F9A0A13CD5A196DCAC88" Usage="internal" />
        <Variable UUID="DA9DDEB7450EC9936230C1B45CACF11D" Name="SLOT" Type="SLOT_FAULT" TypeUUID="CFDE58FC41B6F8997C91B0ADB45B1FAE" Usage="internal" />
    </Variables>
    <ST><![CDATA[ALG_DI();
ALG_DO();
ALG_AI();
COUNT();
SLOT();]]></ST>
    <DataTypes>
        <Struct UUID="F934805349B6CB0BACBF59A331394F4B" Name="DI_Sonet" Comment="Входной дискретный сигнал от контроллера Сонет">
            <Field UUID="E8E475344BD28315F43B6ABB03F6F22B" Name="Value" Comment="Текущее значение обработанного сигнала" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="DF4D30A04E3F9D397AF1B890AB292CA9" Name="reliabilityFlag" Comment="Флаг достоверности сигнала" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="705A2B7C4EAC79AB86B66D9094CD52AC" Name="reliabilityFlag_OLD" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="61B9DBCC49463F645E66199F69B9A302" Name="dt" Comment="Время фиксации сигнала" Type="DT" TypeUUID="8B0E0F77490C3D2B06233087F94C7C43" />
            <Field UUID="E82B8DD14122BEDD497765A78569188D" Name="Comment" Comment="Текстовое описание сигнала (общее)" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="20206EDC4AA3932C36DA798D4CC5901E" Name="Txt_1" Comment="Текстовое описание значения 1" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="27E5DC5440F80D2C2F5642B82B23EC41" Name="Txt_0" Comment="Текстовое описание значения 0" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="3F460D794A605D72DB0256958155C87D" Name="Source" Comment="Источник события (описание оборудования)" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="0A7B22694E82D3A56B1539881D7813A9" Name="InvFlag" Comment="Флаг инверсии " Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="4DB19FC3416F5BCAE447AFA478A613E8" Name="InvFlag_OLD" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="F3BB97B84631D4D7E2E820B7E99EB945" Name="repaireFlag" Comment="Флаг вывода сигнала из опроса" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="AAB70E394299DDDE3964B592C01127A5" Name="repaireFlag_OLD" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="CA8576DB4B9FE35535B366971A5DC92C" Name="AlarmClass" Comment="Класс события (аварии)" Type="DINT" TypeUUID="AF9665534C6D5BDEF9AE77B026938B65" />
            <Field UUID="8C8BBB1D45456B23FBB76A945BE7321B" Name="AlarmMsg" Comment="Текст аварийного сообщения" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="561AFA024ED40D6298ACA3B1364F6BC6" Name="reliabilityField" Comment="Код признака недостоверности" Type="WORD" TypeUUID="05CD1AAB4891B30C004C2799CA460884" />
            <Field UUID="D39780EA431EE406BA8F92925894514B" Name="Name" Comment="Название сигнала" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="826BF20442D0A69F4AF33D86CDDEAF24" Name="CTmr" Comment="Время срабатывания (для 2х-битных сигналов, сек)" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" />
            <Field UUID="45825FEA47FB096EB3A5E39B375E3ADC" Name="FAULT_ON" Comment="Контролировать неисправность" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="1FB7893D40FD293D4D3637A3FE011258" Name="MaskMode" Comment="Режим подмены состояния" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="7845FF444D336021E214818C7E19166D" Name="MaskMode_OLD" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="1C9BA54244A8CFCB63806ABF78D44DF4" Name="Mask" Comment="Значение подмены" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="9DBE1B8D4741ACAA974BF9B4AF549B45" Name="Mask_OLD" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="518D9CA34D56168FB8E7A9BE3B2CB301" Name="ALM_CODE" Comment="Код неисправности" Type="UINT" TypeUUID="C50B45D04CDCD1FA8859FAB8CB6FC7EE" />
            <Field UUID="4D59F2B54125767688D9AA9450BE860C" Name="FAULT" Comment="Лампочка &quot;Неисправность&quot;" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="937566D34BE4F00EE020F0A24490E46A" Name="FAULT_ACK" Comment="Неисправность квитирована" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="23D5BFAB49CD26D185948EADC9A1A297" Name="VSTATUS" Comment="Групповой дисплей" Type="DWORD" TypeUUID="53CAB7E947643F098D755BB9A02688FA" />
            <Field UUID="84D530D74883504F22C6AE90573E6F41" Name="FAULT_RESET" Comment="Сброс неисправности" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="77362DC04D9B9B9F7E9B2789575BE60D" Name="FAULT_RESET_OLD" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="D4FCC2CE4FEE56187C218C93C7F4DA6C" Name="LATCH" Comment="Защелкивать вход (до сброса)" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="6F2B5E7046C45054D2D5C9ACF4CAE6F8" Name="LATCH_OLD" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="7C01FF9C48741381EAFA56A3CBB2F601" Name="AUTO_RESET" Comment="Автоуход неисправности (без сброса)" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="97AFBC904DED8181E79E9A8AEFC715F2" Name="FAULT_L_RESET" Comment="Внешний сброс неисправности" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="389D8D774762D663297508AF59315F1E" Name="QUAL_IN" Comment="Код качества для входа дискретного сигнала" Type="UINT" TypeUUID="C50B45D04CDCD1FA8859FAB8CB6FC7EE" />
            <Field UUID="EDCF8BD84594319DDC5C149EAAE0E5E8" Name="INPUT_FAULT" Comment="Внешний признак неисправности" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="5AC6A878406D6CF59C0211B314FEA44B" Name="I_IN" Comment="Сырое значение входного сигнала" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="3D6C845F4FA88A68EB8469B20CF3AEC8" Name="Q_IN_OLD" Comment="Запоминаем входное значение сигнала" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="0DBAEF01489495B84221B8BE2C32B80F" Name="ShiftTime" Comment="Сдвиг времени" Type="TIME" TypeUUID="3EFD49044E055B696F5570BA288FA8D5" />
            <Field UUID="709905984A7A43D8D8AF56BC7A6824DD" Name="error" Comment="Ошибка" Type="UINT" TypeUUID="C50B45D04CDCD1FA8859FAB8CB6FC7EE" />
            <Field UUID="48DB93F54E0BADCDF62E42935D84F0AB" Name="QUALITY_CODE" Comment="Код качества" Type="BYTE" TypeUUID="C3C10A82401AD741FA0AB89DDE8B5F30" />
            <Field UUID="28E4CE054E2A2DB5DB665A8C406251E2" Name="BLOCK_ALARM" Comment="Блокировка генерации АЛАРМов" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="43BE184F46DF40D6F12E7F86169F9EBF" Name="IDE" Comment="Индентификатор события" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="2A2032A34F9C22E9EBFD1884C2F288F4" Name="MNEMO" Comment="Мнемокадр" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="8F4221A846EA2FF3A16289830816C836" Name="ID" Comment="Уникальный идентификатор" Type="ULINT" TypeUUID="6C25F4AE48F2EE0928ED26A7E5C0D7ED" />
        </Struct>
        <Struct UUID="B0EC194E441587DB3736B4B2E60AAD18" Name="DO_Sonet" Comment="Выходной дискретный сигнал в контроллер Сонет от оператора">
            <Field UUID="E9EB6CE249ADBFF8C2B2EDB15AECBA2F" Name="Value" Comment="Текущее значение обработанного сигнала" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="4D10855249F826F31BFEB19E20576B3A" Name="dt" Comment="Время подачи последней команды" Type="DT" TypeUUID="8B0E0F77490C3D2B06233087F94C7C43" />
            <Field UUID="2EA7CC42436AAC56401059A875F3FBE3" Name="Comment" Comment="Текстовое описание сигнала " Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="426E27324A57CBAB1FB5B7B10EA2597D" Name="Txt_1" Comment="Текстовое описание значения 1" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="E3F094064E8BEE24FAC9DA8D11382E3B" Name="Txt_0" Comment="Текстовое описание значения 0" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="110D24A84EC2D8E202B7F5BA178E2809" Name="Source" Comment="Источник события (описание оборудования)" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="23116472417372CECDD9AC8D10C55394" Name="repaireFlag" Comment="Флаг вывода сигнала из обработки" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="8D92B91D4CB9A89617ED76BF6A79FD91" Name="reliabilityFlag" Comment="Флаг достоверности сигнала" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="B4555CF14CA661FE778FF5AD469B7974" Name="reliabilityField" Comment="код признака недостоверности" Type="WORD" TypeUUID="05CD1AAB4891B30C004C2799CA460884" />
            <Field UUID="B53AD03A411E17C459F9E2B31536CB61" Name="AlarmClass" Comment="Класс события (аварии)" Type="UINT" TypeUUID="C50B45D04CDCD1FA8859FAB8CB6FC7EE" />
            <Field UUID="30E8D5B64944CFBC8D7114B4FBF04C4A" Name="AlarmMsg" Comment="Текст сообщения" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="937C61A9481F07D749DA12A777E41EDE" Name="Fix_Con" Comment="Время фиксации выходного контакта в секундах. 0 - постоянная фиксация" Type="UINT" TypeUUID="C50B45D04CDCD1FA8859FAB8CB6FC7EE" />
            <Field UUID="C02C13C6468CC4620EA1A9960ED1606B" Name="cycle" Comment="Интервал обработки" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" />
            <Field UUID="9E1D56364FB3C631D0C0E884B13E3E94" Name="ID" Comment="ID уникального механизма" Type="ULINT" TypeUUID="6C25F4AE48F2EE0928ED26A7E5C0D7ED" />
            <Field UUID="0B8797524E156AF66E15F683F8048DD3" Name="QUAL_IN" Comment="Код качества для выхода дискретного сигнала" Type="UINT" TypeUUID="C50B45D04CDCD1FA8859FAB8CB6FC7EE" />
            <Field UUID="48FC46DF4047D0467CDAE4B49D09B454" Name="VSTATUS" Comment="Групповой дисплей" Type="BYTE" TypeUUID="C3C10A82401AD741FA0AB89DDE8B5F30" Size="4" Array="TRUE" />
            <Field UUID="93A716744CACF5C0A3581FA8AF55A27C" Name="VSTATUS_OLD" Type="BYTE" TypeUUID="C3C10A82401AD741FA0AB89DDE8B5F30" Size="4" Array="TRUE" />
            <Field UUID="CDD44423475A06A7927BE7A59557587E" Name="QUALITY_CODE" Type="BYTE" TypeUUID="C3C10A82401AD741FA0AB89DDE8B5F30" />
            <Field UUID="4F4ABC13441BDCDE69F020BD410B0499" Name="ALM_CODE" Comment="Код неисправности" Type="UINT" TypeUUID="C50B45D04CDCD1FA8859FAB8CB6FC7EE" />
            <Field UUID="F4C2C753427F25C07D5AE996E8152887" Name="ALM_CODE_OLD" Type="UINT" TypeUUID="C50B45D04CDCD1FA8859FAB8CB6FC7EE" />
            <Field UUID="D7C336924E006726D66C949E99D4D992" Name="INPUT_FAULT" Comment="Внешний признак неисправности" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="A16F79BF4742332AE3B06DBFB15D4F66" Name="FAULT_ON" Comment="Контролировать неисправность" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="30A11D0146DD3D0EC7C2CC9991EE0318" Name="FAULT" Comment="Неисправность" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="73E3798B4A19F654D2C526BC3E6A9B8C" Name="FAULT_RESET" Comment="Сброс неисправности" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="C14FBFB34D02752F25C152BA2B03BBED" Name="FAULT_L_RESET" Comment="Внешний сброс неисправности" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="21FE0283403D6201FECDA7ACB4C9E5F6" Name="MASK_MODE" Comment="Режим подмены состояния" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="EE78A7AD40769A8067E1A1830E3EC49C" Name="MASK" Comment="Значение подмены" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="987C04A24C955AF65978099EE764FDD7" Name="LATCH" Comment="Защелкивать вход (до сброса)" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="AD9A95A241093192EDB9E9916EC209F3" Name="AUTO_RESET" Comment="Автоуход неисправности (без сброса)" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="B78E24054D3DA20A0D44D78C88BECFD0" Name="FAULT_ACK" Comment="Неисправность квитирована" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="8C2B1B964E89EA5EAA92FDBA67DBB5E6" Name="IN" Comment="Вход" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="92B2FCEE47532F1B86352A820A6AF0AF" Name="INV_FLAG" Comment="Инверсия" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="B74FAF3F4FA15ED618F0288E9A94CAD5" Name="Value_OLD" Comment="Запоминаем состояние выхода" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="D49018FC4A03DA3FAA221493ECA927CE" Name="TIME_SHIFT" Comment="Часовой пояс" Type="TIME" TypeUUID="3EFD49044E055B696F5570BA288FA8D5" />
            <Field UUID="52B52C3E440520F113ED4498F49B69EC" Name="BLOCK_ALARM" Comment="Блокировка тревоги" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="19AFE832479EFFE16663F4A9A6A75971" Name="IDE" Comment="Идентификатор тревожного сообщения" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="D0171578416098D2326E97A8BE502E42" Name="MNEMO" Comment="Мнемокадр" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
        </Struct>
        <Struct UUID="7DADE51642BF2830A2BC7B864D06C75F" Name="EVENT_FAULT">
            <Field UUID="C23B9E404B2834908C5642863BC04F5B" Name="status" Type="UINT" TypeUUID="C50B45D04CDCD1FA8859FAB8CB6FC7EE" />
            <Field UUID="8A44E2394D219B9920E756B932548BE6" Name="FAULT" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="A15610CA4FDBF3369FD4DEAD81109752" Name="SOURCE" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="419F25F8417C6DA1D70B60BF92E6FEB8" Name="NAME" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="E9A90FE84CDDD33AE7F5259F398C1835" Name="FAULT_OLD" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
        </Struct>
        <Struct UUID="F7A4975D4B70B458CE78278D99BC23B2" Name="Ty_AnInput" Comment="Переменные состояния аналогового канала">
            <Field UUID="C01296574DB5909E8FF23CA2070BCAC5" Name="in" Comment="Текущее значение фильтруемой величины" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" />
            <Field UUID="DC628B0B472D2DA815885B9BB9011E3A" Name="out" Comment="Отфильтрованное значение" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" />
            <Field UUID="2BB78B974E1D71C790A03ABDDF6E3D95" Name="ti" Comment="Таймер задержки на восстановление канала после обрыва" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" />
            <Field UUID="B29492724607E98B2CA560A1DA936F0C" Name="inBrk" Comment="Признак недостоверности сигнала (входной)" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="89F818BF4E140DC69A84648A3FAC13F7" Name="outBrk" Comment="Признак недостоверности сигнала (выходной)" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="6C591D4644E5FEE195B79698E4D00596" Name="wasOk" Comment="Признак достоверности сигнала (внутренний)" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="F2E88FDE483136F12770DEBD2CB68382" Name="init" Comment="Признак инициализации (TRUE, если обработано хотя бы одно значение)" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
        </Struct>
    </DataTypes>
    <FBLibrary>
        <Folder Name="Библиотека" Comment="" Data="" UUID="AA6BB6704FCCEECEF3B89AB3ED99D024">
            <Function UUID="04F4DAE34B85166578DD8AAB034CD260" Name="CALC_1_CHAN" ResultTypeUUID="EC797BDD4541F500AD80A78F1F991834">
                <Variables>
                    <Variable UUID="2DB02A53480CD46050ADC6A951D7A7C4" Name="cycleTime" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="input" />
                    <Variable UUID="1EFC551A49580130E37637AA898C88F1" Name="tau" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="input" />
                    <Variable UUID="48C1D444492151AA688B5AA3C6FDB759" Name="tiBrk" Comment="Задержка на восстановление канала после обрыва" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="input" />
                    <Variable UUID="BC07388F46919EF99BDB4EB3F14192AC" Name="nan" Comment="Временная переменная для проверки входного значения на недостоверность" Type="DINT" TypeUUID="AF9665534C6D5BDEF9AE77B026938B65" Usage="internal" />
                    <Variable UUID="A20BF6D142B9E249A942489FF874E789" Name="OK" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="internal" />
                    <Variable UUID="A845CEB04FF9EC3DA518BF887389B552" Name="chan" Type="Ty_AnInput" TypeUUID="F7A4975D4B70B458CE78278D99BC23B2" Usage="inout" />
                </Variables>
                <ST><![CDATA[// ===============================================================================
// Функция обработки одного аналогового канала
// ===============================================================================
	chan.outBrk := true;
// проверка на недостоверное значение
	OK:= true;
	nan:= REAL_TO_DINT(CHAN.in);
	chan.inBrk:= chan.inBrk OR NOT OK;
// обработка входного признака недостоверности 
// реализация задержки на восстановление канала после обрыва
	if chan.inBrk then
		chan.ti:= 0.0;
	elsif chan.ti < tiBrk then
		chan.ti := chan.ti + cycleTime;
	elsif chan.ti < tiBrk + cycleTime then
		chan.ti := chan.ti + cycleTime;
		chan.out := chan.in;
	else
		chan.outBrk := false;
	end_if;

// фильтрация сигнала
	IF NOT chan.outBrk THEN
		IF NOT chan.init THEN
			chan.init := TRUE;
			chan.out  := chan.in;
		END_IF;
		chan.out := chan.out + (chan.in - chan.out) / tau * cycleTime;
	END_IF;

//CALC_1_CHAN := chan.out;]]></ST>
            </Function>
            <Function UUID="421E4282453693138AEA23ADE04C5C4C" Name="FC_Ai_Check" ResultTypeUUID="EC797BDD4541F500AD80A78F1F991834">
                <Variables>
                    <Variable UUID="BD12FF7E4F419A984434B996D7AF9E0C" Name="VSTATUS" Type="WORD" TypeUUID="05CD1AAB4891B30C004C2799CA460884" Size="2" Array="TRUE" Usage="input" />
                    <Variable UUID="6CD914C84CA2070412F2F2844E3FAC20" Name="UST_STATE" Type="WORD" TypeUUID="05CD1AAB4891B30C004C2799CA460884" Size="2" Array="TRUE" Usage="input" />
                    <Variable UUID="B74CC26E47723031463EDB8926A375AC" Name="TEXT" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" InitialValue="&apos;TEST&apos;" Usage="input" />
                    <Variable UUID="9B427A10471439C9C5A1D397DCAB364B" Name="TEXT2" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" InitialValue="&apos;FALSE&apos;" Usage="input" />
                    <Variable UUID="0F7DD1DF4A8B75C3F1EE3891626F64E6" Name="ShiftTime" Type="TIME" TypeUUID="3EFD49044E055B696F5570BA288FA8D5" Usage="input" />
                    <Variable UUID="4AF6AFF54C77A36A355361A8F0302239" Name="VSTATUS_OLD" Type="WORD" TypeUUID="05CD1AAB4891B30C004C2799CA460884" Size="2" Array="TRUE" Usage="inout" />
                    <Variable UUID="804720D0498355200CF022BA2813B171" Name="UST_STATE_OLD" Type="WORD" TypeUUID="05CD1AAB4891B30C004C2799CA460884" Size="2" Array="TRUE" Usage="inout" />
                    <Variable UUID="FC9E3EEB442A41D15E066B81EE1DD7E3" Name="TEXT1" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" InitialValue="&apos;FALSE&apos;" Usage="internal" />
                    <Variable UUID="E403A82A4B9771571C2A2B9902C11E51" Name="i" Type="INT" TypeUUID="47B58C4E4726C8B230965EBE77F1169E" Usage="internal" />
                    <Variable UUID="20C2B3874E47A564947B91A2FAE14BB4" Name="channel" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" Usage="input" />
                </Variables>
                <ST><![CDATA[//v20190730_1908_THINKPAD_Karia
IF NOT (VSTATUS = VSTATUS_OLD AND UST_STATE = UST_STATE_OLD)then
//i:= BOOL_TO_INT(EXTRACT(BYTE_TO_DWORD(AI.SNDRCV[0]),1));

	TEXT1:= channel + '  неисправен ';
	i:=BOOL_TO_INT(VSTATUS[0].6);
	CREATE_EVENT(TEXT1,  DINT#10100,  i, TEXT2, TEXT1, CURRENT_DATE_TIME() - ShiftTime, 'DIAGN')

	TEXT1:= TEXT + '  НЕДОСТОВЕРНОСТЬ ';
	i:=BOOL_TO_INT(VSTATUS[0].3);
	CREATE_EVENT(TEXT1,  DINT#29000,  i, TEXT2, TEXT1, CURRENT_DATE_TIME() - ShiftTime, 'USOGSU')
	//01
	TEXT1:= TEXT + ' Обрыв ан.датчика';
	i:=BOOL_TO_INT(VSTATUS[1].0);
	CREATE_EVENT(TEXT1,  DINT#10100,  i, TEXT2, TEXT1, CURRENT_DATE_TIME() - ShiftTime, 'USOGSU')
	//02
	TEXT1:= TEXT + ' КЗ ан.датчика';
	i:=BOOL_TO_INT(VSTATUS[0].7);
	CREATE_EVENT(TEXT1,  DINT#10100,  i, TEXT2, TEXT1, CURRENT_DATE_TIME() - ShiftTime, 'USOGSU')
	//03
	TEXT1:= TEXT + ' Зашкал вниз ан.датчика';
	i:=BOOL_TO_INT(VSTATUS[1].2);
	CREATE_EVENT(TEXT1,  DINT#10100,  i, TEXT2, TEXT1, CURRENT_DATE_TIME() - ShiftTime, 'USOGSU')
	//04
	TEXT1:= TEXT + ' Зашкал вверх ан.датчика';
	i:=BOOL_TO_INT(VSTATUS[1].3);
	CREATE_EVENT(TEXT1,  DINT#10100,  i, TEXT2, TEXT1, CURRENT_DATE_TIME() - ShiftTime, 'USOGSU')
	//05
	TEXT1:= TEXT + ' Ремонт ан.датчика';
	i:=BOOL_TO_INT(VSTATUS[1].1);
	CREATE_EVENT(TEXT1,  DINT#10100,  i, TEXT2, TEXT1, CURRENT_DATE_TIME() - ShiftTime, 'USOGSU')
	//06
	TEXT1:= TEXT + ' Подмена ан.датчика';
	i:=BOOL_TO_INT(VSTATUS[0].4);
	CREATE_EVENT(TEXT1,  DINT#10100,  i, TEXT2, TEXT1, CURRENT_DATE_TIME() - ShiftTime, 'USOGSU')
	//07
	TEXT1:= TEXT + ' ВАУ';
	i:=BOOL_TO_INT(UST_STATE[1].4);
	CREATE_EVENT(TEXT1,  DINT#10000,  i, TEXT2, TEXT1, CURRENT_DATE_TIME() - ShiftTime, 'USOGSU')
	//08
	TEXT1:= TEXT + ' ВПУ';
	i:=BOOL_TO_INT(UST_STATE[1].0);
	CREATE_EVENT(TEXT1,  DINT#10100,  i, TEXT2, TEXT1, CURRENT_DATE_TIME() - ShiftTime, 'USOGSU')
	//09
	TEXT1:= TEXT + ' НПУ';
	i:=BOOL_TO_INT(UST_STATE[0].4);
	CREATE_EVENT(TEXT1,  DINT#10100,  i, TEXT2, TEXT1, CURRENT_DATE_TIME() - ShiftTime, 'USOGSU')
	//10
	TEXT1:= TEXT + ' НАУ';
	i:=BOOL_TO_INT(UST_STATE[0].0);
	CREATE_EVENT(TEXT1,  DINT#10000,  i, TEXT2, TEXT1, CURRENT_DATE_TIME() - ShiftTime, 'USOGSU')
//AI.CHNG:=false;
	VSTATUS_OLD := VSTATUS;
	UST_STATE_OLD := UST_STATE;
END_IF;]]></ST>
            </Function>
            <Function UUID="08E0556844FD3DB339CD3ABA55CA7ADB" Name="FC_CHANNEL_FAULT" ResultTypeUUID="EC797BDD4541F500AD80A78F1F991834">
                <Variables>
                    <Variable UUID="7EDB90154895D2B339EF8CB09D6F78AC" Name="CAT" Type="DINT" TypeUUID="AF9665534C6D5BDEF9AE77B026938B65" Usage="input" />
                    <Variable UUID="4762F3DD4B9D870933323DA99A05967F" Name="RF" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="13367362414C25C405902288F6997152" Name="TEXT" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" Usage="input" />
                    <Variable UUID="8483AC504AD00BDE875223B2885A54CB" Name="TEXT2" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" Usage="input" />
                    <Variable UUID="8DA32D8144E18218A08A89B16B5AE67C" Name="ShiftTime" Type="TIME" TypeUUID="3EFD49044E055B696F5570BA288FA8D5" Usage="input" />
                    <Variable UUID="242BBA1D40E49B2C5BA91EB536FE83F2" Name="TEXT1" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" Usage="internal" />
                    <Variable UUID="15B8878A4E2C9EFA967244B36460C2BE" Name="i" Type="INT" TypeUUID="47B58C4E4726C8B230965EBE77F1169E" Usage="internal" />
                    <Variable UUID="E475EE704E0122B53FBE8CA084424E36" Name="RF_OLD" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="inout" />
                </Variables>
                <ST><![CDATA[IF  RF_OLD <> RF  THEN
	TEXT1:=  TEXT + DINT_TO_STRING(CAT);
	i:=BOOL_TO_INT(RF);
	CREATE_EVENT(TEXT + '   НЕИСПРАВЕН',  CAT,  i, TEXT2, TEXT1, CURRENT_DATE_TIME() - ShiftTime, 'USOGSU')
	//CREATE_EVENT(channel + '  НЕИСПРАВЕН',  DINT#10100,  i, TEXT2, TEXT1, CURRENT_DATE_TIME() - ShiftTime, 'KTP8516')
	//RF_OLD:= RF;
END_IF;]]></ST>
            </Function>
            <Function UUID="E7183F4C4D83155210EF7C8E2FC03BC6" Name="FC_DI_FAULT" ResultTypeUUID="EC797BDD4541F500AD80A78F1F991834">
                <Variables>
                    <Variable UUID="12796EB44DC9E0A03B35D397E4F15EF4" Name="CAT" Type="DINT" TypeUUID="AF9665534C6D5BDEF9AE77B026938B65" Usage="input" />
                    <Variable UUID="5081C6F945487E8E7A90EB839A5A3931" Name="RF" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="6F876957428064A6776F3DA9700473D0" Name="TEXT" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" Usage="input" />
                    <Variable UUID="B5BBE9FD473125BC633E80B1C4AFC7F5" Name="TEXT2" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" Usage="input" />
                    <Variable UUID="5A43B4574EB3120D7865F888A914FE90" Name="ShiftTime" Type="TIME" TypeUUID="3EFD49044E055B696F5570BA288FA8D5" Usage="input" />
                    <Variable UUID="7350BD6F4D4B2817285AE189B90164DE" Name="TEXT1" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" Usage="internal" />
                    <Variable UUID="A89A4BE045525220B938D2A44E6C5B65" Name="i" Type="INT" TypeUUID="47B58C4E4726C8B230965EBE77F1169E" Usage="internal" />
                    <Variable UUID="12E31DB14D3D8CF227A11AA1BFA5E095" Name="RF_OLD" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="inout" />
                    <Variable UUID="C1BA9C0E452A7D51EFCBD9BBD8B7F5B3" Name="channel" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" Usage="input" />
                </Variables>
                <ST><![CDATA[//v20190523_0946_THINKPAD_SM

IF  RF_OLD <> RF  THEN

	TEXT1:=  TEXT2 + TEXT + DINT_TO_STRING(CAT);

	i:=BOOL_TO_INT(RF);

	CREATE_EVENT(TEXT + '   НЕДОСТОВЕРНОСТЬ',  CAT,  i, TEXT2, TEXT1, CURRENT_DATE_TIME() - ShiftTime, 'KTP8516');

	//CREATE_EVENT(channel + '  НЕИСПРАВЕЕЕЕЕЕЕЕЕЕЕЕЕЕЕЕЕН',  DINT#10100,  i, TEXT2, TEXT1, CURRENT_DATE_TIME() - ShiftTime, 'KTP8516');

	//RF_OLD:= RF;

END_IF;]]></ST>
            </Function>
            <Function UUID="0D3DF9DA4E9E2CAE313AFD9CF71C1FF1" Name="FC_DO_FAULT_CHANNEL" ResultTypeUUID="EC797BDD4541F500AD80A78F1F991834">
                <Variables>
                    <Variable UUID="D98021344F3B59FE65DAEFAC8353BB25" Name="CAT" Type="DINT" TypeUUID="AF9665534C6D5BDEF9AE77B026938B65" Usage="input" />
                    <Variable UUID="AFF2AFFF43B2EA467ED9738926A77C0E" Name="RF" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="480E3F9248DF6BA3DD78D3A8466F059D" Name="TEXT" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" Usage="input" />
                    <Variable UUID="527AD07942E7E5FCEB87AD81D5F1CA8E" Name="TEXT2" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" Usage="input" />
                    <Variable UUID="73E884F74F67AAED6D8108B0B530A62E" Name="ShiftTime" Type="TIME" TypeUUID="3EFD49044E055B696F5570BA288FA8D5" Usage="input" />
                    <Variable UUID="1C29CE5E4965C9AEC52D0EB1A773F1FD" Name="TEXT1" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" Usage="internal" />
                    <Variable UUID="66892F5B4B2F34C7BE522E918273CE52" Name="i" Type="INT" TypeUUID="47B58C4E4726C8B230965EBE77F1169E" Usage="internal" />
                    <Variable UUID="F972267C4FAE068493F33CBAE43CCA26" Name="RF_OLD" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="inout" />
                    <Variable UUID="A443840F450BD3FDDB910FB932558146" Name="channel" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" Usage="input" />
                </Variables>
                <ST><![CDATA[IF  RF_OLD <> RF  THEN

	TEXT1:=  TEXT2 + TEXT + DINT_TO_STRING(CAT);

	i:=BOOL_TO_INT(RF);

	CREATE_EVENT(TEXT + '   НЕИСПРАВЕН',  CAT,  i, TEXT2, TEXT1, CURRENT_DATE_TIME() - ShiftTime, 'KTP8516');

	//CREATE_EVENT(channel + '  НЕИСПРАВЕЕЕЕЕЕЕЕЕЕЕЕЕЕЕЕЕН',  DINT#10100,  i, TEXT2, TEXT1, CURRENT_DATE_TIME() - ShiftTime, 'KTP8516');

	RF_OLD:= RF;

END_IF;]]></ST>
            </Function>
            <Function UUID="E80D2BBF4B183C2B4DC35A823DCB02FD" Name="FC_Dio_Check" ResultTypeUUID="EC797BDD4541F500AD80A78F1F991834">
                <Variables>
                    <Variable UUID="23DC329948974B91C83B719115D8C6DF" Name="CAT" Type="DINT" TypeUUID="AF9665534C6D5BDEF9AE77B026938B65" Usage="input" />
                    <Variable UUID="9034216446AB135D4F4A668E92769605" Name="DIO" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="DCAD78A64143E0AEBB2BAD9FF3A4C053" Name="TEXT" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" InitialValue="&apos;TEST&apos;" Usage="input" />
                    <Variable UUID="4F9D22E5436AFC5E9D46778C7EFDD2FE" Name="TEXT2" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" Usage="input" />
                    <Variable UUID="2356B8744B683BB309B10685AEB319B5" Name="ShiftTime" Type="TIME" TypeUUID="3EFD49044E055B696F5570BA288FA8D5" Usage="input" />
                    <Variable UUID="DFD6061740F79578184790B1FDDCBCAE" Name="DCFGIO" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="inout" />
                    <Variable UUID="D91E5F1241312ACE186C689A844A8772" Name="TEXT1" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" InitialValue="&apos;FALSE&apos;" Usage="internal" />
                    <Variable UUID="08A33F30424EE1A2D94895902EC38BB1" Name="i" Type="INT" TypeUUID="47B58C4E4726C8B230965EBE77F1169E" Usage="internal" />
                </Variables>
                <ST><![CDATA[//v20190523_0946_THINKPAD_SM
IF DCFGIO <> DIO THEN
	TEXT1:=  TEXT2 + TEXT + DINT_TO_STRING(CAT);
	i:=BOOL_TO_INT(DIO);
	CREATE_EVENT(TEXT,  CAT,  i, TEXT2, TEXT1, CURRENT_DATE_TIME() - ShiftTime, 'USOGSU')
	DCFGIO:=DIO;
END_IF;]]></ST>
            </Function>
            <Function UUID="55FFFE4A477ACE4E21FE0F98DAC70ECE" Name="FC_FAULT_CHECK" ResultTypeUUID="EC797BDD4541F500AD80A78F1F991834">
                <Variables>
                    <Variable UUID="DC1DE4BB47219CAE27B642A7ED0B8A03" Name="FAULT" Type="EVENT_FAULT" TypeUUID="7DADE51642BF2830A2BC7B864D06C75F" Usage="inout" />
                </Variables>
                <ST><![CDATA[IF FAULT.status <> UINT#0 THEN
   FAULT.FAULT := TRUE;
ELSE 
   FAULT.FAULT := FALSE;
END_IF;



FC_SLOT_FAULT(CAT := DINT#10100,
			  STATUS := FAULT.FAULT,
			  STATUS_OLD := FAULT.FAULT_OLD,
			  TEXT := FAULT.NAME,
			  TEXT2 := FAULT.SOURCE,
			  ShiftTime := ShiftTime)


FAULT.FAULT_OLD := FAULT.FAULT;
]]></ST>
            </Function>
            <Function UUID="2BA61CEB4CED0866D514BEB40C367EAA" Name="FC_SLOT_FAULT" ResultTypeUUID="EC797BDD4541F500AD80A78F1F991834">
                <Variables>
                    <Variable UUID="17107B0640C8487EC86E79AB5B894122" Name="CAT" Type="DINT" TypeUUID="AF9665534C6D5BDEF9AE77B026938B65" Usage="input" />
                    <Variable UUID="04687C33459E7D17F05E7295BC39281F" Name="STATUS" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="1DD953634352AC0DC494FCBB461954D9" Name="TEXT" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" Usage="input" />
                    <Variable UUID="0C376D3E4395AEA73A60D6822201BD02" Name="TEXT2" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" Usage="input" />
                    <Variable UUID="91040FFE484F31D018F559A197DEEF5A" Name="i" Type="INT" TypeUUID="47B58C4E4726C8B230965EBE77F1169E" Usage="internal" />
                    <Variable UUID="40B64E1B467A190227B3E1AC324ACA26" Name="TEXT1" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" Usage="internal" />
                    <Variable UUID="874E08E04050CE69E5E38E9AB5108DA6" Name="STATUS_OLD" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="FCA78E1C47CBE98DA5C0419482F84041" Name="ShiftTime" Type="TIME" TypeUUID="3EFD49044E055B696F5570BA288FA8D5" Usage="input" />
                </Variables>
                <ST><![CDATA[IF STATUS_OLD <> STATUS  THEN
	TEXT1:=  TEXT2 + TEXT + DINT_TO_STRING(CAT);
	i:= BOOL_TO_INT(STATUS);
	CREATE_EVENT(TEXT,  CAT,  i, TEXT2, TEXT1, CURRENT_DATE_TIME() - ShiftTime, 'DAIGN')
	STATUS_OLD := STATUS;
END_IF;]]></ST>
            </Function>
            <Function UUID="99FEB3644C96ABABDB0A17B35D325B7A" Name="FC_V_DGI" ResultTypeUUID="EC797BDD4541F500AD80A78F1F991834">
                <Variables>
                    <Variable UUID="EE2AED5847CD688FCB972B8E035B9231" Name="CHANNEL" Type="DI_Sonet" TypeUUID="F934805349B6CB0BACBF59A331394F4B" Usage="inout" />
                </Variables>
                <ST><![CDATA[//Сброс неисправности
	IF CHANNEL.FAULT_RESET OR CHANNEL.FAULT_L_RESET THEN 
		CHANNEL.ALM_CODE := UINT#0;
		CHANNEL.FAULT_RESET := FALSE;
		CHANNEL.FAULT_L_RESET := FALSE;
		CHANNEL.Value := FALSE; //Сброс защелки
	END_IF;
  
	IF CHANNEL.AUTO_RESET THEN CHANNEL.ALM_CODE := UINT#0; CHANNEL.FAULT_RESET := FALSE; CHANNEL.FAULT_L_RESET := FALSE; END_IF;
  
	IF CHANNEL.QUAL_IN <> UINT#0 OR CHANNEL.INPUT_FAULT THEN CHANNEL.ALM_CODE := UINT#1;
	ELSE CHANNEL.ALM_CODE := UINT#0;
	END_IF; //Ошибка по коду качества
  
  //Определение неисправности выключено
	IF NOT CHANNEL.FAULT_ON THEN CHANNEL.ALM_CODE := UINT#0; END_IF;
  
 	IF CHANNEL.MaskMode THEN 
  //если в режиме маскирования
		CHANNEL.ALM_CODE := UINT#0;
		CHANNEL.I_IN := CHANNEL.Mask;
	END_IF;
  
  //Выставляем бит неисправности
	CHANNEL.FAULT := CHANNEL.ALM_CODE <> UINT#0;
	CHANNEL.reliabilityFlag := NOT CHANNEL.FAULT;
	(*IF CHANNEL.ALM_CODE <> UINT#0 THEN
	   CHANNEL.reliabilityFlag := FALSE;
								  ELSE
	   CHANNEL.reliabilityFlag := TRUE;
	END_IF;*)


//Инвертирование
	IF CHANNEL.InvFlag THEN
		CHANNEL.I_IN := NOT CHANNEL.I_IN;
	END_IF;
  
  //Выход
	IF CHANNEL.LATCH THEN CHANNEL.Value := CHANNEL.Value OR CHANNEL.I_IN; ELSE CHANNEL.Value := CHANNEL.I_IN; END_IF;
//--------------------< Формирование VSTATUS >----------------------
CHANNEL.VSTATUS := DWORD#0;
IF CHANNEL.Value THEN CHANNEL.VSTATUS.0 := TRUE; END_IF;
IF CHANNEL.FAULT AND CHANNEL.FAULT_ACK THEN 
	CHANNEL.VSTATUS.4 := TRUE;
ELSIF CHANNEL.FAULT AND NOT CHANNEL.FAULT_ACK THEN 
	CHANNEL.VSTATUS.5 := TRUE;
END_IF;
IF CHANNEL.MaskMode THEN CHANNEL.VSTATUS.12 := TRUE; END_IF;

FC_Dio_Check(CAT := CHANNEL.AlarmClass
			,DIO := CHANNEL.Value
			,DCFGIO := CHANNEL.Q_IN_OLD
			,TEXT := CHANNEL.Name
			,TEXT2 := CHANNEL.Source
			,ShiftTime := CHANNEL.ShiftTime);

FC_DI_FAULT(CAT := DINT#29000,
			RF := CHANNEL.FAULT,
			RF_OLD := CHANNEL.reliabilityFlag_OLD,
			TEXT := CHANNEL.Name,
			TEXT2 := CHANNEL.Source,
			ShiftTime := CHANNEL.ShiftTime,
			channel := CHANNEL.Comment);

FC_CHANNEL_FAULT(CAT := DINT#10100,
				 RF := CHANNEL.FAULT,
				 RF_OLD := CHANNEL.reliabilityFlag_OLD,
				 TEXT2 := CHANNEL.Source,
				 ShiftTime := CHANNEL.ShiftTime
				 TEXT := CHANNEL.Comment); 


//Звонок при возникновении неисправности
//IF (error=0)AND(ALM_CODE<>0)AND(RING_F_EN)AND NOT BELL_BLOCK THEN M[RING_ADDRESS,RING_F_1STBIT]:=1; END_IF;
CHANNEL.error := CHANNEL.ALM_CODE;
//Звонок при срабатывании дискретного сигнала
//IF ((INV_ON XOR Q_IN_OLD)=0)AND(INV_ON XOR Q_IN)AND(RING_S_EN)AND NOT BELL_BLOCK THEN M[RING_ADDRESS,RING_S_1STBIT]:=1; END_IF;
CHANNEL.Q_IN_OLD := CHANNEL.Value;



CHANNEL.reliabilityFlag_OLD := CHANNEL.FAULT;]]></ST>
            </Function>
            <Function UUID="C08D84DF4C08D797D45B56A1D8F6F4AF" Name="FC_V_DGO" ResultTypeUUID="EC797BDD4541F500AD80A78F1F991834">
                <Variables>
                    <Variable UUID="8A6394514CFCA697562BFBA81E72C07B" Name="CHANNEL" Type="DO_Sonet" TypeUUID="B0EC194E441587DB3736B4B2E60AAD18" Usage="inout" />
                </Variables>
                <ST><![CDATA[//---------------------------< Кодовая часть >----------------------
//Сброс неисправности
	IF CHANNEL.FAULT_RESET OR CHANNEL.FAULT_L_RESET THEN 
		CHANNEL.ALM_CODE := UINT#0;
		CHANNEL.FAULT_RESET := FALSE;
		CHANNEL.FAULT_L_RESET := FALSE;
		CHANNEL.Value := FALSE; //Сброс защелки
	END_IF;

//Определение неисправности
	IF CHANNEL.QUAL_IN <> UINT#0 OR CHANNEL.INPUT_FAULT THEN CHANNEL.ALM_CODE := UINT#1;
	ELSE
		CHANNEL.ALM_CODE := UINT#0;
    END_IF; //Ошибка по коду качества
//Определение неисправности выключено
	IF NOT CHANNEL.FAULT_ON THEN CHANNEL.ALM_CODE := UINT#0; END_IF;
//Автосброс неисправности
	IF CHANNEL.AUTO_RESET THEN CHANNEL.ALM_CODE := UINT#0; CHANNEL.FAULT_RESET := FALSE; CHANNEL.FAULT_L_RESET := FALSE; END_IF;
  
 	IF CHANNEL.MASK_MODE THEN 
  //если в режиме маскирования
		CHANNEL.ALM_CODE := UINT#0;
		CHANNEL.Value := CHANNEL.MASK;
	END_IF;


  //Выставляем бит неисправности
	CHANNEL.FAULT := CHANNEL.ALM_CODE <> UINT#0;
	CHANNEL.reliabilityFlag := NOT CHANNEL.FAULT;
  
  //Выход
//	IF CHANNEL.LATCH THEN CHANNEL.Value := CHANNEL.Value OR CHANNEL.IN; ELSE CHANNEL.Value := CHANNEL.IN; END_IF;
//Инвертирование
	IF CHANNEL.INV_FLAG THEN
		CHANNEL.Value := NOT CHANNEL.Value;
	END_IF;


//--------------------< Формирование VSTATUS >----------------------
CHANNEL.VSTATUS[0] := BYTE#0;
CHANNEL.VSTATUS[1] := BYTE#0;
CHANNEL.VSTATUS[2] := BYTE#0;
CHANNEL.VSTATUS[3] := BYTE#0;
IF CHANNEL.Value THEN CHANNEL.VSTATUS[0].0 := TRUE; END_IF;
IF CHANNEL.FAULT AND CHANNEL.FAULT_ACK THEN 
	CHANNEL.VSTATUS[0].4 := TRUE;
ELSIF CHANNEL.FAULT AND NOT CHANNEL.FAULT_ACK THEN 
	CHANNEL.VSTATUS[0].5 := TRUE;
END_IF;
IF CHANNEL.MASK_MODE THEN CHANNEL.VSTATUS[1].4 := TRUE; END_IF;

//--------------------< Формирование ALARM >----------------------
//Сообщение по дискретному сигналу
IF CHANNEL.Value <> CHANNEL.Value_OLD AND NOT CHANNEL.BLOCK_ALARM THEN
	CREATE_EVENT(CHANNEL.Comment
				,DINT#101
				,BOOL_TO_INT(CHANNEL.Value)
				,CHANNEL.Source
				,CHANNEL.IDE
				,CURRENT_DATE_TIME() - CHANNEL.TIME_SHIFT
				,'TAG')
	CHANNEL.Value_OLD := CHANNEL.Value;
END_IF;
//

//Сигнализация "Неисправность дискретного выхода"
IF CHANNEL.ALM_CODE <> CHANNEL.ALM_CODE_OLD AND NOT CHANNEL.BLOCK_ALARM THEN
	CREATE_EVENT(CHANNEL.Txt_0 + '. НЕИСПРАВНОСТЬ'
				,DINT#10100
				,BOOL_TO_INT(CHANNEL.ALM_CODE <> UINT#0)
				,CHANNEL.Source
				,CHANNEL.IDE
				,CURRENT_DATE_TIME() - CHANNEL.TIME_SHIFT
				,'TAG')
	CHANNEL.ALM_CODE_OLD := CHANNEL.ALM_CODE;
END_IF;

FC_DO_FAULT_CHANNEL(CAT := DINT#10100,
					 RF := CHANNEL.FAULT,
				 	RF_OLD := CHANNEL.repaireFlag,
				 	TEXT2 := CHANNEL.Source,
				 	//ShiftTime := CHANNEL.ShiftTime,
				 	TEXT := CHANNEL.Comment); 

CHANNEL.repaireFlag := CHANNEL.FAULT;
FC_V_DGO := CHANNEL.Value;]]></ST>
            </Function>
            <FunctionBlock UUID="1F762D914290BA071C5A899D77EAC5E9" Name="FILTR_1_CHAN" Comment="Функция обработки одного аналогового канала">
                <Variables>
                    <Variable UUID="AE722DFF413830E2FB899D9ED0C17FB1" Name="cycleTime" Comment="Интервал обработки" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="input" />
                    <Variable UUID="F2BE20504D009140C5E5B093C1A5FEB4" Name="tau" Comment="Постоянная времени фильтрации" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="input" />
                    <Variable UUID="B8B881DE48AF7314D21408BE480ACEA8" Name="tiBrk" Comment="Задержка на восстановление канала после обрыва" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="input" />
                    <Variable UUID="730B86C84ED1C317C9C9C4983BDFEB81" Name="chan" Type="Ty_AnInput" TypeUUID="F7A4975D4B70B458CE78278D99BC23B2" Usage="inout" />
                    <Variable UUID="50934B3446D8855BDC8518B89FC2768C" Name="nan" Comment="Временная переменная для проверки входного значения на недостоверность" Type="DINT" TypeUUID="AF9665534C6D5BDEF9AE77B026938B65" Usage="internal" />
                    <Variable UUID="E2E49E84400DBD4CC738A899C720A541" Name="OK" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="internal" />
                </Variables>
                <ST><![CDATA[// ===============================================================================
// Функция обработки одного аналогового канала
// ===============================================================================
	chan.outBrk := true;
// проверка на недостоверное значение
	OK := true;
	nan := REAL_TO_DINT(chan.in);
	chan.inBrk := chan.inBrk OR NOT OK;
// обработка входного признака недостоверности 
// реализация задержки на восстановление канала после обрыва
	IF chan.inBrk THEN
		chan.ti := 0.0;
	ELSIF chan.ti < tiBrk THEN
		chan.ti := chan.ti + cycleTime;
	ELSIF chan.ti < tiBrk + cycleTime THEN
		chan.ti  := chan.ti + cycleTime;
		chan.out := chan.in;
	ELSE
		chan.outBrk := FALSE;
	END_IF;
// фильтрация сигнала
	IF NOT chan.outBrk THEN
		IF NOT chan.init THEN
			chan.init := TRUE;
			chan.out  := chan.in;
		END_IF;
		chan.out := chan.out + (chan.in - chan.out) / tau * cycleTime;
	END_IF;

]]></ST>
            </FunctionBlock>
            <Function UUID="5646E430468C61FE97A237ADC42BD5EB" Name="REAL_TO_REAL" Comment="функция, осуществляющая линейное преобразование сигнала к заданному диапазону" ResultTypeUUID="42E054C8453789BBDD3594B53BDC7DE5">
                <Variables>
                    <Variable UUID="A585F0FF4076E44B444A2F810DB7D55E" Name="IN" Comment="Входная величина" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="input" />
                    <Variable UUID="F904FA3A40AC92353A243290F191A2DE" Name="X1" Comment="первая (нижняя) точка входного диапазона" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="input" />
                    <Variable UUID="06E8B16A49A02BFCB56A40AB0621E376" Name="Y1" Comment="первая (нижняя) точка выходного диапазона" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="input" />
                    <Variable UUID="45F5BD3E4198FE30B56A038EAD0E603F" Name="X2" Comment="вторая (нижняя) точка входного диапазона" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="input" />
                    <Variable UUID="9691B92C47493C7AFD09A989892E68C4" Name="Y2" Comment="вторая (нижняя) точка выходного диапазона" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="input" />
                    <Variable UUID="FD086F4D48149F867B231EB73B78E3B0" Name="A" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="internal" />
                    <Variable UUID="1E3472774EEF5A708E757B8268EAC8AE" Name="B" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="internal" />
                </Variables>
                <ST><![CDATA[  A  := (Y2 - Y1)/(X2 - X1);
  B  := (X2 * Y1 - X1 * Y2) / (X2 - X1);
  // расчет выходного сигнала
  REAL_TO_REAL := A * IN + B;
]]></ST>
            </Function>
            <FunctionBlock UUID="F270F8224363670D924B1DBC1AB19D14" Name="SENSOR_FB" Comment="Датчик с внутренним определением уставок">
                <Variables>
                    <Variable UUID="989B055B46361D9E664B7DB16882E491" Name="cycleTime" Comment="Интервал обработки" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="input" />
                    <Variable UUID="8CE2B473443A260879AA52AADF636C15" Name="ID" Comment="ID уникального датчика" Type="INT" TypeUUID="47B58C4E4726C8B230965EBE77F1169E" Usage="input" />
                    <Variable UUID="D977420E44E41A63C9F5149C8CED9425" Name="INPUT" Comment="Сырое значение" Type="DINT" TypeUUID="AF9665534C6D5BDEF9AE77B026938B65" Usage="input" />
                    <Variable UUID="CA7086CD480C25A17728B8B5C13B9450" Name="QUALITY" Comment="Код качества канала" Type="UINT" TypeUUID="C50B45D04CDCD1FA8859FAB8CB6FC7EE" Usage="input" />
                    <Variable UUID="F5D41B904DA642BA7B28E4A5D7CB7823" Name="QUALITY_BLOCK" Comment="Статус модуля" Type="UINT" TypeUUID="C50B45D04CDCD1FA8859FAB8CB6FC7EE" Usage="input" />
                    <Variable UUID="B7D78E7E4B6951C746F5258E38CE7B25" Name="F_INPUT" Comment="Числовое значение" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="input" />
                    <Variable UUID="7A4BE59247B3F4FF1DE313B9838D692B" Name="INPUT_FAULT" Comment="Внешний признак неисправности датчика" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="A2BC2EF449FA3A4E567E8EB19A1D9C8D" Name="FAULT_LAG" Comment="Задержка определения неисправности" Type="TIME" TypeUUID="3EFD49044E055B696F5570BA288FA8D5" Usage="input" />
                    <Variable UUID="ED37CE5C40E9867CBB6E31B797055EB3" Name="S_TYPE" Comment="Тип, прошивка" Type="WORD" TypeUUID="05CD1AAB4891B30C004C2799CA460884" Usage="input" />
                    <Variable UUID="71C4167F4D662E597493F1A060311ADC" Name="CL_SD_TEMP" Comment="Climatic - 1, Standart-0 диапазон температуры" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="CED8A8C9414B46F005AF6F9402CDF064" Name="SQR_ON" Comment="Квадратичная шкала" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="2E5B93A84145626F204F58AE5B0ED6A8" Name="REVERSE_ON" Comment="Обратная шкала" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="AD42EE4143A123817AC813B13A491630" Name="EXCEPT_EN" Comment="Возможность исключения (ремонта)" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="5C03A4AE4C983BCCF126C0B640754B61" Name="EXCEPT_FAULT" Comment="Исключать (выводить в ремонт) при неисправности" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="38F4ED9F41E7153C466867A0E804100A" Name="TESTING_ON" Comment="Поверка" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="D0FEEADC4819FCE72906579BE459C300" Name="SUBST_ON" Comment="Подмена" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="4F549BD54BB1B8BA54AC40BB9C072305" Name="SUBST_EN" Comment="Возможность подмены" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="9FF0F2164B51DB90D0A9E1BB342CF3B2" Name="LL_SETP" Comment="Уставка НАУ" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="input" />
                    <Variable UUID="72FD87CB4E1876DE8DC1FDA85BACCA9F" Name="L_SETP" Comment="Уставка НПУ" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="input" />
                    <Variable UUID="47DB62DB4363B950E27602A80FC0D191" Name="H_SETP" Comment="Уставка ВПУ" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="input" />
                    <Variable UUID="07B0472D4331E6E6DF4DA0A79F36160D" Name="HH_SETP" Comment="Уставка ВАУ" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="input" />
                    <Variable UUID="A16D5CB14752376BE7642B92F7A215DA" Name="LL_LAG" Comment="Задержка НАУ" Type="TIME" TypeUUID="3EFD49044E055B696F5570BA288FA8D5" Usage="input" />
                    <Variable UUID="10B78E364BA0BEE7955290ABACCC4494" Name="L_LAG" Comment="Задержка НПУ" Type="TIME" TypeUUID="3EFD49044E055B696F5570BA288FA8D5" Usage="input" />
                    <Variable UUID="EC4226AF42DEEC6FF357BDAC97023D7A" Name="H_LAG" Comment="Задержка ВПУ" Type="TIME" TypeUUID="3EFD49044E055B696F5570BA288FA8D5" Usage="input" />
                    <Variable UUID="A2532B4A445A2496B1EC06834E2257BE" Name="HH_LAG" Comment="Задержка ВАУ" Type="TIME" TypeUUID="3EFD49044E055B696F5570BA288FA8D5" Usage="input" />
                    <Variable UUID="17ADCF1E4EC6D798F81B0486EC9E5094" Name="LL_ON" Comment="Включено НАУ" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="EBF512C24090C2519D9D62934CEF229F" Name="L_ON" Comment="Включено НПУ" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="4001670B4223023C877AF98D34190654" Name="H_ON" Comment="Включено ВПУ" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="A2E01E3146B7157C562E32938DA0FFC4" Name="HH_ON" Comment="Включено ВАУ" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="6F5BE6D04CC77240741A50B01870FED6" Name="INV_ON" Comment="Разрешено определение НЗ" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="6056CF374FD2B3EC13CFA09ED94DF709" Name="FAULT_ON" Comment="Разрешено определение неисправности" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="F56ABB0D438A4064437D32A8EC27CB9D" Name="LL_ACT" Comment="Введено НАУ" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="36D320744B546F50B67B3181ECA0E6AA" Name="L_ACT" Comment="Введено НПУ" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="A222FCEF466882A7C7FE3A8D29D41DAD" Name="H_ACT" Comment="Введено ВПУ" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="303288C94670A70B88D953A9B781E811" Name="HH_ACT" Comment="Введено ВАУ" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="A30362754E0F88490CFD57A07EA91DC4" Name="FAULT_ACT" Comment="Введено определение неисправности" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="E5456C1448EF2A537CC4E191A2D89E11" Name="FAULT_L_RESET" Comment="Введено определение неисправности" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="99357ED3485BDEB899B4B08E333A4A8F" Name="Filtr_ON" Comment="Разрешение фильтра" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="51CC10AF466EA498D85E44BE732DC412" Name="T_Filtr" Comment="Постоянная времени фильтра" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="input" />
                    <Variable UUID="57C17B64468745117FEF609B31668A28" Name="SUBSTIT" Comment="Значение подмены" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="input" />
                    <Variable UUID="D6E51F7A4C30327DC4D512A088BD8513" Name="LO_LIM" Comment="Нижний предел" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="input" />
                    <Variable UUID="492AF389491A0741F39B0B9A1B87CF44" Name="HI_LIM" Comment="Верхний предел" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="input" />
                    <Variable UUID="72BCE349468D8EA18159A9B08E8A5339" Name="sensorInpMin" Comment="Нижний предел датчика" Type="DINT" TypeUUID="AF9665534C6D5BDEF9AE77B026938B65" Usage="input" />
                    <Variable UUID="4D4F0716418618759873AEB548CD3E26" Name="sensorInpMax" Comment="Верхний предел датчика" Type="DINT" TypeUUID="AF9665534C6D5BDEF9AE77B026938B65" Usage="input" />
                    <Variable UUID="43E7549D4B830A7187DD3FB678421864" Name="HYST" Comment="Гистерезис" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="input" />
                    <Variable UUID="C8416273480D436B6889C9B0233CF565" Name="INV_SETP" Comment="Уставка НЗ" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="input" />
                    <Variable UUID="AB530A5243990BC31492DF8D693FBD41" Name="COMPENSATOR" Comment="Коэфф. Компенсации" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="input" />
                    <Variable UUID="DF7B6CE94320E5347AC9A696A18A17BB" Name="EXCEPT_ON" Comment="Исключен (Ремонт)" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="3D58787A4928520B6FB6CE87F6DBC2B2" Name="BELL_BLOCK" Comment="Блокировка звуковой и световой сигнализации" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="8749CAAE4C40BC8AAAF8849023FA9270" Name="RSP" Comment="СКАДА: 1 - RSP, 0 - WINCC" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="09FDFEE24230C81B88938B97EF0B6E65" Name="AUTO_RESET" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="598E8447437E83DA37B342A01492A1E9" Name="OUTPUT" Comment="Значение" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="output" />
                    <Variable UUID="138356704AB1638682048DAD4F96289B" Name="OUTPUT_FREE" Comment="Значение без учета подмен, фильтров и неисправностей" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="output" />
                    <Variable UUID="E7271AF84F8AB9DE58CED6A5BEAF4CE0" Name="OUTPUT_P" Comment="Значение в процентах" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="output" />
                    <Variable UUID="845285344B2D6A03469A86989135E3A3" Name="Q_SUBST_ON" Comment="Подмена" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="output" />
                    <Variable UUID="06FBBD4A407813729895A4A7E4BB77A2" Name="EXCEPTED" Comment="Исключен (в ремонте)" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="output" />
                    <Variable UUID="FC7384AC4FFC2A8EA1F69C88719AA627" Name="FAULT" Comment="Неисправность" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="output" />
                    <Variable UUID="B35E9B014C72BF4AD76F9CA9A0ECC8FF" Name="ALM_CODE" Comment="Код неисправности" Type="INT" TypeUUID="47B58C4E4726C8B230965EBE77F1169E" Usage="output" />
                    <Variable UUID="7F143A644C80A793E1937996B2CE78E9" Name="FAULT_ACK" Comment="Неисправность квитирована" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="output" />
                    <Variable UUID="AEFB17104C5515D5D96C0791E9364FD5" Name="FAULT_CUR" Comment="Неисправность текущая" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="output" />
                    <Variable UUID="DF740D73490C021AD0DED5B240FA988B" Name="VSTATUS" Comment="Групповой дисплей" Type="WORD" TypeUUID="05CD1AAB4891B30C004C2799CA460884" Size="2" Array="TRUE" Usage="output" />
                    <Variable UUID="812DF6EF4C228FBEDE31D587C6A3F400" Name="Q_LL" Comment="Срабатывание НАУ" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="output" />
                    <Variable UUID="8FEC832640D336AB9EA2B5A9E8D5E2FB" Name="Q_L" Comment="Срабатывание НПУ" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="output" />
                    <Variable UUID="CF600CDB4C06A0450F2F5BA5F223D00E" Name="Q_H" Comment="Срабатывание ВПУ" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="output" />
                    <Variable UUID="5E39E1B14E33615EBC00838A51D842DD" Name="Q_HH" Comment="Срабатывание ВАУ" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="output" />
                    <Variable UUID="77E9E4CD4D1BBDBE8492918CC665635F" Name="Q_OVL" Comment="Зашкал вниз" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="output" />
                    <Variable UUID="AB38F3C64D172DC05232A0878F7016C2" Name="Q_OVH" Comment="Зашкал вверх" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="output" />
                    <Variable UUID="7EA1A38445A1215E817BB6AC1FEA2BEF" Name="Q_LO_LIM" Comment="Нижний предел" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="output" />
                    <Variable UUID="1CFF53B54CB505710C6EC6B01CD7069B" Name="Q_HI_LIM" Comment="Верхний предел" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="output" />
                    <Variable UUID="F22A46C243115BCCEF42E9897D248E68" Name="Q_LL_SETP" Comment="Уставка НАУ" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="output" />
                    <Variable UUID="161D41E3461D29B917C835B0F50BBB76" Name="Q_L_SETP" Comment="Уставка НПУ" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="output" />
                    <Variable UUID="26E7DE2D415FD90EF69F46AFD2FFB1F8" Name="Q_H_SETP" Comment="Уставка ВПУ" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="output" />
                    <Variable UUID="DBCD0AA849B31783BB3A1B823724DA14" Name="Q_HH_SETP" Comment="Уставка ВАУ" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="output" />
                    <Variable UUID="DB8A6FEF49FC79D1AAAEA9AEDF8878A1" Name="ALARM_STATE" Comment="Состояние сигнализации" Type="WORD" TypeUUID="05CD1AAB4891B30C004C2799CA460884" Size="2" Array="TRUE" Usage="output" />
                    <Variable UUID="1718E94642E883537B0DDB87FE81ACCF" Name="QLL_EV" Comment="Код события НАУ" Type="INT" TypeUUID="47B58C4E4726C8B230965EBE77F1169E" Usage="output" />
                    <Variable UUID="FE6B9A2A4444A406AE2A0CA394056836" Name="QL_EV" Comment="Код события НПУ" Type="INT" TypeUUID="47B58C4E4726C8B230965EBE77F1169E" Usage="output" />
                    <Variable UUID="0E781F6F420717BDC3DDEE880E688AA3" Name="QH_EV" Comment="Код события ВПУ" Type="INT" TypeUUID="47B58C4E4726C8B230965EBE77F1169E" Usage="output" />
                    <Variable UUID="BBE256794665FB7C79BA0887CB4E51F9" Name="QHH_EV" Comment="Код события ВАУ" Type="INT" TypeUUID="47B58C4E4726C8B230965EBE77F1169E" Usage="output" />
                    <Variable UUID="16EA217C46FBC2DE3AF9568BAC834DA4" Name="QFAIL_EV" Comment="Код события неисправности" Type="INT" TypeUUID="47B58C4E4726C8B230965EBE77F1169E" Usage="output" />
                    <Variable UUID="158D59C5479FC9213FE365B00D87A846" Name="QALERT_EV" Comment="Код суммарного события" Type="INT" TypeUUID="47B58C4E4726C8B230965EBE77F1169E" Usage="output" />
                    <Variable UUID="3A68B9F5490FB2C2728F068861E8923E" Name="UST_STATE" Comment="Слово ввода уставок" Type="WORD" TypeUUID="05CD1AAB4891B30C004C2799CA460884" Size="2" Array="TRUE" Usage="output" />
                    <Variable UUID="F1C50D704C092C049EC3C6B3F0A3AD87" Name="UST_ACKN" Comment="Уставка квитирована" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="output" />
                    <Variable UUID="98DFAD5F4A96FF59AE0028AFF371963A" Name="FAULT_RESET" Comment="Сброс неисправности" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="inout" />
                    <Variable UUID="C60A5AF0438E466883494888D9C20F02" Name="ACKN_STATE" Comment="Команда на квитирование. 0 - ВПУ; 1 - НПУ; 2 - ВАУ; 3 - НАУ; 4 - неисправность" Type="WORD" TypeUUID="05CD1AAB4891B30C004C2799CA460884" Usage="inout" />
                    <Variable UUID="EACD04FB4A3CC58866D3D7A953E5380A" Name="CMD_ACKN" Comment="Квитирование событий с ВУ (с фейсплейта)" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="inout" />
                    <Variable UUID="CFD7065040808A8D83F6E3851617E265" Name="H_TIM" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="internal" />
                    <Variable UUID="FAE5369C4DAE6689920A3594E267D651" Name="HH_TIM" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="internal" />
                    <Variable UUID="A2F126224AD16B863C3871BEB0B90FC5" Name="L_TIM" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="internal" />
                    <Variable UUID="9CD1D2E34B43F21110F946AB2ECE53FF" Name="LL_TIM" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="internal" />
                    <Variable UUID="6D788BB54223F2EBD37610B1B9F68DC6" Name="S_OUTPUT" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="internal" />
                    <Variable UUID="EA7D41E54113D70AEEECDE8677E0ADF5" Name="cur_max" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="internal" />
                    <Variable UUID="1A5DE5B14FEDDCFD93BB5E9EDD0C8345" Name="cur_min" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" Usage="internal" />
                    <Variable UUID="DB1B38CC4F515764A49BAF90E69228E9" Name="act_err" Type="WORD" TypeUUID="05CD1AAB4891B30C004C2799CA460884" Size="2" Array="TRUE" Usage="internal" />
                    <Variable UUID="EE519A904F7CC42E5ED582B4AA2DD012" Name="FILTR" Type="FILTR_1_CHAN" TypeUUID="1F762D914290BA071C5A899D77EAC5E9" Usage="internal" />
                    <Variable UUID="0DE7498A4AE45806A16C2CAC6086307A" Name="error" Type="INT" TypeUUID="47B58C4E4726C8B230965EBE77F1169E" Usage="internal" />
                    <Variable UUID="BCB9D4BA42D3FE6E191701AA80EAC95D" Name="Filtr_ON_old" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="internal" />
                    <Variable UUID="3D85326E477F8340251586B38C9EE9C6" Name="pr_L_ACKN" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="internal" />
                    <Variable UUID="B1B39B8D4640DEBF89308BA1059B8A0D" Name="pr_LL_ACKN" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="internal" />
                    <Variable UUID="6FB8978B4E9D7CD3AD7783939EDE50CF" Name="pr_H_ACKN" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="internal" />
                    <Variable UUID="2C3A190343841D7616EFD28FC052CF57" Name="pr_HH_ACKN" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="internal" />
                    <Variable UUID="CC05B84C444458AB3AE7C2BE7D7A0365" Name="pr_FAIL_ACKN" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="internal" />
                    <Variable UUID="A9C4672B484178BCB7ABBF9D9BB90335" Name="pr_FAULT" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="internal" />
                    <Variable UUID="085EA2FA4D484050C078A68AF3841191" Name="pr_H_ACT" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="internal" />
                    <Variable UUID="FB7813854160E38FFD2E5FAA17C8B58E" Name="pr_HH_ACT" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="internal" />
                    <Variable UUID="82BB4C9F475A3E583219308473B580C0" Name="pr_Q_LL" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="internal" />
                    <Variable UUID="5C6CBF4240E6144C791BEA9CAE2C911E" Name="pr_Q_L" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="internal" />
                    <Variable UUID="135438C04376FB6BCF83B6B11559F3CA" Name="pr_Q_H" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="internal" />
                    <Variable UUID="1502458C4A78147A65038AB9FE02029F" Name="pr_Q_HH" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="internal" />
                    <Variable UUID="2180484D421B947A6424F7AD2319CE7A" Name="pr_EXCEPTED" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="internal" />
                    <Variable UUID="36C592D94C32EA37E952A7B178AD5864" Name="pr_L_ACT" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="internal" />
                    <Variable UUID="BD9DCE7E4DF2DD3AC7C417866472CB60" Name="pr_LL_ACT" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="internal" />
                    <Variable UUID="E19B75B34D882B3B125444B16277BC2B" Name="pr_FAULT_ACT" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="internal" />
                    <Variable UUID="50700F82466C14351524C09EF3F3249A" Name="CODE_BOUND" Comment="уставки/зашкалы" Type="WORD" TypeUUID="05CD1AAB4891B30C004C2799CA460884" Usage="internal" />
                    <Variable UUID="E58C90F14A44E0625256A0B88C4266F6" Name="CODE_STATE" Comment="состояние датчика" Type="WORD" TypeUUID="05CD1AAB4891B30C004C2799CA460884" Usage="internal" />
                    <Variable UUID="7FBBDF4143A69460BFBE46B3D1D795D3" Name="temp_int" Type="INT" TypeUUID="47B58C4E4726C8B230965EBE77F1169E" Usage="internal" />
                    <Variable UUID="6272EA504BEE1ED9BAAFC0B627BF3DB1" Name="S_Q_H" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="internal" />
                    <Variable UUID="69A326A449CBAB44F66D47A5F8095B66" Name="S_Q_HH" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="internal" />
                    <Variable UUID="3176DC3F482CA1C2B900669BEAF31310" Name="S_Q_L" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="internal" />
                    <Variable UUID="BBD0538B438DDE4130C46DA958089A6D" Name="S_Q_LL" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="internal" />
                    <Variable UUID="3EA68B014E0E7B966A51A5AC7EDF72D7" Name="NotOkValue" Comment="Блок выдает значение кодирующее ошибку" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="internal" />
                    <Variable UUID="A04118F44714C146108879BC2C1781E3" Name="TP1" Comment="Переменные для масштабирования" Type="DINT" TypeUUID="AF9665534C6D5BDEF9AE77B026938B65" Usage="internal" />
                    <Variable UUID="193076FD412284984E904AA3C768B927" Name="TP2" Comment="Переменные для масштабирования" Type="DINT" TypeUUID="AF9665534C6D5BDEF9AE77B026938B65" Usage="internal" />
                    <Variable UUID="08C77D32442365ECAD66A6A208AE170D" Name="INPUT_DINT" Comment="Переменные для масштабирования" Type="DINT" TypeUUID="AF9665534C6D5BDEF9AE77B026938B65" Usage="internal" />
                    <Variable UUID="AB140F074A637BB0E39047AF28855355" Name="DELAY_FAULT" Type="TON" TypeUUID="EAA43B6B4DCDCEA72AB748B4554FD2AD" Usage="internal" />
                    <Variable UUID="3A3FF3BE44CA0A1D31BFDABBE384D69A" Name="evPar" Type="Ty_AnInput" TypeUUID="F7A4975D4B70B458CE78278D99BC23B2" Usage="internal" />
                    <Variable UUID="869AEB8146048AC6DB6336AF95B33E3C" Name="DELAY_LL" Type="TON" TypeUUID="EAA43B6B4DCDCEA72AB748B4554FD2AD" Usage="internal" />
                    <Variable UUID="0B2D7D1748CB868D70EADEB06EFBE903" Name="DELAY_L" Type="TON" TypeUUID="EAA43B6B4DCDCEA72AB748B4554FD2AD" Usage="internal" />
                    <Variable UUID="AAD3DA63476CA6100E81AEB4154DB877" Name="DELAY_H" Type="TON" TypeUUID="EAA43B6B4DCDCEA72AB748B4554FD2AD" Usage="internal" />
                    <Variable UUID="76DBAD4A41993F882F5700B970F05D33" Name="DELAY_HH" Type="TON" TypeUUID="EAA43B6B4DCDCEA72AB748B4554FD2AD" Usage="internal" />
                </Variables>
                <ST><![CDATA[//Выход пределов измерения и уставок
	Q_LO_LIM	:= LO_LIM;
	Q_HI_LIM	:= HI_LIM;
	Q_LL_SETP	:= LL_SETP;
	Q_L_SETP	:= L_SETP;
	Q_H_SETP	:= H_SETP;
	Q_HH_SETP	:= HH_SETP;
	IF RSP THEN
		//IF GLOBAL.TOTAL_ACKN THEN 
		//	ACKN_STATE := WORD#16#1F;
		//END_IF;  
	//Сброс неисправности
  		IF CMD_ACKN OR ACKN_STATE.4 OR FAULT_RESET OR FAULT_L_RESET THEN 
	//IF FAULT_ACK THEN
			act_err[0] := WORD#16#0;
			act_err[1] := WORD#16#0;
		END_IF;
	ELSE 
	//Сброс неисправности
		IF FAULT_RESET OR FAULT_L_RESET OR AUTO_RESET(* OR GLOBAL.TOTAL_ACKN*) THEN 
			act_err[0] := WORD#16#0;
			act_err[1] := WORD#16#0;
			ALM_CODE := 0; 
		END_IF;
	END_IF; 
	ALM_CODE := 0;
  
  //Если канал подключен к модулям ввода-вывода
  //IF (CANAL_TYPE = W#16#0010)OR(CANAL_TYPE=W#16#0011)OR(CANAL_TYPE=W#16#0012) THEN
	IF QUALITY_BLOCK <> UINT#0 THEN ALM_CODE := 2; END_IF; //Неисправность блока
	IF QUALITY <> UINT#0 THEN ALM_CODE := 1; END_IF; //Неисправность датчика/канала
	TP1 := DINT#0;
	TP2 := DINT#27648;
	IF QUALITY = UINT#8 OR INPUT > DINT#62000 THEN ALM_CODE := 3; OUTPUT := HI_LIM; END_IF; //КЗ
	IF QUALITY = UINT#4 OR (INPUT < DINT#11915 AND QUALITY <> UINT#2) THEN ALM_CODE := 4; OUTPUT := LO_LIM; END_IF; //Обрыв
//---------------------------------------Масштабирование--------------------------------------------
	IF (sensorInpMin = DINT#0) AND (sensorInpMax = DINT#0) THEN 
		S_OUTPUT := DINT_TO_REAL(INPUT);
	ELSIF (sensorInpMin = DINT#1) AND (sensorInpMax = DINT#0) THEN 
		S_OUTPUT := DINT_TO_REAL(INPUT)/10.0;
	ELSIF (sensorInpMin = DINT#2) AND (sensorInpMax = DINT#0) THEN 
		S_OUTPUT := DINT_TO_REAL(INPUT)/100.0;
	ELSE 
		S_OUTPUT := LO_LIM + (HI_LIM - LO_LIM) * (DINT_TO_REAL(INPUT) - DINT_TO_REAL(sensorInpMin))/DINT_TO_REAL(sensorInpMax - sensorInpMin);
	END_IF;
//Анализ кодов неисправностей
	IF (QUALITY <> UINT#0) OR (ALM_CODE <> 0) OR INPUT_FAULT THEN
		IF ALM_CODE = 1 OR ALM_CODE = 3 OR ALM_CODE = 4 THEN act_err[0].0 := TRUE; END_IF; //Неисправность датчика
		IF ALM_CODE = 1 THEN act_err[0].7 := TRUE; END_IF; //Неисправность датчика
		IF ALM_CODE = 2 THEN act_err[0].1 := TRUE; END_IF; //Неисправность блока
		IF ALM_CODE = 3 THEN act_err[0].2 := TRUE; END_IF; //Короткое замыкание
		IF ALM_CODE = 4 THEN act_err[0].3 := TRUE; END_IF; //Обрыв
		IF ALM_CODE = 5 THEN act_err[0].4 := TRUE; END_IF; //Недостоверный замер
		IF ALM_CODE = 6 THEN act_err[0].5 := TRUE; END_IF; //Несоответствие градуировки
		IF ALM_CODE = 7 THEN act_err[0].6 := TRUE; END_IF; //Нет обновления данных
		IF ALM_CODE = 8 THEN act_err[0].7 := TRUE; END_IF; //
	END_IF;
//Внешний признак неисправности датчика
	IF INPUT_FAULT THEN 
		ALM_CODE := 1; 
		act_err[0].1 := TRUE; 
	END_IF;
  
  // Числовое значение
	IF S_TYPE =WORD#16#C000  THEN
		S_OUTPUT := F_INPUT;
		IF QUALITY <> UINT#0 THEN ALM_CODE := 7; act_err[0].6 := TRUE; END_IF;
	END_IF;        
 
	NotOkValue:=False; 
	IF ALM_CODE <> 0 THEN NotOkValue := TRUE; END_IF;
	FAULT_CUR := NotOkValue;
  
  //Востанавливаем код ошибки
	IF act_err[0].0 THEN ALM_CODE := 1; END_IF;
	IF act_err[0].1 THEN ALM_CODE := 2; END_IF;
	IF act_err[0].2 THEN ALM_CODE := 3; END_IF;
	IF act_err[0].3 THEN ALM_CODE := 4; END_IF;
	IF act_err[0].4 THEN ALM_CODE := 5; END_IF;
	IF act_err[0].5 THEN ALM_CODE := 6; END_IF;
	IF act_err[0].7 THEN ALM_CODE := 8; END_IF;
  
	IF NOT FAULT_ON OR EXCEPT_ON OR NOT FAULT_ACT THEN  //неисправность не разрешена
		act_err[0] := WORD#16#0;
		act_err[1] := WORD#16#0;
		ALM_CODE := 0;
	END_IF;
   
  //Выставляем бит неисправности
	DELAY_FAULT(IN := ALM_CODE <> 0
			   ,PT := FAULT_LAG);
	FAULT := DELAY_FAULT.Q;
 //блокируем ошибку до отработки таймера
	IF NOT FAULT THEN 
		ALM_CODE := 0; 
		act_err[0] := WORD#16#0;
		act_err[1] := WORD#16#0;
	END_IF;
  
  //Обработка значения
  //обратная шкала
	IF REVERSE_ON THEN S_OUTPUT := HI_LIM - S_OUTPUT + LO_LIM; END_IF;
  //квадратичная обработка
	IF SQR_ON THEN 
		IF ((S_OUTPUT - LO_LIM) * (HI_LIM - LO_LIM)) > 0.0 THEN  
			S_OUTPUT := LO_LIM + SQRT((S_OUTPUT - LO_LIM) * (HI_LIM - LO_LIM));
		ELSE
			S_OUTPUT := LO_LIM - SQRT(ABS((S_OUTPUT - LO_LIM) * (HI_LIM - LO_LIM)));
       END_IF;
	END_IF;
  //компенсация
	S_OUTPUT := S_OUTPUT + COMPENSATOR;
  
  //выходное значение без учета подмены, фильтров и неисправностей
	OUTPUT_FREE := S_OUTPUT;
  
  //Фильтрация 
	IF Filtr_ON THEN 
		IF Filtr_ON_old THEN
			evPar.in := S_OUTPUT;
			evPar.inBrk := FAULT;
			CALC_1_CHAN(cycleTime 	:= cycleTime // IN: REAL
					   ,tau			:= T_Filtr  // IN: REAL
					   ,tiBrk		:= 0.5 // IN: REAL
            		   ,chan 		:= evPar // IN: REAL
					   );
			S_OUTPUT := evPar.out;
		ELSE
			evPar.in := S_OUTPUT;
			evPar.inBrk := FAULT;
			CALC_1_CHAN(cycleTime 	:= cycleTime // IN: REAL
					   ,tau			:= T_Filtr  // IN: REAL
					   ,tiBrk		:= 0.5 // IN: REAL
            		   ,chan 		:= evPar // IN: REAL
					   );
			S_OUTPUT := evPar.out;
		END_IF;
	END_IF;
	Filtr_ON_old := Filtr_ON;
  
  //Обнуляем значение при неисправности по пределам.
	IF S_TYPE <> WORD#16#C000  THEN
		IF ALM_CODE<>1 THEN
			IF NotOkValue OR FAULT THEN S_OUTPUT := OUTPUT; END_IF;
		END_IF;
	END_IF;
  //Подмена
	IF NOT SUBST_EN THEN SUBST_ON := FALSE; END_IF;
	IF SUBST_ON THEN
		IF SUBST_ON AND NOT Q_SUBST_ON THEN
			SUBSTIT := S_OUTPUT;
			act_err[0] := WORD#16#0;
			act_err[1] := WORD#16#0;
			ALM_CODE := 0;
			FAULT := FALSE;
		ELSE
			S_OUTPUT := SUBSTIT; 
			act_err[0] := WORD#16#0;
			act_err[1] := WORD#16#0;
			ALM_CODE := 0;
			FAULT := FALSE;
		END_IF;
	ELSE
		SUBSTIT := S_OUTPUT;
	END_IF;
	Q_SUBST_ON := SUBST_ON;
  
    // Обработка уставок
    //Запоминаем уставки для формирования сигнализации
	S_Q_H := Q_H; S_Q_HH := Q_HH; S_Q_L := Q_L; S_Q_LL := Q_LL;
    //Уход уставок
    //Уход уставок с гестерезисом
	IF (S_OUTPUT < (HH_SETP - HYST)) THEN Q_HH := FALSE; END_IF;
	IF (S_OUTPUT < (H_SETP - HYST)) THEN Q_H := FALSE; END_IF;
	IF (S_OUTPUT > (L_SETP + HYST)) THEN Q_L := FALSE; END_IF;
	IF (S_OUTPUT > (LL_SETP + HYST)) THEN Q_LL := FALSE; END_IF;
    //Срабатывание уставок
	IF NOT EXCEPT_ON AND ALM_CODE = 0 THEN
     //H
		DELAY_H(IN := S_OUTPUT > H_SETP, PT := H_LAG);
		IF H_ON AND H_ACT AND DELAY_H.Q THEN Q_H := TRUE; END_IF;
     //HH
		DELAY_HH(IN := S_OUTPUT > HH_SETP, PT := HH_LAG);
		IF HH_ON AND HH_ACT AND DELAY_HH.Q THEN Q_HH := TRUE; END_IF;
     //L
		DELAY_L(IN := S_OUTPUT < L_SETP, PT := L_LAG);
		IF L_ON AND L_ACT AND DELAY_L.Q THEN Q_L := TRUE; END_IF;
     //LL
		DELAY_LL(IN := S_OUTPUT < LL_SETP, PT := LL_LAG);
		IF LL_ON AND LL_ACT AND DELAY_LL.Q THEN Q_LL := TRUE; END_IF;
    END_IF;
    
    //Исключение
	IF NOT EXCEPT_EN THEN EXCEPT_ON := FALSE; END_IF;
	IF ALM_CODE <> 0 AND EXCEPT_EN AND EXCEPT_FAULT THEN EXCEPT_ON := TRUE; END_IF;
    
    //Сброс флагов уставок, если точка исключена или неисправна
	IF EXCEPT_ON OR ALM_CODE <> 0 THEN
		Q_LL := FALSE;
		Q_L  := FALSE;
		Q_H  := FALSE;
		Q_HH := FALSE;
	END_IF;
    //Сброс флагов уставок, если они выключены/не введены
    IF NOT LL_ON OR NOT LL_ACT THEN Q_LL := FALSE; END_IF;
    IF NOT L_ON OR NOT L_ACT THEN Q_L := FALSE; END_IF;
    IF NOT H_ON OR NOT H_ACT THEN Q_H := FALSE; END_IF;
    IF NOT HH_ON OR NOT HH_ACT THEN Q_HH := FALSE; END_IF;
  
    //Максимальное/минимальное значение при выходе за уставку (для RSP)
    IF (Q_HH OR Q_H) AND (S_OUTPUT > cur_max) THEN cur_max := S_OUTPUT; END_IF; 
    IF (Q_LL OR Q_L) AND (S_OUTPUT < cur_min) THEN cur_min := S_OUTPUT; END_IF;
    
    //для сигнализации
    //IF Q_L OR Q_H    THEN SENSOR_PRED_UST := 1; END_IF;
    //IF Q_LL OR Q_HH  THEN SENSOR_AVAR_UST := 1; END_IF;
//**************************************************************************************
//Секция сообщений
//**************************************************************************************
    //*****************************************************************************
    // Запись событий сигнализации
    //*****************************************************************************
	IF (Q_HH AND NOT pr_Q_HH OR Q_H AND NOT pr_Q_H OR Q_L AND NOT pr_Q_L OR Q_LL AND NOT pr_Q_LL) AND UST_ACKN OR
		NOT (Q_HH OR Q_H OR Q_L OR Q_LL) AND UST_ACKN THEN 
		UST_ACKN := FALSE;
	END_IF;
(*
	IF (NOT Q_HH AND pr_Q_HH OR NOT Q_H AND NOT Q_H OR NOT Q_L AND pr_Q_L OR NOT Q_LL AND pr_Q_LL) AND UST_ACKN THEN 
		UST_ACKN := FALSE;
	END_IF;
*)
	IF CMD_ACKN AND (Q_HH OR Q_H OR Q_L OR Q_LL) AND NOT UST_ACKN THEN 
		UST_ACKN := TRUE;
	END_IF;
    // Квитирование событий по датчику с ВУ (faceplate)
    IF CMD_ACKN OR FAULT_RESET THEN
        ACKN_STATE := WORD#16#1F;
//        CMD_ACKN := FALSE;
    END_IF;

    // Общее квитировани сигнализации
//    IF GLOBAL.SIGNAL_SBROS THEN
//        ACKN_STATE := W#16#0F;
//    END_IF;
    // Обнуление слова команд квитирования системы алармов
	ACKN_STATE := WORD#16#0;

Q_OVL := OUTPUT_FREE < LO_LIM - (HI_LIM - LO_LIM) * 0.02 AND NOT Q_SUBST_ON;
Q_OVH := OUTPUT_FREE > HI_LIM + (HI_LIM - LO_LIM) * 0.02 AND NOT Q_SUBST_ON;
    //*****************************************************************************
    // Формирование слова состояния ввода уставок
    //*****************************************************************************
	UST_STATE[0] := WORD#16#0;
	UST_STATE[1] := WORD#16#0;
	IF Q_LL 			THEN UST_STATE[0].0 	:= TRUE; END_IF;
	IF Q_L 				THEN UST_STATE[0].4 	:= TRUE; END_IF;
	IF Q_H 				THEN UST_STATE[1].0 	:= TRUE; END_IF;
	IF Q_HH 			THEN UST_STATE[1].4 	:= TRUE; END_IF;
	IF LL_ON AND LL_ACT THEN UST_STATE[0].1		:= TRUE; END_IF;
	IF L_ON  AND L_ACT  THEN UST_STATE[0].5 	:= TRUE; END_IF;
	IF H_ON  AND H_ACT  THEN UST_STATE[1].1 	:= TRUE; END_IF;
	IF HH_ON AND HH_ACT THEN UST_STATE[1].5 	:= TRUE; END_IF;


    // Обобщённая сигнализация
//    IF (Q_H AND NOT pr_Q_H) OR (Q_L AND NOT pr_Q_L) THEN g_WarnSoundOnCmd := 1; END_IF;
//    IF (Q_HH AND NOT pr_Q_HH) OR (Q_LL AND NOT pr_Q_LL) THEN g_AlarmSoundOnCmd := 1; END_IF;

//    IF Q_H OR Q_L THEN g_CurrentWarning := 1; END_IF;
//    IF Q_HH OR Q_LL THEN g_CurrentAlarm := 1; END_IF;

//    IF L_EV.NOT_ACKN OR H_EV.NOT_ACKN THEN g_NotAcknoledgedWarning := 1; END_IF;
//    IF LL_EV.NOT_ACKN OR HH_EV.NOT_ACKN THEN g_NotAcknoledgedAlarm := 1; END_IF;



    // Инициализация максимального и минимального значения
    IF NOT Q_HH AND NOT Q_H THEN cur_max := -999999.0; END_IF;
    IF NOT Q_LL AND NOT Q_L THEN cur_min :=  999999.0; END_IF;

    // Неисправность с признаком квитирования
    VSTATUS[0] := WORD#16#0;
	VSTATUS[1] := WORD#16#0;
	IF FAULT THEN VSTATUS[0].0 := TRUE; END_IF; 
//	FAULT_ACK := FAIL_EV.ACKNOLEDGED;
    IF FAULT AND FAULT_ACK THEN 
        VSTATUS[0].1 := TRUE;
    ELSIF FAULT AND NOT FAULT_ACK THEN 
        VSTATUS[0].2 := TRUE;
    END_IF;



	IF act_err[0].0 THEN VSTATUS[0].3	:= TRUE; END_IF; //Отрыв модуля
	IF Q_SUBST_ON 	THEN VSTATUS[0].4	:= TRUE; END_IF; //Подмена
	IF FAULT        THEN VSTATUS[0].5	:= TRUE; END_IF; //Отказ датчика
	IF act_err[0].7	THEN VSTATUS[0].6	:= TRUE; END_IF; //Отказ канала
	IF ALM_CODE = 3	THEN VSTATUS[0].7	:= TRUE; END_IF; //Короткое замыкание
	IF ALM_CODE = 4	THEN VSTATUS[1].0	:= TRUE; END_IF; //Обрыв
	IF EXCEPTED     THEN VSTATUS[1].1	:= TRUE; END_IF; //Исключен/ремонт
	IF Q_OVL		THEN VSTATUS[1].2	:= TRUE; END_IF; //Зашкал вниз
	IF Q_OVH		THEN VSTATUS[1].3	:= TRUE; END_IF; //Зашкал вверх
   
    //Сохранение предыдущих состояний
    pr_FAULT     := FAULT;
    pr_H_ACT     := H_ACT;
    pr_HH_ACT    := HH_ACT;
    pr_Q_LL      := Q_LL;
    pr_Q_L       := Q_L;
    pr_Q_H       := Q_H;
    pr_Q_HH      := Q_HH;
    EXCEPTED	 := EXCEPT_ON;
    pr_EXCEPTED  := EXCEPTED;
    pr_L_ACT     := L_ACT;
    pr_LL_ACT    := LL_ACT;
    pr_FAULT_ACT := FAULT_ACT;
 //   pr_LL_ACKN   := LL_EV.acknoledged;
//    pr_L_ACKN    := L_EV.acknoledged;
//    pr_HH_ACKN   := HH_EV.acknoledged;
//    pr_H_ACKN    := H_EV.acknoledged;
//    pr_FAULT_ACT := FAIL_EV.acknoledged;
    //*****************************************************************************


FAULT_RESET := FALSE; FAULT_L_RESET := FALSE;

//Выход
OUTPUT := S_OUTPUT;
//выходное значение в процентах
OUTPUT_P := 100.0 * ABS((OUTPUT - LO_LIM)/(HI_LIM - LO_LIM));
error := ALM_CODE;
(*
//Звонок при возникновении неисправности
IF (error=0)AND(ALM_CODE<>0) AND NOT BELL_BLOCK THEN M[RING_ADDRESS,RING_1STBIT+2]:=1; END_IF;
error:=ALM_CODE;      

// Установка признаков новой аварии и предупреждения в маркерной области.
IF ((NOT S_Q_H AND Q_H) OR (NOT S_Q_L AND Q_L)) AND NOT BELL_BLOCK THEN M[RING_ADDRESS,RING_1STBIT]:=true;
END_IF;
IF ((NOT S_Q_HH AND Q_HH) OR (NOT S_Q_LL AND Q_LL)) AND NOT BELL_BLOCK THEN M[RING_ADDRESS,RING_1STBIT+1]:=true;
END_IF;
*)

CODE_STATE := WORD#16#0;
IF Q_SUBST_ON   THEN CODE_STATE.1 := TRUE; END_IF; //Подмена
IF FAULT        THEN CODE_STATE.2 := TRUE; END_IF; //Отказ датчика
IF EXCEPTED     THEN CODE_STATE.0 := TRUE; END_IF; //Исключен/ремонт

CODE_BOUND := WORD#16#0;
IF Q_L      THEN CODE_BOUND.0 := TRUE; END_IF;
IF Q_LL     THEN CODE_BOUND.1 := TRUE; END_IF;
IF Q_OVL    THEN CODE_BOUND.2 := TRUE; END_IF;
IF Q_H      THEN CODE_BOUND.3 := TRUE; END_IF;
IF Q_HH     THEN CODE_BOUND.4 := TRUE; END_IF;
IF Q_OVH    THEN CODE_BOUND.5 := TRUE; END_IF;]]></ST>
            </FunctionBlock>
        </Folder>
        <Folder Name="Обработка" Comment="" Data="" UUID="861683D5443AF15430BB90B7D7FDB2A5">
            <FunctionBlock UUID="5620D41A4BA2C7C81F28FD938568E9A8" Name="ALG_DI_USOGSU">
                <Variables>
                    <Variable UUID="1195C1C14DC0C8A204370F94878BA30E" Name="CurTime" Type="LREAL" TypeUUID="65F1DDD44EDA9C0776BB16BBDFE36B1F" Usage="internal" />
                    <Variable UUID="4CBB488943FE2146125A2B836479DE43" Name="oldCurTime" Type="LREAL" TypeUUID="65F1DDD44EDA9C0776BB16BBDFE36B1F" Usage="internal" />
                    <Variable UUID="A0FBA14E4833FD353CD1178ACAAEA2D5" Name="TMR_BLK_ON" Type="TON" TypeUUID="EAA43B6B4DCDCEA72AB748B4554FD2AD" Usage="internal" />
                </Variables>
                <ST><![CDATA[//Измеряем длительность цикла
CurTime := CURRENT_TIMESTAMP();
cycleTime := LREAL_TO_REAL(ABS(CurTime - oldCurTime))/1000.0;
oldCurTime := CurTime;

TMR_BLK_ON(IN := TRUE
		  ,PT := T#5s);
TMO_BLK_ON := TMR_BLK_ON.Q;
	IF NOT TMO_BLK_ON THEN ;
	END_IF;




//УСО МСС7. Контроль основного питания =220В
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_1.I_IN := USOGSU_A1_5.i1;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_1.QUAL_IN := USOGSU_A1_5.i1_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_1.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_1.Name := 'УСО МСС7. Контроль основного питания =220В. В норме';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_1.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_1.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_1.ID := ULINT#55001;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_1.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_1.Comment := 'Модуль А1.5 канал 1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_1.AlarmClass := DINT#101;
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_1);
//УСО МСС7. Контроль резервного питания =220В
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_2.I_IN := USOGSU_A1_5.i2;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_2.QUAL_IN := USOGSU_A1_5.i2_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_2.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_2.Name := 'УСО МСС7. Контроль резервного питания =220В. В норме';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_2.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_2.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_2';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_2.ID := ULINT#55002;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_2.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_2.Comment := 'Модуль А1.5 канал 2';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_2.AlarmClass := DINT#101;
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_2);
//УСО МСС7. Контроль исправности разрядников
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_3.I_IN := USOGSU_A1_5.i3;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_3.QUAL_IN := USOGSU_A1_5.i3_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_3.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_3.Name := 'УСО МСС7. Контроль исправности разрядников. В норме';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_3.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_3.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_3';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_3.ID := ULINT#55003;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_3.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_3.Comment := 'Модуль А1.5 канал 3';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_3.AlarmClass := DINT#101;
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_3);
//УСО МСС7. Вход DC (наличие напряжения на входе инвертора)
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_4.I_IN := USOGSU_A1_5.i4;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_4.QUAL_IN := USOGSU_A1_5.i4_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_4.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_4.Name := 'УСО МСС7. Вход DC (наличие напряжения на входе инвертора)';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_4.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_4.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_4';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_4.ID := ULINT#55004;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_4.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_4.Comment := 'Модуль А1.5 канал 4';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_4.AlarmClass := DINT#101;
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_4);
//УСО МСС7. Авария(инвертор)
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_5.I_IN := USOGSU_A1_5.i5;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_5.QUAL_IN := USOGSU_A1_5.i5_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_5.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_5.Name := 'УСО МСС7. Авария(инвертор)';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_5.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_5.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_5';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_5.ID := ULINT#55005;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_5.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_5.Comment := 'Модуль А1.5 канал 5';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_5.AlarmClass := DINT#10000;
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_5);
//УСО МСС7. Автоматы питания включены
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_6.I_IN := USOGSU_A1_5.i6;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_6.QUAL_IN := USOGSU_A1_5.i6_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_6.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_6.Name := 'УСО МСС7. Автоматы питания включены';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_6.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_6.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_6';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_6.ID := ULINT#55006;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_6.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_6.Comment := 'Модуль А1.5 канал 6';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_6.AlarmClass := DINT#101;
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_6);
//УСО МСС7. Двери МСС7 открыты
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_7.I_IN := USOGSU_A1_5.i7;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_7.QUAL_IN := USOGSU_A1_5.i7_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_7.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_7.Name := 'УСО МСС7. Двери УСО МСС7 открыты';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_7.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_7.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_7';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_7.ID := ULINT#55007;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_7.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_7.Comment := 'Модуль А1.5 канал 7';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_7.AlarmClass := DINT#10100;
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_7);
//УСО МСС7. Исправность осн. ИП =24В внутренних цепей
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_8.I_IN := USOGSU_A1_5.i8;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_8.QUAL_IN := USOGSU_A1_5.i8_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_8.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_8.Name := 'УСО МСС7. Исправность осн. ИП =24В внутренних цепей';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_8.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_8.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_8';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_8.ID := ULINT#55008;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_8.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_8.Comment := 'Модуль А1.5 канал 8';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_8.AlarmClass := DINT#101;
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_8);
//УСО МСС7. Исправность рез. ИП =24В внутренних цепей
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_9.I_IN := USOGSU_A1_5.i9;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_9.QUAL_IN := USOGSU_A1_5.i9_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_9.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_9.Name := 'УСО МСС7. Исправность рез. ИП =24В внутренних цепей';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_9.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_9.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_9';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_9.ID := ULINT#55009;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_9.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_9.Comment := 'Модуль А1.5 канал 9';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_9.AlarmClass := DINT#101;
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_9);
//УСО МСС7. Резерв
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES03.I_IN := USOGSU_A1_5.i10;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES03.QUAL_IN := USOGSU_A1_5.i10_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES03.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES03.Name := 'УСО МСС7. Резерв';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES03.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES03.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES03';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES03.ID := ULINT#55010;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES03.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES03.Comment := 'Модуль А1.5 канал 10';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES03.AlarmClass := DINT#101;
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES03);
//УСО МСС7. Резерв
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES04.I_IN := USOGSU_A1_5.i11;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES04.QUAL_IN := USOGSU_A1_5.i11_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES04.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES04.Name := 'УСО МСС7. Резерв';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES04.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES04.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES04';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES04.ID := ULINT#55011;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES04.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES04.Comment := 'Модуль А1.5 канал 11';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES04.AlarmClass := DINT#101;
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES04);
//УСО МСС7. Резерв
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES05.I_IN := USOGSU_A1_5.i12;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES05.QUAL_IN := USOGSU_A1_5.i12_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES05.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES05.Name := 'УСО МСС7. Резерв';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES05.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES05.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES05';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES05.ID := ULINT#55012;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES05.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES05.Comment := 'Модуль А1.5 канал 12';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES05.AlarmClass := DINT#101;
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES05);
//УСО МСС7. Резерв
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES06.I_IN := USOGSU_A1_5.i13;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES06.QUAL_IN := USOGSU_A1_5.i13_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES06.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES06.Name := 'УСО МСС7. Резерв';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES06.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES06.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES06';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES06.ID := ULINT#55013;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES06.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES06.Comment := 'Модуль А1.5 канал 13';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES06.AlarmClass := DINT#101;
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES06);
//УСО МСС7. Резерв
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES07.I_IN := USOGSU_A1_5.i14;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES07.QUAL_IN := USOGSU_A1_5.i14_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES07.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES07.Name := 'УСО МСС7. Резерв';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES07.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES07.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES07';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES07.ID := ULINT#55014;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES07.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES07.Comment := 'Модуль А1.5 канал 14';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES07.AlarmClass := DINT#101;
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES07);
//УСО МСС7. Резерв
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES08.I_IN := USOGSU_A1_5.i15;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES08.QUAL_IN := USOGSU_A1_5.i15_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES08.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES08.Name := 'УСО МСС7. Резерв';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES08.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES08.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES08';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES08.ID := ULINT#55015;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES08.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES08.Comment := 'Модуль А1.5 канал 15';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES08.AlarmClass := DINT#101;
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES08);
//УСО МСС7. Резерв
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES09.I_IN := USOGSU_A1_5.i16;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES09.QUAL_IN := USOGSU_A1_5.i16_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES09.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES09.Name := 'УСО МСС7. Резерв';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES09.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES09.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES09';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES09.ID := ULINT#55016;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES09.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES09.Comment := 'Модуль А1.5 канал 16';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES09.AlarmClass := DINT#101;
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_DIAGN_RES09);
//УСО МСС7. Выключатель 1Q отключен
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_1Q_OFF.I_IN := USOGSU_A1_6.i1;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_1Q_OFF.QUAL_IN := USOGSU_A1_6.i1_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_1Q_OFF.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_1Q_OFF.Name := 'УСО МСС7. Выключатель 1Q отключен';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_1Q_OFF.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_1Q_OFF.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_1Q_OFF';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_1Q_OFF.ID := ULINT#55017;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_1Q_OFF.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_1Q_OFF.Comment := 'Модуль А1.6 канал 1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_1Q_OFF.AlarmClass := DINT#101;
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_1Q_OFF);
//УСО МСС7. Выключатель 1Q включен
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_1Q_ON.I_IN := USOGSU_A1_6.i2;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_1Q_ON.QUAL_IN := USOGSU_A1_6.i2_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_1Q_ON.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_1Q_ON.Name := 'УСО МСС7. Выключатель 1Q включен';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_1Q_ON.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_1Q_ON.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_1Q_ON';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_1Q_ON.ID := ULINT#55018;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_1Q_ON.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_1Q_ON.Comment := 'Модуль А1.6 канал 2';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_1Q_ON.AlarmClass := DINT#101;
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_1Q_ON);
//УСО МСС7. Выключатель 2Q отключен
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_2Q_OFF.I_IN := USOGSU_A1_6.i3;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_2Q_OFF.QUAL_IN := USOGSU_A1_6.i3_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_2Q_OFF.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_2Q_OFF.Name := 'УСО МСС7. Выключатель 2Q отключен';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_2Q_OFF.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_2Q_OFF.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_2Q_OFF';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_2Q_OFF.ID := ULINT#55019;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_2Q_OFF.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_2Q_OFF.Comment := 'Модуль А1.6 канал 3';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_2Q_OFF.AlarmClass := DINT#101;
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_2Q_OFF);
//УСО МСС7. Выключатель 2Q включен
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_2Q_ON.I_IN := USOGSU_A1_6.i4;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_2Q_ON.QUAL_IN := USOGSU_A1_6.i4_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_2Q_ON.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_2Q_ON.Name := 'УСО МСС7. Выключатель 2Q включен';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_2Q_ON.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_2Q_ON.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_2Q_ON';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_2Q_ON.ID := ULINT#55020;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_2Q_ON.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_2Q_ON.Comment := 'Модуль А1.6 канал 4';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_2Q_ON.AlarmClass := DINT#101;
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_2Q_ON);
//МСС7 (пан.01). Аварийное отключение 1Q, 2Q
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_Q_AvOFF.I_IN := USOGSU_A1_6.i5;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_Q_AvOFF.QUAL_IN := USOGSU_A1_6.i5_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_Q_AvOFF.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_Q_AvOFF.Name := 'МСС7 (пан.01). Аварийное отключение 1Q, 2Q';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_Q_AvOFF.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_Q_AvOFF.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_Q_AvOFF';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_Q_AvOFF.ID := ULINT#55021;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_Q_AvOFF.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_Q_AvOFF.Comment := 'Модуль А1.6 канал 5';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_Q_AvOFF.AlarmClass := DINT#10000;
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_Q_AvOFF);
//МСС7 (пан.01). АВР Включена
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_AVR_OFF.I_IN := USOGSU_A1_6.i6;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_AVR_OFF.QUAL_IN := USOGSU_A1_6.i6_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_AVR_OFF.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_AVR_OFF.Name := 'МСС7 (пан.01). АВР Включена';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_AVR_OFF.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_AVR_OFF.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_AVR_OFF';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_AVR_OFF.ID := ULINT#55022;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_AVR_OFF.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_AVR_OFF.Comment := 'Модуль А1.6 канал 6';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_AVR_OFF.AlarmClass := DINT#101;
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_PAN01_AVR_OFF);
//МСС7 (пан.). Положение переключателя «Управления от АСУ»
(*PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_PCONT.I_IN := USOGSU_A1_6.i7;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_PCONT.QUAL_IN := USOGSU_A1_6.i7_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_PCONT.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_PCONT.Name := 'МСС7 (пан.). Положение переключателя «Управления от АСУ»';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_PCONT.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_PCONT.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_PCONT';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_PCONT.ID := ULINT#55023;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_PCONT.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_PCONT.Comment := 'Модуль А1.6 канал 7';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_PCONT);   *)
(*//УСО МСС7. Резерв
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES10.I_IN := USOGSU_A1_6.i8;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES10.QUAL_IN := USOGSU_A1_6.i8_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES10.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES10.Name := 'УСО МСС7. Резерв';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES10.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES10.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES10';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES10.ID := ULINT#55024;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES10.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES10.Comment := 'Модуль А1.6 канал 8';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES10);
//УСО МСС7. Резерв
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES11.I_IN := USOGSU_A1_6.i9;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES11.QUAL_IN := USOGSU_A1_6.i9_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES11.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES11.Name := 'УСО МСС7. Резерв';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES11.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES11.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES11';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES11.ID := ULINT#55025;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES11.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES11.Comment := 'Модуль А1.6 канал 9';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES11);
//МСС7. Низкое напряжение постоянного тока 220В АБ1
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_VDC_LOW.I_IN := USOGSU_A1_6.i10;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_VDC_LOW.QUAL_IN := USOGSU_A1_6.i10_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_VDC_LOW.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_VDC_LOW.Name := 'МСС7. Низкое напряжение постоянного тока 220В АБ1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_VDC_LOW.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_VDC_LOW.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_VDC_LOW';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_VDC_LOW.ID := ULINT#55026;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_VDC_LOW.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_VDC_LOW.Comment := 'Модуль А1.6 канал 10';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_VDC_LOW);
//МСС7. Отказ системы питания переменного тока 220В АБ1
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_SYSPSAC_FL.I_IN := USOGSU_A1_6.i11;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_SYSPSAC_FL.QUAL_IN := USOGSU_A1_6.i11_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_SYSPSAC_FL.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_SYSPSAC_FL.Name := 'МСС7. Отказ системы питания переменного тока 220В АБ1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_SYSPSAC_FL.Source := 'УСО МСС7. ПЛК А1 (пан.01)';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_SYSPSAC_FL.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_SYSPSAC_FL';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_SYSPSAC_FL.ID := ULINT#55027;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_SYSPSAC_FL.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_SYSPSAC_FL.Comment := 'Модуль А1.6 канал 11';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_SYSPSAC_FL);
//МСС7. Неисправность зарядного устройства 220В АБ1
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_BAT_FL.I_IN := USOGSU_A1_6.i12;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_BAT_FL.QUAL_IN := USOGSU_A1_6.i12_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_BAT_FL.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_BAT_FL.Name := 'МСС7. Неисправность зарядного устройства 220В АБ1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_BAT_FL.Source := 'УСО МСС7. ПЛК А1 (пан.01)';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_BAT_FL.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_BAT_FL';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_BAT_FL.ID := ULINT#55028;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_BAT_FL.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_BAT_FL.Comment := 'Модуль А1.6 канал 12';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB1_BAT_FL);
//МСС7. Низкое напряжение постоянного тока 220 В АБ2
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_VDC_LOW.I_IN := USOGSU_A1_6.i13;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_VDC_LOW.QUAL_IN := USOGSU_A1_6.i13_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_VDC_LOW.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_VDC_LOW.Name := 'МСС7. Низкое напряжение постоянного тока 220 В АБ2';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_VDC_LOW.Source := 'УСО МСС7. ПЛК А1 (пан.01)';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_VDC_LOW.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_VDC_LOW';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_VDC_LOW.ID := ULINT#55029;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_VDC_LOW.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_VDC_LOW.Comment := 'Модуль А1.6 канал 13';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_VDC_LOW);
//МСС7. Отказ системы питания переменного тока 220В АБ2
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_SYSPSAC_FL.I_IN := USOGSU_A1_6.i14;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_SYSPSAC_FL.QUAL_IN := USOGSU_A1_6.i14_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_SYSPSAC_FL.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_SYSPSAC_FL.Name := 'МСС7. Отказ системы питания переменного тока 220В АБ2';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_SYSPSAC_FL.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_SYSPSAC_FL.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_SYSPSAC_FL';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_SYSPSAC_FL.ID := ULINT#55030;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_SYSPSAC_FL.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_SYSPSAC_FL.Comment := 'Модуль А1.6 канал 14';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_SYSPSAC_FL);
//МСС7. Неисправность зарядного устройства 220В АБ2
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_BAT_FL.I_IN := USOGSU_A1_6.i15;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_BAT_FL.QUAL_IN := USOGSU_A1_6.i15_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_BAT_FL.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_BAT_FL.Name := 'МСС7. Неисправность зарядного устройства 220В АБ2';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_BAT_FL.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_BAT_FL.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_BAT_FL';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_BAT_FL.ID := ULINT#55031;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_BAT_FL.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_BAT_FL.Comment := 'Модуль А1.6 канал 15';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_AB2_BAT_FL);
//УСО МСС7. Резерв
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES12.I_IN := USOGSU_A1_6.i16;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES12.QUAL_IN := USOGSU_A1_6.i16_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES12.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES12.Name := 'УСО МСС7. Резерв';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES12.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES12.IDE :=  'PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES12';
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES12.ID := ULINT#55032;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES12.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES12.Comment := 'Модуль А1.6 канал 16';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DI_X_RES12);
]]></ST>
            </FunctionBlock>
            <FunctionBlock UUID="A85CD650423BED4ED0864298E1C0454B" Name="ALG_DO_USOGSU">
                <Variables />
                <ST><![CDATA[//ГЩУ (пан.01). Отключить выключатель 1Q
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_1Q_OFF.QUAL_IN := USOGSU_A1_7.o1_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_1Q_OFF.TIME_SHIFT := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_1Q_OFF.Comment := 'ГЩУ (пан.01). Отключить выключатель 1Q';
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_1Q_OFF.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_1Q_OFF.IDE := 'PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_1Q_OFF';
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_1Q_OFF.ID := ULINT#54001;
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_1Q_OFF.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_1Q_OFF.Txt_0 := 'Модуль А1.7 канал 1';
USOGSU_A1_7.o1 := FC_V_DGO(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_1Q_OFF);
//ГЩУ (пан.01). Включить выключатель 1Q
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_1Q_ON.QUAL_IN := USOGSU_A1_7.o2_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_1Q_ON.TIME_SHIFT := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_1Q_ON.Comment := 'ГЩУ (пан.01). Включить выключатель 1Q';
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_1Q_ON.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_1Q_ON.IDE := 'PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_1Q_ON';
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_1Q_ON.ID := ULINT#54002;
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_1Q_ON.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_1Q_ON.Txt_0 := 'Модуль А1.7 канал 2';
USOGSU_A1_7.o2 := FC_V_DGO(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_1Q_ON);
//ГЩУ (пан.01). Отключить выключатель 2Q
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_2Q_OFF.QUAL_IN := USOGSU_A1_7.o3_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_2Q_OFF.TIME_SHIFT := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_2Q_OFF.Comment := 'ГЩУ (пан.01). Отключить выключатель 2Q';
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_2Q_OFF.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_2Q_OFF.IDE := 'PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_2Q_OFF';
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_2Q_OFF.ID := ULINT#54003;
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_2Q_OFF.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_2Q_OFF.Txt_0 := 'Модуль А1.7 канал 3';
USOGSU_A1_7.o3 := FC_V_DGO(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_2Q_OFF);
//ГЩУ (пан.01). Включить выключатель 2Q
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_2Q_ON.QUAL_IN := USOGSU_A1_7.o4_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_2Q_ON.TIME_SHIFT := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_2Q_ON.Comment := 'ГЩУ (пан.01). Включить выключатель 2Q';
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_2Q_ON.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_2Q_ON.IDE := 'PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_2Q_ON';
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_2Q_ON.ID := ULINT#54004;
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_2Q_ON.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_2Q_ON.Txt_0 := 'Модуль А1.7 канал 4';
USOGSU_A1_7.o4 := FC_V_DGO(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DO_PAN01_2Q_ON);
//ГЩУ. Аварийный останов
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_X_AvOST.QUAL_IN := USOGSU_A1_7.o5_status;
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_X_AvOST.TIME_SHIFT := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_X_AvOST.Comment := 'ГЩУ. Аварийный останов';
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_X_AvOST.Source := 'УСО МСС7. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_X_AvOST.IDE := 'PLC_GSP_SEV_KSSEV_E_USOGSU_DO_X_AvOST';
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_X_AvOST.ID := ULINT#54005;
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_X_AvOST.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOGSU_DO_X_AvOST.Txt_0 := 'Модуль А1.7 канал 5';
USOGSU_A1_7.o5 := FC_V_DGO(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOGSU_DO_X_AvOST);
]]></ST>
            </FunctionBlock>
            <FunctionBlock UUID="192D56CD4EFF37204450D5885491902D" Name="ALG_INIT_AnPar">
                <Variables />
                <ST><![CDATA[
//ГЩУ (пан.01). Ток фазы B ввода 1Q
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.FAULT_RESET	:= FALSE;				//	BOOL		Сброс неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.ACKN_STATE		:=WORD#16#0;			//	WORD		Команда на квитирование. 0 - ВПУ; 1 - НПУ; 2 - ВАУ; 3 - НАУ; 4 - неисправность 
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.CMD_ACKN		:= FALSE;				//	BOOL		Квитирование событий с ВУ (с фейсплейта)
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.ID				:= 0;					//	INT		ID уникального датчика
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.INPUT			:= 0.0;					//	REAL		Сырое значение
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.QUALITY		:= UINT_TO_BYTE(USOGSU_A1_3.i1_status);		//	BYTE		Код качества
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.F_INPUT		:= 0.0;					//	REAL		Числовое значение
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.INPUT_FAULT	:= FALSE;				//	BOOL		Внешний признак неисправности датчика
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.FAULT_LAG		:= 0.0;					//	REAL		Задержка определения неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.S_TYPE			:= WORD#16#0;			//	WORD		Тип, прошивка
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.CL_SD_TEMP		:= FALSE;				//	BOOL		Climatic - 1, Standart-0 диапазон температуры
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.SQR_ON			:= FALSE;				//	BOOL		Квадратичная шкала
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.REVERSE_ON		:= FALSE;				//	BOOL		Обратная шкала
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.EXCEPT_EN		:= TRUE;				//	BOOL		Возможность исключения (ремонта)
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.EXCEPT_FAULT	:= FALSE;				//	BOOL		Исключать (выводить в ремонт) при неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.TESTING_ON		:= FALSE;				//	BOOL		Поверка
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.SUBST_ON		:= FALSE;				//	BOOL		Подмена
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.SUBST_EN		:= FALSE;				//	BOOL		Возможность подмены
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.LL_SETP		:= 0.0;					//	REAL		Уставка НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.L_SETP			:= 0.0;					//	REAL		Уставка НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.H_SETP			:= 0.0;					//	REAL		Уставка ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.HH_SETP		:= 0.0;					//	REAL		Уставка ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.LL_LAG			:= 0.0;					//	REAL		Задержка НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.L_LAG			:= 0.0;					//	REAL		Задержка НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.H_LAG			:= 0.0;					//	REAL		Задержка ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.HH_LAG			:= 0.0;					//	REAL		Задержка ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.LL_ON			:= TRUE;				//	BOOL		Включено НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.L_ON			:= TRUE;				//	BOOL		Включено НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.H_ON			:= TRUE;				//	BOOL		Включено ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.HH_ON			:= TRUE;				//	BOOL		Включено ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.INV_ON			:= FALSE;				//	BOOL		Разрешено определение НЗ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.FAULT_ON		:= TRUE;				//	BOOL		Разрешено определение неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.LL_ACT			:= FALSE;				//	BOOL		Введено НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.L_ACT			:= FALSE;				//	BOOL		Введено НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.H_ACT			:= FALSE;				//	BOOL		Введено ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.HH_ACT			:= FALSE;				//	BOOL		Введено ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.FAULT_ACT		:= TRUE;				//	BOOL		Введено определение неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.FAULT_L_RESET	:= FALSE;				//	BOOL		Сброс неисправности подключаемый
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.Filtr_ON		:= FALSE;				//	BOOL		Разрешение фильтра
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.T_Filtr		:= 0.0;					//	REAL		Постоянная времени фильтра
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.SUBSTIT		:= 0.0;					//	REAL		Значение подмены
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.LO_LIM			:= 0.0;					//	REAL		Нижний предел
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.HI_LIM			:= 1999.0;				//	REAL		Верхний предел
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.HYST			:= 0.0;					//	REAL		Гистерезис
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.INV_SETP		:= 0.0;					//	REAL		Уставка НЗ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.COMPENSATOR	:= 0.0;					//	REAL		Коэфф. Компенсации
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.EXCEPT_ON		:= FALSE;				//	BOOL		Исключен (Ремонт)
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.BELL_BLOCK		:= TRUE;				//	BOOL		Блокировка звуковой и световой сигнализации
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.RSP			:= FALSE;				//	BOOL		СКАДА: 1 - RSP, 0 - WINCC
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.NAME			:= '???';				//	STRING		Короткое имя датчика
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.NAME_LONG		:= 'МСС7. Ток фазы B ввода 1Q';		//	STRING		Длинное имя датчика
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.UNIT			:= 'А';					//	STRING		Единица измерения
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.SOURCE			:= 'УСО МСС7. ПЛК А1';	
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.PRECISION			:= 1;	
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.NAME_SHORT			:= 'Ib';
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.NAME_SHKAF	:= 'Модуль А1.3 канал 1'; //наименование канала




//ГЩУ (пан.01). Напряжение U AC на вводе 1Q

PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.FAULT_RESET	:= FALSE;				//	BOOL		Сброс неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.ACKN_STATE		:=WORD#16#0;			//	WORD		Команда на квитирование. 0 - ВПУ; 1 - НПУ; 2 - ВАУ; 3 - НАУ; 4 - неисправность 
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.CMD_ACKN		:= FALSE;				//	BOOL		Квитирование событий с ВУ (с фейсплейта)
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.ID				:= 0;					//	INT		ID уникального датчика
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.INPUT			:= 0.0;					//	REAL		Сырое значение
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.QUALITY		:= UINT_TO_BYTE(USOGSU_A1_3.i2_status);		//	BYTE		Код качества
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.F_INPUT		:= 0.0;					//	REAL		Числовое значение
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.INPUT_FAULT	:= FALSE;				//	BOOL		Внешний признак неисправности датчика
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.FAULT_LAG		:= 0.0;					//	REAL		Задержка определения неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.S_TYPE			:= WORD#16#0;			//	WORD		Тип, прошивка
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.CL_SD_TEMP		:= FALSE;				//	BOOL		Climatic - 1, Standart-0 диапазон температуры
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.SQR_ON			:= FALSE;				//	BOOL		Квадратичная шкала
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.REVERSE_ON		:= FALSE;				//	BOOL		Обратная шкала
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.EXCEPT_EN		:= TRUE;				//	BOOL		Возможность исключения (ремонта)
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.EXCEPT_FAULT	:= FALSE;				//	BOOL		Исключать (выводить в ремонт) при неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.TESTING_ON		:= FALSE;				//	BOOL		Поверка
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.SUBST_ON		:= FALSE;				//	BOOL		Подмена
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.SUBST_EN		:= FALSE;				//	BOOL		Возможность подмены
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.LL_SETP		:= 0.0;					//	REAL		Уставка НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.L_SETP			:= 0.0;					//	REAL		Уставка НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.H_SETP			:= 0.0;					//	REAL		Уставка ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.HH_SETP		:= 0.0;					//	REAL		Уставка ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.LL_LAG			:= 0.0;					//	REAL		Задержка НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.L_LAG			:= 0.0;					//	REAL		Задержка НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.H_LAG			:= 0.0;					//	REAL		Задержка ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.HH_LAG			:= 0.0;					//	REAL		Задержка ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.LL_ON			:= TRUE;				//	BOOL		Включено НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.L_ON			:= TRUE;				//	BOOL		Включено НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.H_ON			:= TRUE;				//	BOOL		Включено ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.HH_ON			:= TRUE;				//	BOOL		Включено ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.INV_ON			:= FALSE;				//	BOOL		Разрешено определение НЗ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.FAULT_ON		:= TRUE;				//	BOOL		Разрешено определение неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.LL_ACT			:= FALSE;				//	BOOL		Введено НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.L_ACT			:= FALSE;				//	BOOL		Введено НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.H_ACT			:= FALSE;				//	BOOL		Введено ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.HH_ACT			:= FALSE;				//	BOOL		Введено ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.FAULT_ACT		:= TRUE;				//	BOOL		Введено определение неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.FAULT_L_RESET	:= FALSE;				//	BOOL		Сброс неисправности подключаемый
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.Filtr_ON		:= FALSE;				//	BOOL		Разрешение фильтра
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.T_Filtr		:= 0.0;					//	REAL		Постоянная времени фильтра
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.SUBSTIT		:= 0.0;					//	REAL		Значение подмены
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.LO_LIM			:= 0.0;					//	REAL		Нижний предел
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.HI_LIM			:= 400.0;				//	REAL		Верхний предел
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.HYST			:= 0.0;					//	REAL		Гистерезис
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.INV_SETP		:= 0.0;					//	REAL		Уставка НЗ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.COMPENSATOR	:= 0.0;					//	REAL		Коэфф. Компенсации
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.EXCEPT_ON		:= FALSE;				//	BOOL		Исключен (Ремонт)
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.BELL_BLOCK		:= TRUE;				//	BOOL		Блокировка звуковой и световой сигнализации
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.RSP			:= FALSE;				//	BOOL		СКАДА: 1 - RSP, 0 - WINCC
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.NAME			:= '???';				//	STRING		Короткое имя датчика
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.NAME_LONG		:= 'МСС7. Напряжение U AC на вводе 1Q';		//	STRING		Длинное имя датчика
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.UNIT			:= 'В';					//	STRING		Единица измерения
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.SOURCE			:= 'УСО МСС7. ПЛК А1';	
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.PRECISION			:= 1;	
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.NAME_SHORT			:= 'Uac';
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.NAME_SHKAF	:= 'Модуль А1.3 канал 2'; //наименование канала




//ГЩУ (пан.01). Напряжение U ВC на 1секции
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.FAULT_RESET	:= FALSE;				//	BOOL		Сброс неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.ACKN_STATE		:=WORD#16#0;			//	WORD		Команда на квитирование. 0 - ВПУ; 1 - НПУ; 2 - ВАУ; 3 - НАУ; 4 - неисправность 
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.CMD_ACKN		:= FALSE;				//	BOOL		Квитирование событий с ВУ (с фейсплейта)
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.ID				:= 0;					//	INT		ID уникального датчика
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.INPUT			:= 0.0;					//	REAL		Сырое значение
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.QUALITY		:= UINT_TO_BYTE(USOGSU_A1_3.i3_status);		//	BYTE		Код качества
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.F_INPUT		:= 0.0;					//	REAL		Числовое значение
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.INPUT_FAULT	:= FALSE;				//	BOOL		Внешний признак неисправности датчика
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.FAULT_LAG		:= 0.0;					//	REAL		Задержка определения неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.S_TYPE			:= WORD#16#0;			//	WORD		Тип, прошивка
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.CL_SD_TEMP		:= FALSE;				//	BOOL		Climatic - 1, Standart-0 диапазон температуры
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.SQR_ON			:= FALSE;				//	BOOL		Квадратичная шкала
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.REVERSE_ON		:= FALSE;				//	BOOL		Обратная шкала
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.EXCEPT_EN		:= TRUE;				//	BOOL		Возможность исключения (ремонта)
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.EXCEPT_FAULT	:= FALSE;				//	BOOL		Исключать (выводить в ремонт) при неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.TESTING_ON		:= FALSE;				//	BOOL		Поверка
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.SUBST_ON		:= FALSE;				//	BOOL		Подмена
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.SUBST_EN		:= FALSE;				//	BOOL		Возможность подмены
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.LL_SETP		:= 0.0;					//	REAL		Уставка НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.L_SETP			:= 0.0;					//	REAL		Уставка НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.H_SETP			:= 0.0;					//	REAL		Уставка ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.HH_SETP		:= 0.0;					//	REAL		Уставка ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.LL_LAG			:= 0.0;					//	REAL		Задержка НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.L_LAG			:= 0.0;					//	REAL		Задержка НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.H_LAG			:= 0.0;					//	REAL		Задержка ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.HH_LAG			:= 0.0;					//	REAL		Задержка ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.LL_ON			:= TRUE;				//	BOOL		Включено НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.L_ON			:= TRUE;				//	BOOL		Включено НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.H_ON			:= TRUE;				//	BOOL		Включено ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.HH_ON			:= TRUE;				//	BOOL		Включено ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.INV_ON			:= FALSE;				//	BOOL		Разрешено определение НЗ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.FAULT_ON		:= TRUE;				//	BOOL		Разрешено определение неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.LL_ACT			:= FALSE;				//	BOOL		Введено НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.L_ACT			:= FALSE;				//	BOOL		Введено НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.H_ACT			:= FALSE;				//	BOOL		Введено ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.HH_ACT			:= FALSE;				//	BOOL		Введено ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.FAULT_ACT		:= TRUE;				//	BOOL		Введено определение неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.FAULT_L_RESET	:= FALSE;				//	BOOL		Сброс неисправности подключаемый
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.Filtr_ON		:= FALSE;				//	BOOL		Разрешение фильтра
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.T_Filtr		:= 0.0;					//	REAL		Постоянная времени фильтра
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.SUBSTIT		:= 0.0;					//	REAL		Значение подмены
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.LO_LIM			:= 0.0;					//	REAL		Нижний предел
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.HI_LIM			:= 400.0;				//	REAL		Верхний предел
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.HYST			:= 0.0;					//	REAL		Гистерезис
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.INV_SETP		:= 0.0;					//	REAL		Уставка НЗ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.COMPENSATOR	:= 0.0;					//	REAL		Коэфф. Компенсации
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.EXCEPT_ON		:= FALSE;				//	BOOL		Исключен (Ремонт)
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.BELL_BLOCK		:= TRUE;				//	BOOL		Блокировка звуковой и световой сигнализации
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.RSP			:= FALSE;				//	BOOL		СКАДА: 1 - RSP, 0 - WINCC
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.NAME			:= '???';				//	STRING		Короткое имя датчика
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.NAME_LONG		:= 'МСС7. Напряжение U ВC на 1секции';		//	STRING		Длинное имя датчика
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.UNIT			:= 'В';					//	STRING		Единица измерения
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.SOURCE			:= 'УСО МСС7. ПЛК А1';	
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.PRECISION			:= 1;	
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.NAME_SHORT			:= 'Ubc';
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.NAME_SHKAF	:= 'Модуль А1.3 канал 3'; //наименование канала




//ГЩУ (пан.01). Ток фазы B ввода 2Q

PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.FAULT_RESET	:= FALSE;				//	BOOL		Сброс неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.ACKN_STATE		:=WORD#16#0;			//	WORD		Команда на квитирование. 0 - ВПУ; 1 - НПУ; 2 - ВАУ; 3 - НАУ; 4 - неисправность 
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.CMD_ACKN		:= FALSE;				//	BOOL		Квитирование событий с ВУ (с фейсплейта)
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.ID				:= 0;					//	INT		ID уникального датчика
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.INPUT			:= 0.0;					//	REAL		Сырое значение
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.QUALITY		:= UINT_TO_BYTE(USOGSU_A1_3.i4_status);		//	BYTE		Код качества
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.F_INPUT		:= 0.0;					//	REAL		Числовое значение
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.INPUT_FAULT	:= FALSE;				//	BOOL		Внешний признак неисправности датчика
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.FAULT_LAG		:= 0.0;					//	REAL		Задержка определения неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.S_TYPE			:= WORD#16#0;			//	WORD		Тип, прошивка
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.CL_SD_TEMP		:= FALSE;				//	BOOL		Climatic - 1, Standart-0 диапазон температуры
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.SQR_ON			:= FALSE;				//	BOOL		Квадратичная шкала
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.REVERSE_ON		:= FALSE;				//	BOOL		Обратная шкала
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.EXCEPT_EN		:= TRUE;				//	BOOL		Возможность исключения (ремонта)
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.EXCEPT_FAULT	:= FALSE;				//	BOOL		Исключать (выводить в ремонт) при неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.TESTING_ON		:= FALSE;				//	BOOL		Поверка
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.SUBST_ON		:= FALSE;				//	BOOL		Подмена
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.SUBST_EN		:= FALSE;				//	BOOL		Возможность подмены
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.LL_SETP		:= 0.0;					//	REAL		Уставка НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.L_SETP			:= 0.0;					//	REAL		Уставка НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.H_SETP			:= 0.0;					//	REAL		Уставка ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.HH_SETP		:= 0.0;					//	REAL		Уставка ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.LL_LAG			:= 0.0;					//	REAL		Задержка НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.L_LAG			:= 0.0;					//	REAL		Задержка НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.H_LAG			:= 0.0;					//	REAL		Задержка ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.HH_LAG			:= 0.0;					//	REAL		Задержка ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.LL_ON			:= TRUE;				//	BOOL		Включено НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.L_ON			:= TRUE;				//	BOOL		Включено НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.H_ON			:= TRUE;				//	BOOL		Включено ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.HH_ON			:= TRUE;				//	BOOL		Включено ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.INV_ON			:= FALSE;				//	BOOL		Разрешено определение НЗ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.FAULT_ON		:= TRUE;				//	BOOL		Разрешено определение неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.LL_ACT			:= FALSE;				//	BOOL		Введено НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.L_ACT			:= FALSE;				//	BOOL		Введено НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.H_ACT			:= FALSE;				//	BOOL		Введено ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.HH_ACT			:= FALSE;				//	BOOL		Введено ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.FAULT_ACT		:= TRUE;				//	BOOL		Введено определение неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.FAULT_L_RESET	:= FALSE;				//	BOOL		Сброс неисправности подключаемый
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.Filtr_ON		:= FALSE;				//	BOOL		Разрешение фильтра
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.T_Filtr		:= 0.0;					//	REAL		Постоянная времени фильтра
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.SUBSTIT		:= 0.0;					//	REAL		Значение подмены
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.LO_LIM			:= 0.0;					//	REAL		Нижний предел
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.HI_LIM			:= 1999.0;				//	REAL		Верхний предел
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.HYST			:= 0.0;					//	REAL		Гистерезис
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.INV_SETP		:= 0.0;					//	REAL		Уставка НЗ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.COMPENSATOR	:= 0.0;					//	REAL		Коэфф. Компенсации
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.EXCEPT_ON		:= FALSE;				//	BOOL		Исключен (Ремонт)
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.BELL_BLOCK		:= TRUE;				//	BOOL		Блокировка звуковой и световой сигнализации
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.RSP			:= FALSE;				//	BOOL		СКАДА: 1 - RSP, 0 - WINCC
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.NAME			:= 'KKS';				//	STRING		Короткое имя датчика
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.NAME_LONG		:= 'МСС7. Ток фазы B ввода 2Q';		//	STRING		Длинное имя датчика
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.UNIT			:= 'А';					//	STRING		Единица измерения
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.SOURCE			:= 'УСО МСС7. ПЛК А1';	
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.PRECISION			:= 1;	
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.NAME_SHORT			:= 'Ib';
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.NAME_SHKAF	:= 'Модуль А1.3 канал 4'; //наименование канала




//ГЩУ (пан.01). Напряжение U AC на вводе 2Q

PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.FAULT_RESET	:= FALSE;				//	BOOL		Сброс неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.ACKN_STATE		:=WORD#16#0;			//	WORD		Команда на квитирование. 0 - ВПУ; 1 - НПУ; 2 - ВАУ; 3 - НАУ; 4 - неисправность 
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.CMD_ACKN		:= FALSE;				//	BOOL		Квитирование событий с ВУ (с фейсплейта)
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.ID				:= 0;					//	INT		ID уникального датчика
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.INPUT			:= 0.0;					//	REAL		Сырое значение
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.QUALITY		:= UINT_TO_BYTE(USOGSU_A1_4.i1_status);		//	BYTE		Код качества
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.F_INPUT		:= 0.0;					//	REAL		Числовое значение
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.INPUT_FAULT	:= FALSE;				//	BOOL		Внешний признак неисправности датчика
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.FAULT_LAG		:= 0.0;					//	REAL		Задержка определения неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.S_TYPE			:= WORD#16#0;			//	WORD		Тип, прошивка
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.CL_SD_TEMP		:= FALSE;				//	BOOL		Climatic - 1, Standart-0 диапазон температуры
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.SQR_ON			:= FALSE;				//	BOOL		Квадратичная шкала
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.REVERSE_ON		:= FALSE;				//	BOOL		Обратная шкала
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.EXCEPT_EN		:= TRUE;				//	BOOL		Возможность исключения (ремонта)
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.EXCEPT_FAULT	:= FALSE;				//	BOOL		Исключать (выводить в ремонт) при неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.TESTING_ON		:= FALSE;				//	BOOL		Поверка
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.SUBST_ON		:= FALSE;				//	BOOL		Подмена
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.SUBST_EN		:= FALSE;				//	BOOL		Возможность подмены
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.LL_SETP		:= 0.0;					//	REAL		Уставка НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.L_SETP			:= 0.0;					//	REAL		Уставка НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.H_SETP			:= 0.0;					//	REAL		Уставка ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.HH_SETP		:= 0.0;					//	REAL		Уставка ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.LL_LAG			:= 0.0;					//	REAL		Задержка НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.L_LAG			:= 0.0;					//	REAL		Задержка НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.H_LAG			:= 0.0;					//	REAL		Задержка ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.HH_LAG			:= 0.0;					//	REAL		Задержка ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.LL_ON			:= TRUE;				//	BOOL		Включено НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.L_ON			:= TRUE;				//	BOOL		Включено НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.H_ON			:= TRUE;				//	BOOL		Включено ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.HH_ON			:= TRUE;				//	BOOL		Включено ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.INV_ON			:= FALSE;				//	BOOL		Разрешено определение НЗ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.FAULT_ON		:= TRUE;				//	BOOL		Разрешено определение неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.LL_ACT			:= FALSE;				//	BOOL		Введено НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.L_ACT			:= FALSE;				//	BOOL		Введено НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.H_ACT			:= FALSE;				//	BOOL		Введено ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.HH_ACT			:= FALSE;				//	BOOL		Введено ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.FAULT_ACT		:= TRUE;				//	BOOL		Введено определение неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.FAULT_L_RESET	:= FALSE;				//	BOOL		Сброс неисправности подключаемый
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.Filtr_ON		:= FALSE;				//	BOOL		Разрешение фильтра
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.T_Filtr		:= 0.0;					//	REAL		Постоянная времени фильтра
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.SUBSTIT		:= 0.0;					//	REAL		Значение подмены
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.LO_LIM			:= 0.0;					//	REAL		Нижний предел
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.HI_LIM			:= 400.0;				//	REAL		Верхний предел
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.HYST			:= 0.0;					//	REAL		Гистерезис
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.INV_SETP		:= 0.0;					//	REAL		Уставка НЗ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.COMPENSATOR	:= 0.0;					//	REAL		Коэфф. Компенсации
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.EXCEPT_ON		:= FALSE;				//	BOOL		Исключен (Ремонт)
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.BELL_BLOCK		:= TRUE;				//	BOOL		Блокировка звуковой и световой сигнализации
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.RSP			:= FALSE;				//	BOOL		СКАДА: 1 - RSP, 0 - WINCC
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.NAME			:= 'KKS';				//	STRING		Короткое имя датчика
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.NAME_LONG		:= 'МСС7. Напряжение U AC на вводе 2Q';		//	STRING		Длинное имя датчика
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.UNIT			:= 'А';					//	STRING		Единица измерения
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.SOURCE			:= 'УСО МСС7. ПЛК А1';	
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.PRECISION			:= 1;	
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.NAME_SHORT			:= 'Uac';
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.NAME_SHKAF	:= 'Модуль А1.4 канал 1'; //наименование канала




//ГЩУ (пан.01). Напряжение U ВC на 2 секции
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.FAULT_RESET	:= FALSE;				//	BOOL		Сброс неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.ACKN_STATE		:=WORD#16#0;			//	WORD		Команда на квитирование. 0 - ВПУ; 1 - НПУ; 2 - ВАУ; 3 - НАУ; 4 - неисправность 
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.CMD_ACKN		:= FALSE;				//	BOOL		Квитирование событий с ВУ (с фейсплейта)
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.ID				:= 0;					//	INT		ID уникального датчика
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.INPUT			:= 0.0;					//	REAL		Сырое значение
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.QUALITY		:= UINT_TO_BYTE(USOGSU_A1_4.i2_status);		//	BYTE		Код качества
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.F_INPUT		:= 0.0;					//	REAL		Числовое значение
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.INPUT_FAULT	:= FALSE;				//	BOOL		Внешний признак неисправности датчика
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.FAULT_LAG		:= 0.0;					//	REAL		Задержка определения неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.S_TYPE			:= WORD#16#0;			//	WORD		Тип, прошивка
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.CL_SD_TEMP		:= FALSE;				//	BOOL		Climatic - 1, Standart-0 диапазон температуры
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.SQR_ON			:= FALSE;				//	BOOL		Квадратичная шкала
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.REVERSE_ON		:= FALSE;				//	BOOL		Обратная шкала
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.EXCEPT_EN		:= TRUE;				//	BOOL		Возможность исключения (ремонта)
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.EXCEPT_FAULT	:= FALSE;				//	BOOL		Исключать (выводить в ремонт) при неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.TESTING_ON		:= FALSE;				//	BOOL		Поверка
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.SUBST_ON		:= FALSE;				//	BOOL		Подмена
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.SUBST_EN		:= FALSE;				//	BOOL		Возможность подмены
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.LL_SETP		:= 0.0;					//	REAL		Уставка НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.L_SETP			:= 0.0;					//	REAL		Уставка НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.H_SETP			:= 0.0;					//	REAL		Уставка ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.HH_SETP		:= 0.0;					//	REAL		Уставка ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.LL_LAG			:= 0.0;					//	REAL		Задержка НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.L_LAG			:= 0.0;					//	REAL		Задержка НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.H_LAG			:= 0.0;					//	REAL		Задержка ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.HH_LAG			:= 0.0;					//	REAL		Задержка ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.LL_ON			:= TRUE;				//	BOOL		Включено НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.L_ON			:= TRUE;				//	BOOL		Включено НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.H_ON			:= TRUE;				//	BOOL		Включено ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.HH_ON			:= TRUE;				//	BOOL		Включено ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.INV_ON			:= FALSE;				//	BOOL		Разрешено определение НЗ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.FAULT_ON		:= TRUE;				//	BOOL		Разрешено определение неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.LL_ACT			:= FALSE;				//	BOOL		Введено НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.L_ACT			:= FALSE;				//	BOOL		Введено НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.H_ACT			:= FALSE;				//	BOOL		Введено ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.HH_ACT			:= FALSE;				//	BOOL		Введено ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.FAULT_ACT		:= TRUE;				//	BOOL		Введено определение неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.FAULT_L_RESET	:= FALSE;				//	BOOL		Сброс неисправности подключаемый
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.Filtr_ON		:= FALSE;				//	BOOL		Разрешение фильтра
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.T_Filtr		:= 0.0;					//	REAL		Постоянная времени фильтра
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.SUBSTIT		:= 0.0;					//	REAL		Значение подмены
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.LO_LIM			:= 0.0;					//	REAL		Нижний предел
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.HI_LIM			:= 400.0;				//	REAL		Верхний предел
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.HYST			:= 0.0;					//	REAL		Гистерезис
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.INV_SETP		:= 0.0;					//	REAL		Уставка НЗ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.COMPENSATOR	:= 0.0;					//	REAL		Коэфф. Компенсации
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.EXCEPT_ON		:= FALSE;				//	BOOL		Исключен (Ремонт)
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.BELL_BLOCK		:= TRUE;				//	BOOL		Блокировка звуковой и световой сигнализации
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.RSP			:= FALSE;				//	BOOL		СКАДА: 1 - RSP, 0 - WINCC
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.NAME			:= 'KKS';				//	STRING		Короткое имя датчика
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.NAME_LONG		:= 'МСС7. Напряжение U ВC на 2 секции';		//	STRING		Длинное имя датчика
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.UNIT			:= 'В';					//	STRING		Единица измерения
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.SOURCE			:= 'УСО МСС7. ПЛК А1';	
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.PRECISION			:= 1;	
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.NAME_SHORT			:= 'Ubc';
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.NAME_SHKAF	:= 'Модуль А1.4 канал 2'; //наименование канала]]></ST>
            </FunctionBlock>
            <FunctionBlock UUID="1DA35FBE4387C6355394269EDDE79E29" Name="ALG_Input_AnPar">
                <Variables>
                    <Variable UUID="45834E2C4DCF2804787E1A8F56008BED" Name="CurTime" Type="LREAL" TypeUUID="65F1DDD44EDA9C0776BB16BBDFE36B1F" Usage="internal" />
                    <Variable UUID="6F04EC3640CC4BEEFDA02081B8558B00" Name="oldCurTime" Type="LREAL" TypeUUID="65F1DDD44EDA9C0776BB16BBDFE36B1F" Usage="internal" />
                    <Variable UUID="887CE25A4C672C1738D268815A9E39E2" Name="TMR_BLK_ON" Type="TON" TypeUUID="EAA43B6B4DCDCEA72AB748B4554FD2AD" Usage="internal" />
                    <Variable UUID="DC16A62C4FDCC17FA1D756832DAD363C" Name="INIT_TUNE_AnPar" Type="ALG_INIT_AnPar" TypeUUID="192D56CD4EFF37204450D5885491902D" Usage="internal" />
                    <Variable UUID="B47C0AFD4CF6227A06B4F0B0502FC35B" Name="PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz" Type="SENSOR_FB" TypeUUID="F270F8224363670D924B1DBC1AB19D14" Usage="internal" />
                    <Variable UUID="1B2130A5465354C978B8C3810EC790B1" Name="PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz" Type="SENSOR_FB" TypeUUID="F270F8224363670D924B1DBC1AB19D14" Usage="internal" />
                    <Variable UUID="E26428794F427C648557F59FDA405C54" Name="PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz" Type="SENSOR_FB" TypeUUID="F270F8224363670D924B1DBC1AB19D14" Usage="internal" />
                    <Variable UUID="57080C474A5107CB5FFECB82436BDDCE" Name="PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz" Type="SENSOR_FB" TypeUUID="F270F8224363670D924B1DBC1AB19D14" Usage="internal" />
                    <Variable UUID="DCF8DED240975050075164877E0EBACE" Name="PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz" Type="SENSOR_FB" TypeUUID="F270F8224363670D924B1DBC1AB19D14" Usage="internal" />
                    <Variable UUID="FAA38ED5434ED01CFF86C2826BB8DFE5" Name="PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz" Type="SENSOR_FB" TypeUUID="F270F8224363670D924B1DBC1AB19D14" Usage="internal" />
                </Variables>
                <ST><![CDATA[//Измеряем длительность цикла
CurTime := CURRENT_TIMESTAMP();
cycleTime := LREAL_TO_REAL(ABS(CurTime - oldCurTime))/1000.0;
oldCurTime := CurTime;

TMR_BLK_ON(IN :=TRUE
			,PT :=T#5s);
TMO_BLK_ON :=TMR_BLK_ON.Q;

if NOT TMO_BLK_ON then INIT_TUNE_AnPar();
end_if;




// IN1. (Канал 1).
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz(ID    := 0 //INT. ID уникального датчика
                                       ,INPUT   := REAL_TO_DINT(11937.0 + (59550.0 - 11937.0)*(USOGSU_A1_3.i1 - 4.0)/16.0)                   //REAL. Сырое значение
                                       ,QUALITY   := USOGSU_A1_3.i1_status           //WORD. Код качества
                                       ,QUALITY_BLOCK := UINT#0 //SAUT_A1_FIXTURE.Slot3 //WORD. Статус модуля
                                       ,F_INPUT   := 0.0 //REAL. Числовое значение
                                       ,INPUT_FAULT  := FALSE //BOOL. Внешний признак неисправности датчика
                                       ,FAULT_LAG  := STRING_TO_TIME(INT_TO_STRING(REAL_TO_INT(PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.FAULT_LAG))) //TIME 0  Задержка определения неисправности
                                       ,S_TYPE   := WORD#16#0 //WORD 0  Тип, прошивка
                                       ,CL_SD_TEMP  := FALSE //BOOL 0  Climatic - 1, Standart-0 диапазон температуры
                                       ,SQR_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.SQR_ON //BOOL 0  Квадратичная шкала
                                       ,REVERSE_ON  := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.REVERSE_ON //BOOL 0  Обратная шкала
                                       ,EXCEPT_EN  := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.EXCEPT_EN //BOOL 0  Возможность исключения (ремонта)
                                       ,EXCEPT_FAULT := FALSE //BOOL 0  Исключать (выводить в ремонт) при неисправности
                                       ,TESTING_ON  := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.TESTING_ON //BOOL 0  Поверка
                                       ,SUBST_ON  := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.SUBST_ON //BOOL 0  Подмена
                                       ,SUBST_EN  := TRUE //BOOL 0  Возможность подмены
                                       ,LL_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.LL_SETP //REAL 0  Уставка НАУ
                                       ,L_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.L_SETP //REAL 0  Уставка НПУ
                                       ,H_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.H_SETP //REAL 0  Уставка ВПУ
                                       ,HH_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.HH_SETP //REAL 0  Уставка ВАУ
                                       ,LL_LAG   := STRING_TO_TIME(INT_TO_STRING(REAL_TO_INT(PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.LL_LAG))) //REAL 0  Задержка НАУ
                                       ,L_LAG   := STRING_TO_TIME(INT_TO_STRING(REAL_TO_INT(PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.L_LAG))) //REAL 0  Задержка НПУ
                                       ,H_LAG   := STRING_TO_TIME(INT_TO_STRING(REAL_TO_INT(PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.H_LAG))) //REAL 0  Задержка НПУ
                                       ,HH_LAG   := STRING_TO_TIME(INT_TO_STRING(REAL_TO_INT(PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.HH_LAG))) //REAL 0  Задержка ВАУ
                                       ,LL_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.LL_ON //BOOL 0  Включено НАУ
                                       ,L_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.L_ON //BOOL 0  Включено НПУ
                                       ,H_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.H_ON //BOOL 0  Включено ВПУ
                                       ,HH_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.HH_ON //BOOL 0  Включено ВАУ
                                       ,INV_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.INV_ON //BOOL 0  Разрешено определение НЗ
                                       ,FAULT_ON  := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.FAULT_ON //BOOL 0  Разрешено определение неисправности
                                       ,LL_ACT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.LL_ACT //BOOL 0  Введено НАУ
                                       ,L_ACT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.L_ACT //BOOL 0  Введено НПУ
                                       ,H_ACT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.H_ACT //BOOL 0  Введено ВПУ
                                       ,HH_ACT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.HH_ACT //BOOL 0  Введено ВАУ
                                       ,FAULT_ACT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.FAULT_ACT //BOOL 0  Введено определение неисправности
                                       ,FAULT_L_RESET   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.FAULT_L_RESET //BOOL 0  Сброс неисправности подключаемый
                                       ,Filtr_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.Filtr_ON //BOOL 0  Разрешение фильтра
                                       ,T_Filtr   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.T_Filtr //REAL 0  Постоянная времени фильтра
                                       ,SUBSTIT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.SUBSTIT //REAL 0  Значение подмены
                                       ,LO_LIM   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.LO_LIM //REAL 0  Нижний предел
                                       ,HI_LIM   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.HI_LIM //REAL 0  Верхний предел
                                       ,sensorInpMin := DINT#11937
                                       ,sensorInpMax := DINT#59550
                                       ,HYST   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.HYST //REAL 0  Гистерезис
                                       ,INV_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.INV_SETP //REAL 0  Уставка НЗ
                                       ,COMPENSATOR   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.COMPENSATOR //REAL 0  Коэфф. Компенсации
                                       ,EXCEPT_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.EXCEPT_ON //BOOL 0  Исключен (Ремонт)
                                       ,BELL_BLOCK   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.BELL_BLOCK //BOOL 0  Блокировка звуковой и световой сигнализации
                                       ,RSP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.RSP //BOOL 0  СКАДА: 1 - RSP, 0 - WINCC
									   ,AUTO_RESET := TRUE
                                       //INPUT_OUTPUT
                                       ,FAULT_RESET   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.FAULT_RESET //BOOL 0  Сброс неисправности
                                       ,ACKN_STATE   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.ACKN_STATE //WORD 0  Команда на квитирование. 0 - ВПУ; 1 - НПУ; 2 - ВАУ; 3 - НАУ; 4 - неисправность
                                       ,CMD_ACKN   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.CMD_ACKN //BOOL 0  Квитирование событий с ВУ (с фейсплейта)
                                       );

PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.OUTPUT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.OUTPUT;  // REAL  Значение
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.OUTPUT_FREE   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.OUTPUT_FREE; // REAL  Значение без учета подмен, фильтров и неисправностей
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.OUTPUT_P   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.OUTPUT_P; // REAL  Значение в процентах
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.Q_SUBST_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.Q_SUBST_ON; // BOOL  Подмена
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.EXCEPTED   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.EXCEPTED; // BOOL  Исключен (в ремонте)
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.FAULT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.FAULT;  // BOOL  Неисправность
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.ALM_CODE   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.ALM_CODE; // INT  Код неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.FAULT_ACK   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.FAULT_ACK; // BOOL  Неисправность квитирована
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.OUTPUT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.OUTPUT;  // REAL  Значение
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.FAULT_CUR   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.FAULT_CUR; // BOOL  Неисправность текущая
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.VSTATUS   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.VSTATUS;  // DWORD  Групповой дисплей
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.Q_LL   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.Q_LL;  // BOOL  Срабатывание НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.Q_L   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.Q_L;  // BOOL  Срабатывание НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.Q_H   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.Q_H;  // BOOL  Срабатывание ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.Q_HH   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.Q_HH;  // BOOL  Срабатывание ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.Q_OVL   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.Q_OVL; // BOOL  Зашкал вниз
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.Q_OVH   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.Q_OVH; // BOOL  Зашкал вверх
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.Q_LO_LIM   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.Q_LO_LIM; // REAL  Нижний предел
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.Q_HI_LIM   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.Q_HI_LIM; // REAL  Верхний предел
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.Q_LL_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.Q_LL_SETP; // REAL  Уставка НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.Q_L_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.Q_L_SETP; // REAL  Уставка НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.Q_H_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.Q_H_SETP; // REAL  Уставка ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.Q_HH_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.Q_HH_SETP; // REAL  Уставка ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.ALARM_STATE   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.ALARM_STATE; // DWORD  Состояние сигнализации
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.QLL_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.QLL_EV; // INT  Код события НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.QL_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.QL_EV; // INT  Код события НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.QH_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.QH_EV; // INT  Код события ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.QHH_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.QHH_EV; // INT  Код события ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.QFAIL_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.QFAIL_EV; // INT  Код события неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.QALERT_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.QALERT_EV; // INT  Код суммарного события
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.UST_STATE   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.UST_STATE; // DWORD  Слово ввода уставок
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.UST_ACKN   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_Bz.UST_ACKN; // BOOL  Уставка квитирована


FC_Ai_Check(VSTATUS := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.VSTATUS, 
			UST_STATE := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.UST_STATE, 
			VSTATUS_OLD := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.VSTATUS_OLD, 
			UST_STATE_OLD := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.UST_STATE_OLD,
			ShiftTime := ShiftTime, 
			TEXT := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.NAME_LONG, 
			TEXT2 := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.SOURCE
			channel := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_CUR_B.NAME_SHKAF);



// IN2. (Канал 2).
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz(ID    := 0 //INT. ID уникального датчика
                                       ,INPUT   := REAL_TO_DINT(11937.0 + (59550.0 - 11937.0)*(USOGSU_A1_3.i2 - 4.0)/16.0)                    //REAL. Сырое значение
                                       ,QUALITY   := USOGSU_A1_3.i2_status           //WORD. Код качества
                                       ,QUALITY_BLOCK := UINT#0 //SAUT_A1_FIXTURE.Slot3 //WORD. Статус модуля
                                       ,F_INPUT   := 0.0 //REAL. Числовое значение
                                       ,INPUT_FAULT  := FALSE //BOOL. Внешний признак неисправности датчика
                                       ,FAULT_LAG  := STRING_TO_TIME(INT_TO_STRING(REAL_TO_INT(PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.FAULT_LAG))) //TIME 0  Задержка определения неисправности
                                       ,S_TYPE   := WORD#16#0 //WORD 0  Тип, прошивка
                                       ,CL_SD_TEMP  := FALSE //BOOL 0  Climatic - 1, Standart-0 диапазон температуры
                                       ,SQR_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.SQR_ON //BOOL 0  Квадратичная шкала
                                       ,REVERSE_ON  := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.REVERSE_ON //BOOL 0  Обратная шкала
                                       ,EXCEPT_EN  := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.EXCEPT_EN //BOOL 0  Возможность исключения (ремонта)
                                       ,EXCEPT_FAULT := FALSE //BOOL 0  Исключать (выводить в ремонт) при неисправности
                                       ,TESTING_ON  := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.TESTING_ON //BOOL 0  Поверка
                                       ,SUBST_ON  := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.SUBST_ON //BOOL 0  Подмена
                                       ,SUBST_EN  := TRUE //BOOL 0  Возможность подмены
                                       ,LL_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.LL_SETP //REAL 0  Уставка НАУ
                                       ,L_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.L_SETP //REAL 0  Уставка НПУ
                                       ,H_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.H_SETP //REAL 0  Уставка ВПУ
                                       ,HH_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.HH_SETP //REAL 0  Уставка ВАУ
                                       ,LL_LAG   := STRING_TO_TIME(INT_TO_STRING(REAL_TO_INT(PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.LL_LAG))) //REAL 0  Задержка НАУ
                                       ,L_LAG   := STRING_TO_TIME(INT_TO_STRING(REAL_TO_INT(PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.L_LAG))) //REAL 0  Задержка НПУ
                                       ,H_LAG   := STRING_TO_TIME(INT_TO_STRING(REAL_TO_INT(PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.H_LAG))) //REAL 0  Задержка НПУ
                                       ,HH_LAG   := STRING_TO_TIME(INT_TO_STRING(REAL_TO_INT(PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.HH_LAG))) //REAL 0  Задержка ВАУ
                                       ,LL_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.LL_ON //BOOL 0  Включено НАУ
                                       ,L_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.L_ON //BOOL 0  Включено НПУ
                                       ,H_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.H_ON //BOOL 0  Включено ВПУ
                                       ,HH_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.HH_ON //BOOL 0  Включено ВАУ
                                       ,INV_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.INV_ON //BOOL 0  Разрешено определение НЗ
                                       ,FAULT_ON  := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.FAULT_ON //BOOL 0  Разрешено определение неисправности
                                       ,LL_ACT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.LL_ACT //BOOL 0  Введено НАУ
                                       ,L_ACT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.L_ACT //BOOL 0  Введено НПУ
                                       ,H_ACT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.H_ACT //BOOL 0  Введено ВПУ
                                       ,HH_ACT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.HH_ACT //BOOL 0  Введено ВАУ
                                       ,FAULT_ACT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.FAULT_ACT //BOOL 0  Введено определение неисправности
                                       ,FAULT_L_RESET   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.FAULT_L_RESET //BOOL 0  Сброс неисправности подключаемый
                                       ,Filtr_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.Filtr_ON //BOOL 0  Разрешение фильтра
                                       ,T_Filtr   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.T_Filtr //REAL 0  Постоянная времени фильтра
                                       ,SUBSTIT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.SUBSTIT //REAL 0  Значение подмены
                                       ,LO_LIM   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.LO_LIM //REAL 0  Нижний предел
                                       ,HI_LIM   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.HI_LIM //REAL 0  Верхний предел
                                       ,sensorInpMin := DINT#11937
                                       ,sensorInpMax := DINT#59550
                                       ,HYST   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.HYST //REAL 0  Гистерезис
                                       ,INV_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.INV_SETP //REAL 0  Уставка НЗ
                                       ,COMPENSATOR   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.COMPENSATOR //REAL 0  Коэфф. Компенсации
                                       ,EXCEPT_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.EXCEPT_ON //BOOL 0  Исключен (Ремонт)
                                       ,BELL_BLOCK   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.BELL_BLOCK //BOOL 0  Блокировка звуковой и световой сигнализации
                                       ,RSP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.RSP //BOOL 0  СКАДА: 1 - RSP, 0 - WINCC
									   ,AUTO_RESET := TRUE
                                       //INPUT_OUTPUT
                                       ,FAULT_RESET   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.FAULT_RESET //BOOL 0  Сброс неисправности
                                       ,ACKN_STATE   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.ACKN_STATE //WORD 0  Команда на квитирование. 0 - ВПУ; 1 - НПУ; 2 - ВАУ; 3 - НАУ; 4 - неисправность
                                       ,CMD_ACKN   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.CMD_ACKN //BOOL 0  Квитирование событий с ВУ (с фейсплейта)
                                       );

PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.OUTPUT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.OUTPUT;  // REAL  Значение
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.OUTPUT_FREE   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.OUTPUT_FREE; // REAL  Значение без учета подмен, фильтров и неисправностей
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.OUTPUT_P   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.OUTPUT_P; // REAL  Значение в процентах
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.Q_SUBST_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.Q_SUBST_ON; // BOOL  Подмена
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.EXCEPTED   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.EXCEPTED; // BOOL  Исключен (в ремонте)
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.FAULT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.FAULT;  // BOOL  Неисправность
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.ALM_CODE   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.ALM_CODE; // INT  Код неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.FAULT_ACK   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.FAULT_ACK; // BOOL  Неисправность квитирована
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.OUTPUT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.OUTPUT;  // REAL  Значение
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.FAULT_CUR   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.FAULT_CUR; // BOOL  Неисправность текущая
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.VSTATUS   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.VSTATUS;  // DWORD  Групповой дисплей
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.Q_LL   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.Q_LL;  // BOOL  Срабатывание НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.Q_L   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.Q_L;  // BOOL  Срабатывание НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.Q_H   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.Q_H;  // BOOL  Срабатывание ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.Q_HH   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.Q_HH;  // BOOL  Срабатывание ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.Q_OVL   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.Q_OVL; // BOOL  Зашкал вниз
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.Q_OVH   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.Q_OVH; // BOOL  Зашкал вверх
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.Q_LO_LIM   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.Q_LO_LIM; // REAL  Нижний предел
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.Q_HI_LIM   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.Q_HI_LIM; // REAL  Верхний предел
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.Q_LL_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.Q_LL_SETP; // REAL  Уставка НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.Q_L_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.Q_L_SETP; // REAL  Уставка НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.Q_H_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.Q_H_SETP; // REAL  Уставка ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.Q_HH_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.Q_HH_SETP; // REAL  Уставка ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.ALARM_STATE   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.ALARM_STATE; // DWORD  Состояние сигнализации
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.QLL_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.QLL_EV; // INT  Код события НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.QL_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.QL_EV; // INT  Код события НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.QH_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.QH_EV; // INT  Код события ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.QHH_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.QHH_EV; // INT  Код события ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.QFAIL_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.QFAIL_EV; // INT  Код события неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.QALERT_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.QALERT_EV; // INT  Код суммарного события
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.UST_STATE   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.UST_STATE; // DWORD  Слово ввода уставок
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.UST_ACKN   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_ACz.UST_ACKN; // BOOL  Уставка квитирована


FC_Ai_Check(VSTATUS := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.VSTATUS, 
			UST_STATE := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.UST_STATE, 
			VSTATUS_OLD := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.VSTATUS_OLD, 
			UST_STATE_OLD := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.UST_STATE_OLD,
			ShiftTime := ShiftTime, 
			TEXT := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.NAME_LONG, 
			TEXT2 := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.SOURCE
			channel := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1Q_V_AC.NAME_SHKAF);




// IN3. (Канал 3).
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz(ID    := 0 //INT. ID уникального датчика
                                       ,INPUT   := REAL_TO_DINT(11937.0 + (59550.0 - 11937.0)*(USOGSU_A1_3.i3 - 4.0)/16.0)                     //REAL. Сырое значение
                                       ,QUALITY   := USOGSU_A1_3.i3_status           //WORD. Код качества
                                       ,QUALITY_BLOCK := UINT#0 //SAUT_A1_FIXTURE.Slot3 //WORD. Статус модуля
                                       ,F_INPUT   := 0.0 //REAL. Числовое значение
                                       ,INPUT_FAULT  := FALSE //BOOL. Внешний признак неисправности датчика
                                       ,FAULT_LAG  := STRING_TO_TIME(INT_TO_STRING(REAL_TO_INT(PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.FAULT_LAG))) //TIME 0  Задержка определения неисправности
                                       ,S_TYPE   := WORD#16#0 //WORD 0  Тип, прошивка
                                       ,CL_SD_TEMP  := FALSE //BOOL 0  Climatic - 1, Standart-0 диапазон температуры
                                       ,SQR_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.SQR_ON //BOOL 0  Квадратичная шкала
                                       ,REVERSE_ON  := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.REVERSE_ON //BOOL 0  Обратная шкала
                                       ,EXCEPT_EN  := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.EXCEPT_EN //BOOL 0  Возможность исключения (ремонта)
                                       ,EXCEPT_FAULT := FALSE //BOOL 0  Исключать (выводить в ремонт) при неисправности
                                       ,TESTING_ON  := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.TESTING_ON //BOOL 0  Поверка
                                       ,SUBST_ON  := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.SUBST_ON //BOOL 0  Подмена
                                       ,SUBST_EN  := TRUE //BOOL 0  Возможность подмены
                                       ,LL_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.LL_SETP //REAL 0  Уставка НАУ
                                       ,L_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.L_SETP //REAL 0  Уставка НПУ
                                       ,H_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.H_SETP //REAL 0  Уставка ВПУ
                                       ,HH_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.HH_SETP //REAL 0  Уставка ВАУ
                                       ,LL_LAG   := STRING_TO_TIME(INT_TO_STRING(REAL_TO_INT(PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.LL_LAG))) //REAL 0  Задержка НАУ
                                       ,L_LAG   := STRING_TO_TIME(INT_TO_STRING(REAL_TO_INT(PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.L_LAG))) //REAL 0  Задержка НПУ
                                       ,H_LAG   := STRING_TO_TIME(INT_TO_STRING(REAL_TO_INT(PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.H_LAG))) //REAL 0  Задержка НПУ
                                       ,HH_LAG   := STRING_TO_TIME(INT_TO_STRING(REAL_TO_INT(PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.HH_LAG))) //REAL 0  Задержка ВАУ
                                       ,LL_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.LL_ON //BOOL 0  Включено НАУ
                                       ,L_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.L_ON //BOOL 0  Включено НПУ
                                       ,H_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.H_ON //BOOL 0  Включено ВПУ
                                       ,HH_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.HH_ON //BOOL 0  Включено ВАУ
                                       ,INV_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.INV_ON //BOOL 0  Разрешено определение НЗ
                                       ,FAULT_ON  := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.FAULT_ON //BOOL 0  Разрешено определение неисправности
                                       ,LL_ACT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.LL_ACT //BOOL 0  Введено НАУ
                                       ,L_ACT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.L_ACT //BOOL 0  Введено НПУ
                                       ,H_ACT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.H_ACT //BOOL 0  Введено ВПУ
                                       ,HH_ACT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.HH_ACT //BOOL 0  Введено ВАУ
                                       ,FAULT_ACT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.FAULT_ACT //BOOL 0  Введено определение неисправности
                                       ,FAULT_L_RESET   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.FAULT_L_RESET //BOOL 0  Сброс неисправности подключаемый
                                       ,Filtr_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.Filtr_ON //BOOL 0  Разрешение фильтра
                                       ,T_Filtr   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.T_Filtr //REAL 0  Постоянная времени фильтра
                                       ,SUBSTIT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.SUBSTIT //REAL 0  Значение подмены
                                       ,LO_LIM   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.LO_LIM //REAL 0  Нижний предел
                                       ,HI_LIM   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.HI_LIM //REAL 0  Верхний предел
                                       ,sensorInpMin := DINT#11937
                                       ,sensorInpMax := DINT#59550
                                       ,HYST   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.HYST //REAL 0  Гистерезис
                                       ,INV_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.INV_SETP //REAL 0  Уставка НЗ
                                       ,COMPENSATOR   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.COMPENSATOR //REAL 0  Коэфф. Компенсации
                                       ,EXCEPT_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.EXCEPT_ON //BOOL 0  Исключен (Ремонт)
                                       ,BELL_BLOCK   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.BELL_BLOCK //BOOL 0  Блокировка звуковой и световой сигнализации
                                       ,RSP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.RSP //BOOL 0  СКАДА: 1 - RSP, 0 - WINCC
									   ,AUTO_RESET := TRUE
                                       //INPUT_OUTPUT
                                       ,FAULT_RESET   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.FAULT_RESET //BOOL 0  Сброс неисправности
                                       ,ACKN_STATE   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.ACKN_STATE //WORD 0  Команда на квитирование. 0 - ВПУ; 1 - НПУ; 2 - ВАУ; 3 - НАУ; 4 - неисправность
                                       ,CMD_ACKN   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.CMD_ACKN //BOOL 0  Квитирование событий с ВУ (с фейсплейта)
                                       );

PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.OUTPUT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.OUTPUT;  // REAL  Значение
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.OUTPUT_FREE   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.OUTPUT_FREE; // REAL  Значение без учета подмен, фильтров и неисправностей
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.OUTPUT_P   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.OUTPUT_P; // REAL  Значение в процентах
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.Q_SUBST_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.Q_SUBST_ON; // BOOL  Подмена
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.EXCEPTED   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.EXCEPTED; // BOOL  Исключен (в ремонте)
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.FAULT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.FAULT;  // BOOL  Неисправность
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.ALM_CODE   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.ALM_CODE; // INT  Код неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.FAULT_ACK   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.FAULT_ACK; // BOOL  Неисправность квитирована
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.OUTPUT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.OUTPUT;  // REAL  Значение
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.FAULT_CUR   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.FAULT_CUR; // BOOL  Неисправность текущая
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.VSTATUS   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.VSTATUS;  // DWORD  Групповой дисплей
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.Q_LL   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.Q_LL;  // BOOL  Срабатывание НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.Q_L   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.Q_L;  // BOOL  Срабатывание НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.Q_H   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.Q_H;  // BOOL  Срабатывание ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.Q_HH   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.Q_HH;  // BOOL  Срабатывание ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.Q_OVL   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.Q_OVL; // BOOL  Зашкал вниз
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.Q_OVH   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.Q_OVH; // BOOL  Зашкал вверх
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.Q_LO_LIM   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.Q_LO_LIM; // REAL  Нижний предел
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.Q_HI_LIM   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.Q_HI_LIM; // REAL  Верхний предел
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.Q_LL_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.Q_LL_SETP; // REAL  Уставка НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.Q_L_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.Q_L_SETP; // REAL  Уставка НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.Q_H_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.Q_H_SETP; // REAL  Уставка ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.Q_HH_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.Q_HH_SETP; // REAL  Уставка ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.ALARM_STATE   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.ALARM_STATE; // DWORD  Состояние сигнализации
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.QLL_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.QLL_EV; // INT  Код события НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.QL_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.QL_EV; // INT  Код события НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.QH_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.QH_EV; // INT  Код события ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.QHH_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.QHH_EV; // INT  Код события ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.QFAIL_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.QFAIL_EV; // INT  Код события неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.QALERT_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.QALERT_EV; // INT  Код суммарного события
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.UST_STATE   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.UST_STATE; // DWORD  Слово ввода уставок
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.UST_ACKN   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BCz.UST_ACKN; // BOOL  Уставка квитирована


FC_Ai_Check(VSTATUS := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.VSTATUS, 
			UST_STATE := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.UST_STATE, 
			VSTATUS_OLD := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.VSTATUS_OLD, 
			UST_STATE_OLD := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.UST_STATE_OLD,
			ShiftTime := ShiftTime, 
			TEXT := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.NAME_LONG, 
			TEXT2 := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.SOURCE
			channel := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_1SEC_V_BC.NAME_SHKAF);





// IN4. (Канал 4).
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz(ID    := 0 //INT. ID уникального датчика
                                       ,INPUT   := REAL_TO_DINT(11937.0 + (59550.0 - 11937.0)*(USOGSU_A1_3.i4 - 4.0)/16.0)                    //REAL. Сырое значение
                                       ,QUALITY   := USOGSU_A1_3.i4_status           //WORD. Код качества
                                       ,QUALITY_BLOCK := UINT#0 //SAUT_A1_FIXTURE.Slot3 //WORD. Статус модуля
                                       ,F_INPUT   := 0.0 //REAL. Числовое значение
                                       ,INPUT_FAULT  := FALSE //BOOL. Внешний признак неисправности датчика
                                       ,FAULT_LAG  := STRING_TO_TIME(INT_TO_STRING(REAL_TO_INT(PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.FAULT_LAG))) //TIME 0  Задержка определения неисправности
                                       ,S_TYPE   := WORD#16#0 //WORD 0  Тип, прошивка
                                       ,CL_SD_TEMP  := FALSE //BOOL 0  Climatic - 1, Standart-0 диапазон температуры
                                       ,SQR_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.SQR_ON //BOOL 0  Квадратичная шкала
                                       ,REVERSE_ON  := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.REVERSE_ON //BOOL 0  Обратная шкала
                                       ,EXCEPT_EN  := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.EXCEPT_EN //BOOL 0  Возможность исключения (ремонта)
                                       ,EXCEPT_FAULT := FALSE //BOOL 0  Исключать (выводить в ремонт) при неисправности
                                       ,TESTING_ON  := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.TESTING_ON //BOOL 0  Поверка
                                       ,SUBST_ON  := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.SUBST_ON //BOOL 0  Подмена
                                       ,SUBST_EN  := TRUE //BOOL 0  Возможность подмены
                                       ,LL_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.LL_SETP //REAL 0  Уставка НАУ
                                       ,L_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.L_SETP //REAL 0  Уставка НПУ
                                       ,H_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.H_SETP //REAL 0  Уставка ВПУ
                                       ,HH_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.HH_SETP //REAL 0  Уставка ВАУ
                                       ,LL_LAG   := STRING_TO_TIME(INT_TO_STRING(REAL_TO_INT(PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.LL_LAG))) //REAL 0  Задержка НАУ
                                       ,L_LAG   := STRING_TO_TIME(INT_TO_STRING(REAL_TO_INT(PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.L_LAG))) //REAL 0  Задержка НПУ
                                       ,H_LAG   := STRING_TO_TIME(INT_TO_STRING(REAL_TO_INT(PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.H_LAG))) //REAL 0  Задержка НПУ
                                       ,HH_LAG   := STRING_TO_TIME(INT_TO_STRING(REAL_TO_INT(PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.HH_LAG))) //REAL 0  Задержка ВАУ
                                       ,LL_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.LL_ON //BOOL 0  Включено НАУ
                                       ,L_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.L_ON //BOOL 0  Включено НПУ
                                       ,H_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.H_ON //BOOL 0  Включено ВПУ
                                       ,HH_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.HH_ON //BOOL 0  Включено ВАУ
                                       ,INV_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.INV_ON //BOOL 0  Разрешено определение НЗ
                                       ,FAULT_ON  := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.FAULT_ON //BOOL 0  Разрешено определение неисправности
                                       ,LL_ACT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.LL_ACT //BOOL 0  Введено НАУ
                                       ,L_ACT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.L_ACT //BOOL 0  Введено НПУ
                                       ,H_ACT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.H_ACT //BOOL 0  Введено ВПУ
                                       ,HH_ACT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.HH_ACT //BOOL 0  Введено ВАУ
                                       ,FAULT_ACT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.FAULT_ACT //BOOL 0  Введено определение неисправности
                                       ,FAULT_L_RESET   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.FAULT_L_RESET //BOOL 0  Сброс неисправности подключаемый
                                       ,Filtr_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.Filtr_ON //BOOL 0  Разрешение фильтра
                                       ,T_Filtr   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.T_Filtr //REAL 0  Постоянная времени фильтра
                                       ,SUBSTIT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.SUBSTIT //REAL 0  Значение подмены
                                       ,LO_LIM   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.LO_LIM //REAL 0  Нижний предел
                                       ,HI_LIM   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.HI_LIM //REAL 0  Верхний предел
                                       ,sensorInpMin := DINT#11937
                                       ,sensorInpMax := DINT#59550
                                       ,HYST   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.HYST //REAL 0  Гистерезис
                                       ,INV_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.INV_SETP //REAL 0  Уставка НЗ
                                       ,COMPENSATOR   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.COMPENSATOR //REAL 0  Коэфф. Компенсации
                                       ,EXCEPT_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.EXCEPT_ON //BOOL 0  Исключен (Ремонт)
                                       ,BELL_BLOCK   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.BELL_BLOCK //BOOL 0  Блокировка звуковой и световой сигнализации
                                       ,RSP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.RSP //BOOL 0  СКАДА: 1 - RSP, 0 - WINCC
									   ,AUTO_RESET := TRUE
                                       //INPUT_OUTPUT
                                       ,FAULT_RESET   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.FAULT_RESET //BOOL 0  Сброс неисправности
                                       ,ACKN_STATE   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.ACKN_STATE //WORD 0  Команда на квитирование. 0 - ВПУ; 1 - НПУ; 2 - ВАУ; 3 - НАУ; 4 - неисправность
                                       ,CMD_ACKN   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.CMD_ACKN //BOOL 0  Квитирование событий с ВУ (с фейсплейта)
                                       );

PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.OUTPUT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.OUTPUT;  // REAL  Значение
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.OUTPUT_FREE   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.OUTPUT_FREE; // REAL  Значение без учета подмен, фильтров и неисправностей
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.OUTPUT_P   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.OUTPUT_P; // REAL  Значение в процентах
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.Q_SUBST_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.Q_SUBST_ON; // BOOL  Подмена
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.EXCEPTED   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.EXCEPTED; // BOOL  Исключен (в ремонте)
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.FAULT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.FAULT;  // BOOL  Неисправность
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.ALM_CODE   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.ALM_CODE; // INT  Код неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.FAULT_ACK   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.FAULT_ACK; // BOOL  Неисправность квитирована
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.OUTPUT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.OUTPUT;  // REAL  Значение
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.FAULT_CUR   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.FAULT_CUR; // BOOL  Неисправность текущая
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.VSTATUS   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.VSTATUS;  // DWORD  Групповой дисплей
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.Q_LL   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.Q_LL;  // BOOL  Срабатывание НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.Q_L   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.Q_L;  // BOOL  Срабатывание НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.Q_H   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.Q_H;  // BOOL  Срабатывание ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.Q_HH   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.Q_HH;  // BOOL  Срабатывание ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.Q_OVL   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.Q_OVL; // BOOL  Зашкал вниз
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.Q_OVH   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.Q_OVH; // BOOL  Зашкал вверх
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.Q_LO_LIM   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.Q_LO_LIM; // REAL  Нижний предел
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.Q_HI_LIM   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.Q_HI_LIM; // REAL  Верхний предел
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.Q_LL_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.Q_LL_SETP; // REAL  Уставка НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.Q_L_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.Q_L_SETP; // REAL  Уставка НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.Q_H_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.Q_H_SETP; // REAL  Уставка ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.Q_HH_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.Q_HH_SETP; // REAL  Уставка ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.ALARM_STATE   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.ALARM_STATE; // DWORD  Состояние сигнализации
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.QLL_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.QLL_EV; // INT  Код события НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.QL_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.QL_EV; // INT  Код события НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.QH_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.QH_EV; // INT  Код события ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.QHH_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.QHH_EV; // INT  Код события ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.QFAIL_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.QFAIL_EV; // INT  Код события неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.QALERT_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.QALERT_EV; // INT  Код суммарного события
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.UST_STATE   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.UST_STATE; // DWORD  Слово ввода уставок
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.UST_ACKN   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_Bz.UST_ACKN; // BOOL  Уставка квитирована


FC_Ai_Check(VSTATUS := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.VSTATUS, 
			UST_STATE := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.UST_STATE, 
			VSTATUS_OLD := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.VSTATUS_OLD, 
			UST_STATE_OLD := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.UST_STATE_OLD,
			ShiftTime := ShiftTime, 
			TEXT := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.NAME_LONG, 
			TEXT2 := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.SOURCE
			channel := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_CUR_B.NAME_SHKAF);



// IN1. (Канал 1).
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz(ID    := 0 //INT. ID уникального датчика
                                       ,INPUT   := REAL_TO_DINT(11937.0 + (59550.0 - 11937.0)*(USOGSU_A1_4.i1 - 4.0)/16.0)                     //REAL. Сырое значение
                                       ,QUALITY   := USOGSU_A1_4.i1_status           //WORD. Код качества
                                       ,QUALITY_BLOCK := UINT#0 //SAUT_A1_FIXTURE.Slot3 //WORD. Статус модуля
                                       ,F_INPUT   := 0.0 //REAL. Числовое значение
                                       ,INPUT_FAULT  := FALSE //BOOL. Внешний признак неисправности датчика
                                       ,FAULT_LAG  := STRING_TO_TIME(INT_TO_STRING(REAL_TO_INT(PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.FAULT_LAG))) //TIME 0  Задержка определения неисправности
                                       ,S_TYPE   := WORD#16#0 //WORD 0  Тип, прошивка
                                       ,CL_SD_TEMP  := FALSE //BOOL 0  Climatic - 1, Standart-0 диапазон температуры
                                       ,SQR_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.SQR_ON //BOOL 0  Квадратичная шкала
                                       ,REVERSE_ON  := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.REVERSE_ON //BOOL 0  Обратная шкала
                                       ,EXCEPT_EN  := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.EXCEPT_EN //BOOL 0  Возможность исключения (ремонта)
                                       ,EXCEPT_FAULT := FALSE //BOOL 0  Исключать (выводить в ремонт) при неисправности
                                       ,TESTING_ON  := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.TESTING_ON //BOOL 0  Поверка
                                       ,SUBST_ON  := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.SUBST_ON //BOOL 0  Подмена
                                       ,SUBST_EN  := TRUE //BOOL 0  Возможность подмены
                                       ,LL_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.LL_SETP //REAL 0  Уставка НАУ
                                       ,L_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.L_SETP //REAL 0  Уставка НПУ
                                       ,H_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.H_SETP //REAL 0  Уставка ВПУ
                                       ,HH_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.HH_SETP //REAL 0  Уставка ВАУ
                                       ,LL_LAG   := STRING_TO_TIME(INT_TO_STRING(REAL_TO_INT(PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.LL_LAG))) //REAL 0  Задержка НАУ
                                       ,L_LAG   := STRING_TO_TIME(INT_TO_STRING(REAL_TO_INT(PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.L_LAG))) //REAL 0  Задержка НПУ
                                       ,H_LAG   := STRING_TO_TIME(INT_TO_STRING(REAL_TO_INT(PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.H_LAG))) //REAL 0  Задержка НПУ
                                       ,HH_LAG   := STRING_TO_TIME(INT_TO_STRING(REAL_TO_INT(PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.HH_LAG))) //REAL 0  Задержка ВАУ
                                       ,LL_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.LL_ON //BOOL 0  Включено НАУ
                                       ,L_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.L_ON //BOOL 0  Включено НПУ
                                       ,H_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.H_ON //BOOL 0  Включено ВПУ
                                       ,HH_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.HH_ON //BOOL 0  Включено ВАУ
                                       ,INV_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.INV_ON //BOOL 0  Разрешено определение НЗ
                                       ,FAULT_ON  := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.FAULT_ON //BOOL 0  Разрешено определение неисправности
                                       ,LL_ACT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.LL_ACT //BOOL 0  Введено НАУ
                                       ,L_ACT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.L_ACT //BOOL 0  Введено НПУ
                                       ,H_ACT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.H_ACT //BOOL 0  Введено ВПУ
                                       ,HH_ACT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.HH_ACT //BOOL 0  Введено ВАУ
                                       ,FAULT_ACT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.FAULT_ACT //BOOL 0  Введено определение неисправности
                                       ,FAULT_L_RESET   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.FAULT_L_RESET //BOOL 0  Сброс неисправности подключаемый
                                       ,Filtr_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.Filtr_ON //BOOL 0  Разрешение фильтра
                                       ,T_Filtr   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.T_Filtr //REAL 0  Постоянная времени фильтра
                                       ,SUBSTIT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.SUBSTIT //REAL 0  Значение подмены
                                       ,LO_LIM   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.LO_LIM //REAL 0  Нижний предел
                                       ,HI_LIM   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.HI_LIM //REAL 0  Верхний предел
                                       ,sensorInpMin := DINT#11937
                                       ,sensorInpMax := DINT#59550
                                       ,HYST   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.HYST //REAL 0  Гистерезис
                                       ,INV_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.INV_SETP //REAL 0  Уставка НЗ
                                       ,COMPENSATOR   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.COMPENSATOR //REAL 0  Коэфф. Компенсации
                                       ,EXCEPT_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.EXCEPT_ON //BOOL 0  Исключен (Ремонт)
                                       ,BELL_BLOCK   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.BELL_BLOCK //BOOL 0  Блокировка звуковой и световой сигнализации
                                       ,RSP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.RSP //BOOL 0  СКАДА: 1 - RSP, 0 - WINCC
									   ,AUTO_RESET := TRUE
                                       //INPUT_OUTPUT
                                       ,FAULT_RESET   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.FAULT_RESET //BOOL 0  Сброс неисправности
                                       ,ACKN_STATE   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.ACKN_STATE //WORD 0  Команда на квитирование. 0 - ВПУ; 1 - НПУ; 2 - ВАУ; 3 - НАУ; 4 - неисправность
                                       ,CMD_ACKN   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.CMD_ACKN //BOOL 0  Квитирование событий с ВУ (с фейсплейта)
                                       );

PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.OUTPUT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.OUTPUT;  // REAL  Значение
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.OUTPUT_FREE   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.OUTPUT_FREE; // REAL  Значение без учета подмен, фильтров и неисправностей
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.OUTPUT_P   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.OUTPUT_P; // REAL  Значение в процентах
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.Q_SUBST_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.Q_SUBST_ON; // BOOL  Подмена
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.EXCEPTED   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.EXCEPTED; // BOOL  Исключен (в ремонте)
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.FAULT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.FAULT;  // BOOL  Неисправность
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.ALM_CODE   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.ALM_CODE; // INT  Код неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.FAULT_ACK   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.FAULT_ACK; // BOOL  Неисправность квитирована
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.OUTPUT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.OUTPUT;  // REAL  Значение
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.FAULT_CUR   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.FAULT_CUR; // BOOL  Неисправность текущая
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.VSTATUS   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.VSTATUS;  // DWORD  Групповой дисплей
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.Q_LL   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.Q_LL;  // BOOL  Срабатывание НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.Q_L   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.Q_L;  // BOOL  Срабатывание НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.Q_H   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.Q_H;  // BOOL  Срабатывание ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.Q_HH   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.Q_HH;  // BOOL  Срабатывание ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.Q_OVL   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.Q_OVL; // BOOL  Зашкал вниз
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.Q_OVH   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.Q_OVH; // BOOL  Зашкал вверх
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.Q_LO_LIM   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.Q_LO_LIM; // REAL  Нижний предел
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.Q_HI_LIM   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.Q_HI_LIM; // REAL  Верхний предел
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.Q_LL_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.Q_LL_SETP; // REAL  Уставка НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.Q_L_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.Q_L_SETP; // REAL  Уставка НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.Q_H_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.Q_H_SETP; // REAL  Уставка ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.Q_HH_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.Q_HH_SETP; // REAL  Уставка ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.ALARM_STATE   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.ALARM_STATE; // DWORD  Состояние сигнализации
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.QLL_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.QLL_EV; // INT  Код события НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.QL_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.QL_EV; // INT  Код события НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.QH_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.QH_EV; // INT  Код события ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.QHH_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.QHH_EV; // INT  Код события ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.QFAIL_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.QFAIL_EV; // INT  Код события неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.QALERT_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.QALERT_EV; // INT  Код суммарного события
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.UST_STATE   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.UST_STATE; // DWORD  Слово ввода уставок
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.UST_ACKN   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_ACz.UST_ACKN; // BOOL  Уставка квитирована


FC_Ai_Check(VSTATUS := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.VSTATUS, 
			UST_STATE := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.UST_STATE, 
			VSTATUS_OLD := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.VSTATUS_OLD, 
			UST_STATE_OLD := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.UST_STATE_OLD,
			ShiftTime := ShiftTime, 
			TEXT := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.NAME_LONG, 
			TEXT2 := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.SOURCE
			channel := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2Q_V_AC.NAME_SHKAF);



// IN2. (Канал 2).
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz(ID    := 0 //INT. ID уникального датчика
                                       ,INPUT   := REAL_TO_DINT(11937.0 + (59550.0 - 11937.0)*(USOGSU_A1_4.i2 - 4.0)/16.0)                     //REAL. Сырое значение
                                       ,QUALITY   := USOGSU_A1_4.i2_status          //WORD. Код качества
                                       ,QUALITY_BLOCK := UINT#0 //SAUT_A1_FIXTURE.Slot3 //WORD. Статус модуля
                                       ,F_INPUT   := 0.0 //REAL. Числовое значение
                                       ,INPUT_FAULT  := FALSE //BOOL. Внешний признак неисправности датчика
                                       ,FAULT_LAG  := STRING_TO_TIME(INT_TO_STRING(REAL_TO_INT(PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.FAULT_LAG))) //TIME 0  Задержка определения неисправности
                                       ,S_TYPE   := WORD#16#0 //WORD 0  Тип, прошивка
                                       ,CL_SD_TEMP  := FALSE //BOOL 0  Climatic - 1, Standart-0 диапазон температуры
                                       ,SQR_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.SQR_ON //BOOL 0  Квадратичная шкала
                                       ,REVERSE_ON  := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.REVERSE_ON //BOOL 0  Обратная шкала
                                       ,EXCEPT_EN  := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.EXCEPT_EN //BOOL 0  Возможность исключения (ремонта)
                                       ,EXCEPT_FAULT := FALSE //BOOL 0  Исключать (выводить в ремонт) при неисправности
                                       ,TESTING_ON  := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.TESTING_ON //BOOL 0  Поверка
                                       ,SUBST_ON  := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.SUBST_ON //BOOL 0  Подмена
                                       ,SUBST_EN  := TRUE //BOOL 0  Возможность подмены
                                       ,LL_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.LL_SETP //REAL 0  Уставка НАУ
                                       ,L_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.L_SETP //REAL 0  Уставка НПУ
                                       ,H_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.H_SETP //REAL 0  Уставка ВПУ
                                       ,HH_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.HH_SETP //REAL 0  Уставка ВАУ
                                       ,LL_LAG   := STRING_TO_TIME(INT_TO_STRING(REAL_TO_INT(PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.LL_LAG))) //REAL 0  Задержка НАУ
                                       ,L_LAG   := STRING_TO_TIME(INT_TO_STRING(REAL_TO_INT(PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.L_LAG))) //REAL 0  Задержка НПУ
                                       ,H_LAG   := STRING_TO_TIME(INT_TO_STRING(REAL_TO_INT(PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.H_LAG))) //REAL 0  Задержка НПУ
                                       ,HH_LAG   := STRING_TO_TIME(INT_TO_STRING(REAL_TO_INT(PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.HH_LAG))) //REAL 0  Задержка ВАУ
                                       ,LL_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.LL_ON //BOOL 0  Включено НАУ
                                       ,L_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.L_ON //BOOL 0  Включено НПУ
                                       ,H_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.H_ON //BOOL 0  Включено ВПУ
                                       ,HH_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.HH_ON //BOOL 0  Включено ВАУ
                                       ,INV_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.INV_ON //BOOL 0  Разрешено определение НЗ
                                       ,FAULT_ON  := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.FAULT_ON //BOOL 0  Разрешено определение неисправности
                                       ,LL_ACT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.LL_ACT //BOOL 0  Введено НАУ
                                       ,L_ACT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.L_ACT //BOOL 0  Введено НПУ
                                       ,H_ACT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.H_ACT //BOOL 0  Введено ВПУ
                                       ,HH_ACT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.HH_ACT //BOOL 0  Введено ВАУ
                                       ,FAULT_ACT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.FAULT_ACT //BOOL 0  Введено определение неисправности
                                       ,FAULT_L_RESET   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.FAULT_L_RESET //BOOL 0  Сброс неисправности подключаемый
                                       ,Filtr_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.Filtr_ON //BOOL 0  Разрешение фильтра
                                       ,T_Filtr   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.T_Filtr //REAL 0  Постоянная времени фильтра
                                       ,SUBSTIT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.SUBSTIT //REAL 0  Значение подмены
                                       ,LO_LIM   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.LO_LIM //REAL 0  Нижний предел
                                       ,HI_LIM   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.HI_LIM //REAL 0  Верхний предел
                                       ,sensorInpMin := DINT#11937
                                       ,sensorInpMax := DINT#59550
                                       ,HYST   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.HYST //REAL 0  Гистерезис
                                       ,INV_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.INV_SETP //REAL 0  Уставка НЗ
                                       ,COMPENSATOR   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.COMPENSATOR //REAL 0  Коэфф. Компенсации
                                       ,EXCEPT_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.EXCEPT_ON //BOOL 0  Исключен (Ремонт)
                                       ,BELL_BLOCK   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.BELL_BLOCK //BOOL 0  Блокировка звуковой и световой сигнализации
                                       ,RSP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.RSP //BOOL 0  СКАДА: 1 - RSP, 0 - WINCC
									   ,AUTO_RESET := TRUE
                                       //INPUT_OUTPUT
                                       ,FAULT_RESET   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.FAULT_RESET //BOOL 0  Сброс неисправности
                                       ,ACKN_STATE   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.ACKN_STATE //WORD 0  Команда на квитирование. 0 - ВПУ; 1 - НПУ; 2 - ВАУ; 3 - НАУ; 4 - неисправность
                                       ,CMD_ACKN   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.CMD_ACKN //BOOL 0  Квитирование событий с ВУ (с фейсплейта)
                                       );

PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.OUTPUT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.OUTPUT;  // REAL  Значение
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.OUTPUT_FREE   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.OUTPUT_FREE; // REAL  Значение без учета подмен, фильтров и неисправностей
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.OUTPUT_P   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.OUTPUT_P; // REAL  Значение в процентах
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.Q_SUBST_ON   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.Q_SUBST_ON; // BOOL  Подмена
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.EXCEPTED   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.EXCEPTED; // BOOL  Исключен (в ремонте)
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.FAULT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.FAULT;  // BOOL  Неисправность
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.ALM_CODE   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.ALM_CODE; // INT  Код неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.FAULT_ACK   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.FAULT_ACK; // BOOL  Неисправность квитирована
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.OUTPUT   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.OUTPUT;  // REAL  Значение
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.FAULT_CUR   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.FAULT_CUR; // BOOL  Неисправность текущая
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.VSTATUS   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.VSTATUS;  // DWORD  Групповой дисплей
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.Q_LL   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.Q_LL;  // BOOL  Срабатывание НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.Q_L   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.Q_L;  // BOOL  Срабатывание НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.Q_H   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.Q_H;  // BOOL  Срабатывание ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.Q_HH   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.Q_HH;  // BOOL  Срабатывание ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.Q_OVL   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.Q_OVL; // BOOL  Зашкал вниз
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.Q_OVH   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.Q_OVH; // BOOL  Зашкал вверх
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.Q_LO_LIM   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.Q_LO_LIM; // REAL  Нижний предел
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.Q_HI_LIM   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.Q_HI_LIM; // REAL  Верхний предел
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.Q_LL_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.Q_LL_SETP; // REAL  Уставка НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.Q_L_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.Q_L_SETP; // REAL  Уставка НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.Q_H_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.Q_H_SETP; // REAL  Уставка ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.Q_HH_SETP   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.Q_HH_SETP; // REAL  Уставка ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.ALARM_STATE   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.ALARM_STATE; // DWORD  Состояние сигнализации
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.QLL_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.QLL_EV; // INT  Код события НАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.QL_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.QL_EV; // INT  Код события НПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.QH_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.QH_EV; // INT  Код события ВПУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.QHH_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.QHH_EV; // INT  Код события ВАУ
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.QFAIL_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.QFAIL_EV; // INT  Код события неисправности
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.QALERT_EV   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.QALERT_EV; // INT  Код суммарного события
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.UST_STATE   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.UST_STATE; // DWORD  Слово ввода уставок
PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.UST_ACKN   := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BCz.UST_ACKN; // BOOL  Уставка квитирована


FC_Ai_Check(VSTATUS := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.VSTATUS, 
			UST_STATE := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.UST_STATE, 
			VSTATUS_OLD := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.VSTATUS_OLD, 
			UST_STATE_OLD := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.UST_STATE_OLD,
			ShiftTime := ShiftTime, 
			TEXT := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.NAME_LONG, 
			TEXT2 := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.SOURCE
			channel := PLC_GSP_SEV_KSSEV_E_USOGSU_AI_PAN01_2SEC_V_BC.NAME_SHKAF);]]></ST>
            </FunctionBlock>
            <FunctionBlock UUID="97C2E9DA4947F9A0A13CD5A196DCAC88" Name="COUNTER">
                <Variables />
                <ST><![CDATA[//Счетчик 
IF COUNTER.COUNT_USOGSU <= 20000 THEN
		COUNTER.COUNT_USOGSU := COUNTER.COUNT_USOGSU + 1;
		ELSE COUNTER.COUNT_USOGSU := 0;
END_IF;]]></ST>
            </FunctionBlock>
            <FunctionBlock UUID="CFDE58FC41B6F8997C91B0ADB45B1FAE" Name="SLOT_FAULT">
                <Variables />
                <ST><![CDATA[USOGSU_A1_EVENT_FAULT.CPU.status := PLC_USOGSU_A1_FAULT.CPU;
USOGSU_A1_EVENT_FAULT.CPU.SOURCE := 'УСО МСС7. ПЛК А1';
USOGSU_A1_EVENT_FAULT.CPU.NAME := 'Частичная неисправность в корзине ПЛК';
FC_FAULT_CHECK(FAULT := USOGSU_A1_EVENT_FAULT.CPU);


USOGSU_A1_EVENT_FAULT.SLOT3.status := PLC_USOGSU_A1_FAULT.Slot3;
USOGSU_A1_EVENT_FAULT.SLOT3.SOURCE := 'УСО МСС7. ПЛК А1';
USOGSU_A1_EVENT_FAULT.SLOT3.NAME := 'ПЛК. Неисправность модуля А1.3';
FC_FAULT_CHECK(FAULT := USOGSU_A1_EVENT_FAULT.SLOT3);


USOGSU_A1_EVENT_FAULT.SLOT4.status := PLC_USOGSU_A1_FAULT.Slot4;
USOGSU_A1_EVENT_FAULT.SLOT4.SOURCE := 'УСО МСС7. ПЛК А1';
USOGSU_A1_EVENT_FAULT.SLOT4.NAME := 'ПЛК. Неисправность модуля А1.4';
FC_FAULT_CHECK(FAULT := USOGSU_A1_EVENT_FAULT.SLOT4);


USOGSU_A1_EVENT_FAULT.SLOT5.status := PLC_USOGSU_A1_FAULT.Slot5;
USOGSU_A1_EVENT_FAULT.SLOT5.SOURCE := 'УСО МСС7. ПЛК А1';
USOGSU_A1_EVENT_FAULT.SLOT5.NAME := 'ПЛК. Неисправность модуля А1.5';
FC_FAULT_CHECK(FAULT := USOGSU_A1_EVENT_FAULT.SLOT5);


USOGSU_A1_EVENT_FAULT.SLOT6.status := PLC_USOGSU_A1_FAULT.Slot6;
USOGSU_A1_EVENT_FAULT.SLOT6.SOURCE := 'УСО МСС7. ПЛК А1';
USOGSU_A1_EVENT_FAULT.SLOT6.NAME := 'ПЛК. Неисправность модуля А1.6';
FC_FAULT_CHECK(FAULT := USOGSU_A1_EVENT_FAULT.SLOT6);


USOGSU_A1_EVENT_FAULT.SLOT7.status := PLC_USOGSU_A1_FAULT.Slot7;
USOGSU_A1_EVENT_FAULT.SLOT7.SOURCE := 'УСО МСС7. ПЛК А1';
USOGSU_A1_EVENT_FAULT.SLOT7.NAME := 'ПЛК. Неисправность модуля А1.7';
FC_FAULT_CHECK(FAULT := USOGSU_A1_EVENT_FAULT.SLOT7);



]]></ST>
            </FunctionBlock>
        </Folder>
    </FBLibrary>
</Program>
