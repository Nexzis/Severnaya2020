<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE Program >
<Program UUID="B89F4DC7466FF42B9E2DC0B638F7609D" Name="ALG_USOK_ST" Period="100" PutDataAtEndOfCycle="true">
    <Variables>
        <Variable UUID="B2D108004B671461A68B90A4C72B0E72" Name="DI" Type="ALG_DI" TypeUUID="A062A2754D1DA0E51C54FD98A3C1146C" Usage="internal" />
        <Variable UUID="52ACA72F45EC81A2DD556782D45E9BE7" Name="COUNT" Type="COUNTER_USOK" TypeUUID="38080C0F46F166F5CBDA29A2CF9E4320" Usage="internal" />
        <Variable UUID="8FA24D16484C868FEC29118CDFA4E704" Name="SLOT" Type="SLOT_FAULT" TypeUUID="EE8960A84081AB026085928B7439EB52" Usage="internal" />
    </Variables>
    <ST><![CDATA[DI();
COUNT();
SLOT();
]]></ST>
    <DataTypes>
        <Struct UUID="F934805349B6CB0BACBF59A331394F4B" Name="DI_Sonet" Comment="Входной дискретный сигнал от контроллера Сонет">
            <Field UUID="E8E475344BD28315F43B6ABB03F6F22B" Name="Value" Comment="Текущее значение обработанного сигнала" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="DF4D30A04E3F9D397AF1B890AB292CA9" Name="reliabilityFlag" Comment="Флаг достоверности сигнала" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="705A2B7C4EAC79AB86B66D9094CD52AC" Name="reliabilityFlag_OLD" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="61B9DBCC49463F645E66199F69B9A302" Name="dt" Comment="Время фиксации сигнала" Type="DT" TypeUUID="8B0E0F77490C3D2B06233087F94C7C43" />
            <Field UUID="E82B8DD14122BEDD497765A78569188D" Name="Comment" Comment="Текстовое описание сигнала (общее)" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="20206EDC4AA3932C36DA798D4CC5901E" Name="Txt_1" Comment="Текстовое описание значения 1" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="27E5DC5440F80D2C2F5642B82B23EC41" Name="Txt_0" Comment="Текстовое описание значения 0" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="3F460D794A605D72DB0256958155C87D" Name="Source" Comment="Источник события (описание оборудования)" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="0A7B22694E82D3A56B1539881D7813A9" Name="InvFlag" Comment="Флаг инверсии " Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="4DB19FC3416F5BCAE447AFA478A613E8" Name="InvFlag_OLD" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="F3BB97B84631D4D7E2E820B7E99EB945" Name="repaireFlag" Comment="Флаг вывода сигнала из опроса" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="AAB70E394299DDDE3964B592C01127A5" Name="repaireFlag_OLD" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="CA8576DB4B9FE35535B366971A5DC92C" Name="AlarmClass" Comment="Класс события (аварии)" Type="DINT" TypeUUID="AF9665534C6D5BDEF9AE77B026938B65" />
            <Field UUID="8C8BBB1D45456B23FBB76A945BE7321B" Name="AlarmMsg" Comment="Текст аварийного сообщения" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="561AFA024ED40D6298ACA3B1364F6BC6" Name="reliabilityField" Comment="Код признака недостоверности" Type="WORD" TypeUUID="05CD1AAB4891B30C004C2799CA460884" />
            <Field UUID="D39780EA431EE406BA8F92925894514B" Name="Name" Comment="Название сигнала" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="826BF20442D0A69F4AF33D86CDDEAF24" Name="CTmr" Comment="Время срабатывания (для 2х-битных сигналов, сек)" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" />
            <Field UUID="45825FEA47FB096EB3A5E39B375E3ADC" Name="FAULT_ON" Comment="Контролировать неисправность" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="1FB7893D40FD293D4D3637A3FE011258" Name="MaskMode" Comment="Режим подмены состояния" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="7845FF444D336021E214818C7E19166D" Name="MaskMode_OLD" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="1C9BA54244A8CFCB63806ABF78D44DF4" Name="Mask" Comment="Значение подмены" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="9DBE1B8D4741ACAA974BF9B4AF549B45" Name="Mask_OLD" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="518D9CA34D56168FB8E7A9BE3B2CB301" Name="ALM_CODE" Comment="Код неисправности" Type="UINT" TypeUUID="C50B45D04CDCD1FA8859FAB8CB6FC7EE" />
            <Field UUID="4D59F2B54125767688D9AA9450BE860C" Name="FAULT" Comment="Лампочка &quot;Неисправность&quot;" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="937566D34BE4F00EE020F0A24490E46A" Name="FAULT_ACK" Comment="Неисправность квитирована" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="23D5BFAB49CD26D185948EADC9A1A297" Name="VSTATUS" Comment="Групповой дисплей" Type="DWORD" TypeUUID="53CAB7E947643F098D755BB9A02688FA" />
            <Field UUID="84D530D74883504F22C6AE90573E6F41" Name="FAULT_RESET" Comment="Сброс неисправности" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="77362DC04D9B9B9F7E9B2789575BE60D" Name="FAULT_RESET_OLD" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="D4FCC2CE4FEE56187C218C93C7F4DA6C" Name="LATCH" Comment="Защелкивать вход (до сброса)" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="6F2B5E7046C45054D2D5C9ACF4CAE6F8" Name="LATCH_OLD" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="7C01FF9C48741381EAFA56A3CBB2F601" Name="AUTO_RESET" Comment="Автоуход неисправности (без сброса)" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="97AFBC904DED8181E79E9A8AEFC715F2" Name="FAULT_L_RESET" Comment="Внешний сброс неисправности" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="389D8D774762D663297508AF59315F1E" Name="QUAL_IN" Comment="Код качества для входа дискретного сигнала" Type="UINT" TypeUUID="C50B45D04CDCD1FA8859FAB8CB6FC7EE" />
            <Field UUID="EDCF8BD84594319DDC5C149EAAE0E5E8" Name="INPUT_FAULT" Comment="Внешний признак неисправности" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="5AC6A878406D6CF59C0211B314FEA44B" Name="I_IN" Comment="Сырое значение входного сигнала" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="3D6C845F4FA88A68EB8469B20CF3AEC8" Name="Q_IN_OLD" Comment="Запоминаем входное значение сигнала" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="0DBAEF01489495B84221B8BE2C32B80F" Name="ShiftTime" Comment="Сдвиг времени" Type="TIME" TypeUUID="3EFD49044E055B696F5570BA288FA8D5" />
            <Field UUID="709905984A7A43D8D8AF56BC7A6824DD" Name="error" Comment="Ошибка" Type="UINT" TypeUUID="C50B45D04CDCD1FA8859FAB8CB6FC7EE" />
            <Field UUID="48DB93F54E0BADCDF62E42935D84F0AB" Name="QUALITY_CODE" Comment="Код качества" Type="BYTE" TypeUUID="C3C10A82401AD741FA0AB89DDE8B5F30" />
            <Field UUID="28E4CE054E2A2DB5DB665A8C406251E2" Name="BLOCK_ALARM" Comment="Блокировка генерации АЛАРМов" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="43BE184F46DF40D6F12E7F86169F9EBF" Name="IDE" Comment="Индентификатор события" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="2A2032A34F9C22E9EBFD1884C2F288F4" Name="MNEMO" Comment="Мнемокадр" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="8F4221A846EA2FF3A16289830816C836" Name="ID" Comment="Уникальный идентификатор" Type="ULINT" TypeUUID="6C25F4AE48F2EE0928ED26A7E5C0D7ED" />
        </Struct>
        <Struct UUID="B0EC194E441587DB3736B4B2E60AAD18" Name="DO_Sonet" Comment="Выходной дискретный сигнал в контроллер Сонет от оператора">
            <Field UUID="E9EB6CE249ADBFF8C2B2EDB15AECBA2F" Name="Value" Comment="Текущее значение обработанного сигнала" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="4D10855249F826F31BFEB19E20576B3A" Name="dt" Comment="Время подачи последней команды" Type="DT" TypeUUID="8B0E0F77490C3D2B06233087F94C7C43" />
            <Field UUID="2EA7CC42436AAC56401059A875F3FBE3" Name="Comment" Comment="Текстовое описание сигнала " Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="426E27324A57CBAB1FB5B7B10EA2597D" Name="Txt_1" Comment="Текстовое описание значения 1" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="E3F094064E8BEE24FAC9DA8D11382E3B" Name="Txt_0" Comment="Текстовое описание значения 0" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="110D24A84EC2D8E202B7F5BA178E2809" Name="Source" Comment="Источник события (описание оборудования)" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="23116472417372CECDD9AC8D10C55394" Name="repaireFlag" Comment="Флаг вывода сигнала из обработки" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="8D92B91D4CB9A89617ED76BF6A79FD91" Name="reliabilityFlag" Comment="Флаг достоверности сигнала" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="B4555CF14CA661FE778FF5AD469B7974" Name="reliabilityField" Comment="код признака недостоверности" Type="WORD" TypeUUID="05CD1AAB4891B30C004C2799CA460884" />
            <Field UUID="B53AD03A411E17C459F9E2B31536CB61" Name="AlarmClass" Comment="Класс события (аварии)" Type="UINT" TypeUUID="C50B45D04CDCD1FA8859FAB8CB6FC7EE" />
            <Field UUID="30E8D5B64944CFBC8D7114B4FBF04C4A" Name="AlarmMsg" Comment="Текст сообщения" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="937C61A9481F07D749DA12A777E41EDE" Name="Fix_Con" Comment="Время фиксации выходного контакта в секундах. 0 - постоянная фиксация" Type="UINT" TypeUUID="C50B45D04CDCD1FA8859FAB8CB6FC7EE" />
            <Field UUID="C02C13C6468CC4620EA1A9960ED1606B" Name="cycle" Comment="Интервал обработки" Type="REAL" TypeUUID="42E054C8453789BBDD3594B53BDC7DE5" />
            <Field UUID="9E1D56364FB3C631D0C0E884B13E3E94" Name="ID" Comment="ID уникального механизма" Type="ULINT" TypeUUID="6C25F4AE48F2EE0928ED26A7E5C0D7ED" />
            <Field UUID="0B8797524E156AF66E15F683F8048DD3" Name="QUAL_IN" Comment="Код качества для выхода дискретного сигнала" Type="UINT" TypeUUID="C50B45D04CDCD1FA8859FAB8CB6FC7EE" />
            <Field UUID="48FC46DF4047D0467CDAE4B49D09B454" Name="VSTATUS" Comment="Групповой дисплей" Type="BYTE" TypeUUID="C3C10A82401AD741FA0AB89DDE8B5F30" Size="4" Array="TRUE" />
            <Field UUID="93A716744CACF5C0A3581FA8AF55A27C" Name="VSTATUS_OLD" Type="BYTE" TypeUUID="C3C10A82401AD741FA0AB89DDE8B5F30" Size="4" Array="TRUE" />
            <Field UUID="CDD44423475A06A7927BE7A59557587E" Name="QUALITY_CODE" Type="BYTE" TypeUUID="C3C10A82401AD741FA0AB89DDE8B5F30" />
            <Field UUID="4F4ABC13441BDCDE69F020BD410B0499" Name="ALM_CODE" Comment="Код неисправности" Type="UINT" TypeUUID="C50B45D04CDCD1FA8859FAB8CB6FC7EE" />
            <Field UUID="F4C2C753427F25C07D5AE996E8152887" Name="ALM_CODE_OLD" Type="UINT" TypeUUID="C50B45D04CDCD1FA8859FAB8CB6FC7EE" />
            <Field UUID="D7C336924E006726D66C949E99D4D992" Name="INPUT_FAULT" Comment="Внешний признак неисправности" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="A16F79BF4742332AE3B06DBFB15D4F66" Name="FAULT_ON" Comment="Контролировать неисправность" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="30A11D0146DD3D0EC7C2CC9991EE0318" Name="FAULT" Comment="Неисправность" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="73E3798B4A19F654D2C526BC3E6A9B8C" Name="FAULT_RESET" Comment="Сброс неисправности" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="C14FBFB34D02752F25C152BA2B03BBED" Name="FAULT_L_RESET" Comment="Внешний сброс неисправности" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="21FE0283403D6201FECDA7ACB4C9E5F6" Name="MASK_MODE" Comment="Режим подмены состояния" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="EE78A7AD40769A8067E1A1830E3EC49C" Name="MASK" Comment="Значение подмены" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="987C04A24C955AF65978099EE764FDD7" Name="LATCH" Comment="Защелкивать вход (до сброса)" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="AD9A95A241093192EDB9E9916EC209F3" Name="AUTO_RESET" Comment="Автоуход неисправности (без сброса)" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="B78E24054D3DA20A0D44D78C88BECFD0" Name="FAULT_ACK" Comment="Неисправность квитирована" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="8C2B1B964E89EA5EAA92FDBA67DBB5E6" Name="IN" Comment="Вход" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="92B2FCEE47532F1B86352A820A6AF0AF" Name="INV_FLAG" Comment="Инверсия" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="B74FAF3F4FA15ED618F0288E9A94CAD5" Name="Value_OLD" Comment="Запоминаем состояние выхода" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="D49018FC4A03DA3FAA221493ECA927CE" Name="TIME_SHIFT" Comment="Часовой пояс" Type="TIME" TypeUUID="3EFD49044E055B696F5570BA288FA8D5" />
            <Field UUID="52B52C3E440520F113ED4498F49B69EC" Name="BLOCK_ALARM" Comment="Блокировка тревоги" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="19AFE832479EFFE16663F4A9A6A75971" Name="IDE" Comment="Идентификатор тревожного сообщения" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="D0171578416098D2326E97A8BE502E42" Name="MNEMO" Comment="Мнемокадр" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
        </Struct>
        <Struct UUID="7DADE51642BF2830A2BC7B864D06C75F" Name="EVENT_FAULT">
            <Field UUID="C23B9E404B2834908C5642863BC04F5B" Name="status" Type="UINT" TypeUUID="C50B45D04CDCD1FA8859FAB8CB6FC7EE" />
            <Field UUID="8A44E2394D219B9920E756B932548BE6" Name="FAULT" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
            <Field UUID="A15610CA4FDBF3369FD4DEAD81109752" Name="SOURCE" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="419F25F8417C6DA1D70B60BF92E6FEB8" Name="NAME" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" />
            <Field UUID="E9A90FE84CDDD33AE7F5259F398C1835" Name="FAULT_OLD" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" />
        </Struct>
    </DataTypes>
    <FBLibrary>
        <Folder Name="Библиотека" Comment="" Data="" UUID="94B27CD04A352D68EA6CF1BDC23AF175">
            <Function UUID="B963FC554182CBB791BA98BD1559EA45" Name="FC_CHANNEL_FAULT" ResultTypeUUID="EC797BDD4541F500AD80A78F1F991834">
                <Variables>
                    <Variable UUID="601178784FEABD7B88AD79A045CA8AD4" Name="CAT" Type="DINT" TypeUUID="AF9665534C6D5BDEF9AE77B026938B65" Usage="input" />
                    <Variable UUID="008612C84BEDFC74C37CACA07F8A4555" Name="RF" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="BBCADA474C8E10D948708FB91BB13636" Name="TEXT" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" Usage="input" />
                    <Variable UUID="8C034F9640CFE6E054AB48B218C2ADDB" Name="TEXT2" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" Usage="input" />
                    <Variable UUID="C4C877544E34B9400FE2BDBE2AA4ADCA" Name="ShiftTime" Type="TIME" TypeUUID="3EFD49044E055B696F5570BA288FA8D5" Usage="input" />
                    <Variable UUID="96760F4641D602D1BD65839CFADDA0AC" Name="TEXT1" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" Usage="internal" />
                    <Variable UUID="B396EFA24DBAFE68799E4A83E0D79D66" Name="i" Type="INT" TypeUUID="47B58C4E4726C8B230965EBE77F1169E" Usage="internal" />
                    <Variable UUID="5D4AE4A346ED6CB2BA25A6BA52864D19" Name="RF_OLD" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="inout" />
                </Variables>
                <ST><![CDATA[IF  RF_OLD <> RF  THEN
	TEXT1:=  TEXT + DINT_TO_STRING(CAT);
	i:=BOOL_TO_INT(RF);
	CREATE_EVENT(TEXT + '   НЕИСПРАВЕН',  CAT,  i, TEXT2, TEXT1, CURRENT_DATE_TIME() - ShiftTime, 'USOK')
	//CREATE_EVENT(channel + '  НЕИСПРАВЕН',  DINT#10100,  i, TEXT2, TEXT1, CURRENT_DATE_TIME() - ShiftTime, 'KTP8516')
	//RF_OLD:= RF;
END_IF;]]></ST>
            </Function>
            <Function UUID="7FB581FF417000E7F7BAEEA0D88B82F7" Name="FC_DI_FAULT" ResultTypeUUID="EC797BDD4541F500AD80A78F1F991834">
                <Variables>
                    <Variable UUID="2ABC26CE4406F061E2B19DA1ED963785" Name="CAT" Type="DINT" TypeUUID="AF9665534C6D5BDEF9AE77B026938B65" Usage="input" />
                    <Variable UUID="E4907F3A4FE33AE9CD296194AB3AD1D2" Name="RF" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="06D404824ED477FD79C44FB0A412BDEE" Name="TEXT" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" Usage="input" />
                    <Variable UUID="40AEEB764B6CA9DD4B5C26845CC9BD88" Name="TEXT2" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" Usage="input" />
                    <Variable UUID="2B04EEBD42F885BFDA33B493C5170BC7" Name="ShiftTime" Type="TIME" TypeUUID="3EFD49044E055B696F5570BA288FA8D5" Usage="input" />
                    <Variable UUID="16BA32EE48E3A0910C8DDCAB528FF00E" Name="TEXT1" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" Usage="internal" />
                    <Variable UUID="E73A86804CFD2F71D3E901BCC099930F" Name="i" Type="INT" TypeUUID="47B58C4E4726C8B230965EBE77F1169E" Usage="internal" />
                    <Variable UUID="4A5E42104875D75DE2CA9AA989E3B3A8" Name="IDE" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" Usage="input" />
                    <Variable UUID="038FE9E743EBB1E80974D2A4C086973D" Name="RF_OLD" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="inout" />
                </Variables>
                <ST><![CDATA[//v20190523_0946_THINKPAD_SM

IF  RF_OLD <> RF  THEN
	TEXT1:=  TEXT2 + TEXT + DINT_TO_STRING(CAT);
	i:=BOOL_TO_INT(RF);
	CREATE_EVENT(TEXT + '   НЕДОСТОВЕРНОСТЬ',  CAT,  i, TEXT2, TEXT1, CURRENT_DATE_TIME() - ShiftTime, 'TAG')
	//RF_OLD:= RF;
END_IF;]]></ST>
            </Function>
            <Function UUID="FBCA42154EE850184551F9B1082C138D" Name="FC_Dio_Check" ResultTypeUUID="EC797BDD4541F500AD80A78F1F991834">
                <Variables>
                    <Variable UUID="50404F244EE97B67F061E09EEF96FC21" Name="CAT" Type="DINT" TypeUUID="AF9665534C6D5BDEF9AE77B026938B65" Usage="input" />
                    <Variable UUID="ED0A5D52497001F665305DBCC0AEDF4B" Name="DIO" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="37ABFEA443B26B2810D75AADE916EE8F" Name="TEXT" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" InitialValue="&apos;TEST&apos;" Usage="input" />
                    <Variable UUID="FF9DAE464F8DE7014581B58069812CDC" Name="TEXT2" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" Usage="input" />
                    <Variable UUID="4BD8382243FF416A4BFC72B3EA8EC26D" Name="ShiftTime" Type="TIME" TypeUUID="3EFD49044E055B696F5570BA288FA8D5" Usage="input" />
                    <Variable UUID="BFF43A5E4A60CE6DB7B94D970B2DCB70" Name="DCFGIO" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="inout" />
                    <Variable UUID="FD23F74643CEA0ADC8CC1EA32A23B538" Name="TEXT1" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" InitialValue="&apos;FALSE&apos;" Usage="internal" />
                    <Variable UUID="A311447D4AFE689C7D51278CA33523E2" Name="i" Type="INT" TypeUUID="47B58C4E4726C8B230965EBE77F1169E" Usage="internal" />
                    <Variable UUID="11F48528451C2CF177A0468C989E9C0B" Name="IDE" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" Usage="input" />
                </Variables>
                <ST><![CDATA[//v20190523_0946_THINKPAD_SM
IF DCFGIO <> DIO THEN
	TEXT1:=  TEXT2 + TEXT + DINT_TO_STRING(CAT);
	i:=BOOL_TO_INT(DIO);
	CREATE_EVENT(TEXT,  CAT,  i, TEXT2, TEXT1, CURRENT_DATE_TIME() - ShiftTime, 'USOK')
	DCFGIO:=DIO;
END_IF;]]></ST>
            </Function>
            <Function UUID="08667E264C0BE4A9FEF5AB9719A2819F" Name="FC_FAULT_CHECK" ResultTypeUUID="EC797BDD4541F500AD80A78F1F991834">
                <Variables>
                    <Variable UUID="CEC81F41472D205ADD3ED7A2E7C825FA" Name="FAULT" Type="EVENT_FAULT" TypeUUID="7DADE51642BF2830A2BC7B864D06C75F" Usage="inout" />
                </Variables>
                <ST><![CDATA[IF FAULT.status <> UINT#0 THEN
   FAULT.FAULT := TRUE;
ELSE 
   FAULT.FAULT := FALSE;
END_IF;



FC_SLOT_FAULT(CAT := DINT#10100,
			  STATUS := FAULT.FAULT
			  STATUS_OLD := FAULT.FAULT_OLD,
			  TEXT := FAULT.NAME,
			  TEXT2 := FAULT.SOURCE,
			  ShiftTime := ShiftTime,)


FAULT.FAULT_OLD := FAULT.FAULT;




]]></ST>
            </Function>
            <Function UUID="AEC357D44C5A23BB59BEA7BF63BBCE33" Name="FC_SLOT_FAULT" ResultTypeUUID="EC797BDD4541F500AD80A78F1F991834">
                <Variables>
                    <Variable UUID="3B8F1BCB4F9FC647D4FE06AB25E3322A" Name="CAT" Type="DINT" TypeUUID="AF9665534C6D5BDEF9AE77B026938B65" Usage="input" />
                    <Variable UUID="F17ADBA94B549DA6CEDC9E923F779656" Name="STATUS" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="F96E6E03447E76AF8ED162A073970F1C" Name="TEXT" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" Usage="input" />
                    <Variable UUID="3A05579844F3A9BCCF4507B1AB782DC0" Name="TEXT2" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" Usage="input" />
                    <Variable UUID="89C0791A4AA0D8C8D3822F85BED9AEEA" Name="i" Type="INT" TypeUUID="47B58C4E4726C8B230965EBE77F1169E" Usage="internal" />
                    <Variable UUID="695AAAE64D5789D0FF53CA931CE207FA" Name="TEXT1" Type="STRING" TypeUUID="38FDDE3B442D86554C56C884065F87B7" Usage="internal" />
                    <Variable UUID="54F44DC14EB2CDA0FD7AF59F77A5CD5E" Name="STATUS_OLD" Type="BOOL" TypeUUID="EC797BDD4541F500AD80A78F1F991834" Usage="input" />
                    <Variable UUID="C0DA94924B9E8CF77E994A92F39D5B3F" Name="ShiftTime" Type="TIME" TypeUUID="3EFD49044E055B696F5570BA288FA8D5" Usage="input" />
                </Variables>
                <ST><![CDATA[IF STATUS_OLD <> STATUS  THEN
	TEXT1:=  TEXT2 + TEXT + DINT_TO_STRING(CAT);
	i:= BOOL_TO_INT(STATUS);
	CREATE_EVENT(TEXT,  CAT,  i, TEXT2, TEXT1, CURRENT_DATE_TIME() - ShiftTime, 'DIAGN')
	STATUS_OLD := STATUS;
END_IF;]]></ST>
            </Function>
            <Function UUID="A0D359BB4DFEFCD731852BB5DC6D4C7F" Name="FC_V_DGI" ResultTypeUUID="EC797BDD4541F500AD80A78F1F991834">
                <Variables>
                    <Variable UUID="6F3556B940A354AF36D19180E8A531CD" Name="CHANNEL" Type="DI_Sonet" TypeUUID="F934805349B6CB0BACBF59A331394F4B" Usage="inout" />
                </Variables>
                <ST><![CDATA[//Сброс неисправности
	IF CHANNEL.FAULT_RESET OR CHANNEL.FAULT_L_RESET THEN 
		CHANNEL.ALM_CODE := UINT#0;
		CHANNEL.FAULT_RESET := FALSE;
		CHANNEL.FAULT_L_RESET := FALSE;
		CHANNEL.Value := FALSE; //Сброс защелки
	END_IF;
  
	IF CHANNEL.AUTO_RESET THEN CHANNEL.ALM_CODE := UINT#0; CHANNEL.FAULT_RESET := FALSE; CHANNEL.FAULT_L_RESET := FALSE; END_IF;
  
	IF CHANNEL.QUAL_IN <> UINT#0 OR CHANNEL.INPUT_FAULT THEN CHANNEL.ALM_CODE := UINT#1;
	ELSE CHANNEL.ALM_CODE := UINT#0;
    END_IF; //Ошибка по коду качества
  
  //Определение неисправности выключено
	IF NOT CHANNEL.FAULT_ON THEN CHANNEL.ALM_CODE := UINT#0; END_IF;
  
 	IF CHANNEL.MaskMode THEN 
  //если в режиме маскирования
		CHANNEL.ALM_CODE := UINT#0;
		CHANNEL.I_IN := CHANNEL.Mask;
	END_IF;
  
  //Выставляем бит неисправности
	CHANNEL.FAULT := CHANNEL.ALM_CODE <> UINT#0;
	CHANNEL.reliabilityFlag := NOT CHANNEL.FAULT;
//Инвертирование
	IF CHANNEL.InvFlag THEN
		CHANNEL.I_IN := NOT CHANNEL.I_IN;
	END_IF;
  
  //Выход
	IF CHANNEL.LATCH THEN CHANNEL.Value := CHANNEL.Value OR CHANNEL.I_IN; ELSE CHANNEL.Value := CHANNEL.I_IN; END_IF;
//--------------------< Формирование VSTATUS >----------------------
CHANNEL.VSTATUS := DWORD#0;
IF CHANNEL.Value THEN CHANNEL.VSTATUS.0 := TRUE; END_IF;
IF CHANNEL.FAULT AND CHANNEL.FAULT_ACK THEN 
	CHANNEL.VSTATUS.4 := TRUE;
ELSIF CHANNEL.FAULT AND NOT CHANNEL.FAULT_ACK THEN 
	CHANNEL.VSTATUS.5 := TRUE;
END_IF;
IF CHANNEL.MaskMode THEN CHANNEL.VSTATUS.12 := TRUE; END_IF;

FC_Dio_Check(CAT := CHANNEL.AlarmClass
			,DIO := CHANNEL.Value
			,DCFGIO := CHANNEL.Q_IN_OLD
			,TEXT := CHANNEL.Name
			,TEXT2 := CHANNEL.Source
			,ShiftTime := CHANNEL.ShiftTime);


FC_DI_FAULT(CAT := DINT#29000,
			RF := CHANNEL.FAULT,
			RF_OLD := CHANNEL.reliabilityFlag_OLD,
			TEXT := CHANNEL.Name,
			TEXT2 := CHANNEL.Source,
			ShiftTime := CHANNEL.ShiftTime);
FC_CHANNEL_FAULT(CAT := DINT#10100,
				 RF := CHANNEL.FAULT,
				 RF_OLD := CHANNEL.reliabilityFlag_OLD,
				 TEXT2 := CHANNEL.Source,
				 ShiftTime := CHANNEL.ShiftTime
				 TEXT := CHANNEL.Comment); 

//Звонок при возникновении неисправности
//IF (error=0)AND(ALM_CODE<>0)AND(RING_F_EN)AND NOT BELL_BLOCK THEN M[RING_ADDRESS,RING_F_1STBIT]:=1; END_IF;
CHANNEL.error := CHANNEL.ALM_CODE;
//Звонок при срабатывании дискретного сигнала
//IF ((INV_ON XOR Q_IN_OLD)=0)AND(INV_ON XOR Q_IN)AND(RING_S_EN)AND NOT BELL_BLOCK THEN M[RING_ADDRESS,RING_S_1STBIT]:=1; END_IF;
CHANNEL.Q_IN_OLD := CHANNEL.Value;

CHANNEL.reliabilityFlag_OLD := CHANNEL.FAULT;
]]></ST>
            </Function>
            <Function UUID="0D324BC345F3436E683C7B8B85369655" Name="FC_V_DGO" ResultTypeUUID="EC797BDD4541F500AD80A78F1F991834">
                <Variables>
                    <Variable UUID="975A530D45B7063FD4F7EC885C726EA7" Name="CHANNEL" Type="DO_Sonet" TypeUUID="B0EC194E441587DB3736B4B2E60AAD18" Usage="inout" />
                </Variables>
                <ST><![CDATA[//---------------------------< Кодовая часть >----------------------
//Сброс неисправности
	IF CHANNEL.FAULT_RESET OR CHANNEL.FAULT_L_RESET THEN 
		CHANNEL.ALM_CODE := UINT#0;
		CHANNEL.FAULT_RESET := FALSE;
		CHANNEL.FAULT_L_RESET := FALSE;
		CHANNEL.Value := FALSE; //Сброс защелки
	END_IF; 

//Определение неисправности
	IF CHANNEL.QUAL_IN <> UINT#0 OR CHANNEL.INPUT_FAULT THEN CHANNEL.ALM_CODE := UINT#1;
	ELSE CHANNEL.ALM_CODE := UINT#0;
    END_IF; //Ошибка по коду качества
//Определение неисправности выключено
	IF NOT CHANNEL.FAULT_ON THEN CHANNEL.ALM_CODE := UINT#0; END_IF;
//Автосброс неисправности
	IF CHANNEL.AUTO_RESET THEN CHANNEL.ALM_CODE := UINT#0; CHANNEL.FAULT_RESET := FALSE; CHANNEL.FAULT_L_RESET := FALSE; END_IF;
  
 	IF CHANNEL.MASK_MODE THEN 
  //если в режиме маскирования
		CHANNEL.ALM_CODE := UINT#0;
		CHANNEL.Value := CHANNEL.MASK;
	END_IF;


  //Выставляем бит неисправности
	CHANNEL.FAULT := CHANNEL.ALM_CODE <> UINT#0;
	CHANNEL.reliabilityFlag := NOT CHANNEL.FAULT;
  
  //Выход
//	IF CHANNEL.LATCH THEN CHANNEL.Value := CHANNEL.Value OR CHANNEL.IN; ELSE CHANNEL.Value := CHANNEL.IN; END_IF;
//Инвертирование
	IF CHANNEL.INV_FLAG THEN
		CHANNEL.Value := NOT CHANNEL.Value;
	END_IF;


//--------------------< Формирование VSTATUS >----------------------
CHANNEL.VSTATUS[0] := BYTE#0;
CHANNEL.VSTATUS[1] := BYTE#0;
CHANNEL.VSTATUS[2] := BYTE#0;
CHANNEL.VSTATUS[3] := BYTE#0;
IF CHANNEL.Value THEN CHANNEL.VSTATUS[0].0 := TRUE; END_IF;
IF CHANNEL.FAULT AND CHANNEL.FAULT_ACK THEN 
	CHANNEL.VSTATUS[0].4 := TRUE;
ELSIF CHANNEL.FAULT AND NOT CHANNEL.FAULT_ACK THEN 
	CHANNEL.VSTATUS[0].5 := TRUE;
END_IF;
IF CHANNEL.MASK_MODE THEN CHANNEL.VSTATUS[1].4 := TRUE; END_IF;

//--------------------< Формирование ALARM >----------------------
//Сообщение по дискретному сигналу
IF CHANNEL.Value <> CHANNEL.Value_OLD AND NOT CHANNEL.BLOCK_ALARM THEN
	CREATE_EVENT(CHANNEL.Comment
				,DINT#30200
				,BOOL_TO_INT(CHANNEL.Value)
				,CHANNEL.Source
				,CHANNEL.IDE
				,CURRENT_DATE_TIME() - CHANNEL.TIME_SHIFT
				,'USOK')
	CHANNEL.Value_OLD := CHANNEL.Value;
END_IF;
//

//Сигнализация "Неисправность дискретного выхода"
IF CHANNEL.ALM_CODE <> CHANNEL.ALM_CODE_OLD AND NOT CHANNEL.BLOCK_ALARM THEN
	CREATE_EVENT(CHANNEL.Comment + '. НЕИСПРАВНОСТЬ'
				,DINT#10100
				,BOOL_TO_INT(CHANNEL.ALM_CODE <> UINT#0)
				,CHANNEL.Source
				,CHANNEL.IDE
				,CURRENT_DATE_TIME() - CHANNEL.TIME_SHIFT
				,'DIAGN')
	CHANNEL.ALM_CODE_OLD := CHANNEL.ALM_CODE;
END_IF;


FC_V_DGO := CHANNEL.Value;]]></ST>
            </Function>
        </Folder>
        <Folder Name="Обработка" Comment="" Data="" UUID="34F605AA445379F4F0A3B5B157B6C4B4">
            <FunctionBlock UUID="A062A2754D1DA0E51C54FD98A3C1146C" Name="ALG_DI">
                <Variables>
                    <Variable UUID="11484EF94D30C9C7D652E4940C09CE79" Name="CurTime" Type="LREAL" TypeUUID="65F1DDD44EDA9C0776BB16BBDFE36B1F" Usage="internal" />
                    <Variable UUID="8E80BF3E49691347793D6EA6426AAF7F" Name="oldCurTime" Type="LREAL" TypeUUID="65F1DDD44EDA9C0776BB16BBDFE36B1F" Usage="internal" />
                    <Variable UUID="4ED181334E92940262700F8F5946372F" Name="TMR_BLK_ON" Type="TON" TypeUUID="EAA43B6B4DCDCEA72AB748B4554FD2AD" Usage="internal" />
                </Variables>
                <ST><![CDATA[//Измеряем длительность цикла
CurTime := CURRENT_TIMESTAMP();
cycleTime := LREAL_TO_REAL(ABS(CurTime - oldCurTime))/7000.0;
oldCurTime := CurTime;

TMR_BLK_ON(IN := TRUE
		  ,PT := T#5s);
TMO_BLK_ON := TMR_BLK_ON.Q;
IF NOT TMO_BLK_ON THEN ; END_IF;

//001.Контроль основного питания ~220В - 
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_1.I_IN := USOK_A1_3.i1;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_1.QUAL_IN := USOK_A1_3.i1_status;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_1.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_1.Name := 'УСО К. Контроль основного питания ~220В. В норме';
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_1.Source := 'УСО К. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_1.IDE := 'PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_1';
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_1.ID := ULINT#70001;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_1.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_1.AlarmClass := DINT#101;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_1.Comment := 'Модуль А1.3 канал 1';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_1);


//002.Исправность разрядника
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_2.I_IN := USOK_A1_3.i2;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_2.QUAL_IN := USOK_A1_3.i2_status;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_2.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_2.Name := 'УСО К. Исправность разрядника';
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_2.Source := 'УСО К. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_2.IDE := 'PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_2';
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_2.ID := ULINT#70002;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_2.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_2.AlarmClass := DINT#101;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_2.Comment := 'Модуль А1.3 канал 2';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_2);

//003.Автоматы питания 
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_3.I_IN := USOK_A1_3.i3;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_3.QUAL_IN := USOK_A1_3.i3_status;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_3.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_3.Name := 'УСО К. Автоматы питания включены ';
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_3.Source := 'УСО К. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_3.IDE := 'PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_3';
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_3.ID := ULINT#70003;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_3.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_3.AlarmClass := DINT#101;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_3.Comment := 'Модуль А1.3 канал 3';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_3);

//004.Двери УСО К. ПЛК А1
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_4.I_IN := USOK_A1_3.i4;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_4.QUAL_IN := USOK_A1_3.i4_status;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_4.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_4.Name := 'УСО К. Двери шкафа открыты';
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_4.Source := 'УСО К. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_4.IDE := 'PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_4';
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_4.ID := ULINT#70004;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_4.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_4.AlarmClass := DINT#10100;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_4.Comment := 'Модуль А1.3 канал 4';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_4);

//005.Исправность ИП=24В внутренних цепей
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_5.I_IN := USOK_A1_3.i5;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_5.QUAL_IN := USOK_A1_3.i5_status;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_5.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_5.Name := 'УСО К. Исправность ИП=24В внутренних цепей';
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_5.Source := 'УСО К. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_5.IDE := 'PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_5';
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_5.ID := ULINT#70005;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_5.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_5.AlarmClass := DINT#101;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_5.Comment := 'Модуль А1.3 канал 5';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_5);

//006.Исправность ИП=24В внешних цепей
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_6.I_IN := USOK_A1_3.i6;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_6.QUAL_IN := USOK_A1_3.i6_status;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_6.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_6.Name := 'УСО К. Исправность ИП=24В внешних цепей';
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_6.Source := 'УСО К. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_6.IDE := 'PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_6';
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_6.ID := ULINT#70006;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_6.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_6.AlarmClass := DINT#101;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_6.Comment := 'Модуль А1.3 канал 6';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_6);

//007.Авария ИБП
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_7.I_IN := USOK_A1_3.i7;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_7.QUAL_IN := USOK_A1_3.i7_status;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_7.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_7.Name := 'УСО К. Авария ИБП';
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_7.Source := 'УСО К. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_7.IDE := 'PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_7';
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_7.ID := ULINT#70007;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_7.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_7.AlarmClass := DINT#10000;
PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_7.Comment := 'Модуль А1.3 канал 7';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOK_DI_DIAGN_7);

(*//008.Емкость смешения реагентов
PLC_GSP_SEV_KSSEV_E_USOK_DI_X_RES01.I_IN := USOK_A1_3.i8;
PLC_GSP_SEV_KSSEV_E_USOK_DI_X_RES01.QUAL_IN := USOK_A1_3.i8_status;
PLC_GSP_SEV_KSSEV_E_USOK_DI_X_RES01.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOK_DI_X_RES01.Name := 'Резерв';
PLC_GSP_SEV_KSSEV_E_USOK_DI_X_RES01.Source := 'УСО К. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOK_DI_X_RES01.IDE := 'PLC_GSP_SEV_KSSEV_E_USOK_DI_X_RES01';
PLC_GSP_SEV_KSSEV_E_USOK_DI_X_RES01.ID := ULINT#70008;
PLC_GSP_SEV_KSSEV_E_USOK_DI_X_RES01.FAULT_ON := TRUE;
//PLC_GSP_SEV_KSSEV_E_USOK_DI_X_RES01.AlarmClass := DINT#10000;
PLC_GSP_SEV_KSSEV_E_USOK_DI_X_RES01.Comment := 'Модуль А1.3 канал 8';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOK_DI_X_RES01); *)

//009.Насос Н1
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_AvOST.I_IN := USOK_A1_3.i9;
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_AvOST.QUAL_IN := USOK_A1_3.i9_status;
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_AvOST.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_AvOST.Name := 'Котельная. Аварийная остановка котла';
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_AvOST.Source := 'УСО К. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_AvOST.IDE := 'PLC_GSP_SEV_KSSEV_E_USOK_DI_B_AvOST';
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_AvOST.ID := ULINT#70009;
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_AvOST.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_AvOST.AlarmClass := DINT#10000;
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_AvOST.Comment := 'Модуль А1.3 канал 9';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOK_DI_B_AvOST);

//010.Сухой ход насоса Н1
PLC_GSP_SEV_KSSEV_E_USOK_DI_BURN_AvOST.I_IN := USOK_A1_3.i10;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BURN_AvOST.QUAL_IN := USOK_A1_3.i10_status;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BURN_AvOST.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BURN_AvOST.Name := 'Котельная. Аварийная остановка горелки';
PLC_GSP_SEV_KSSEV_E_USOK_DI_BURN_AvOST.Source := 'УСО К. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOK_DI_BURN_AvOST.IDE := 'PLC_GSP_SEV_KSSEV_E_USOK_DI_BURN_AvOST';
PLC_GSP_SEV_KSSEV_E_USOK_DI_BURN_AvOST.ID := ULINT#70010;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BURN_AvOST.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BURN_AvOST.AlarmClass := DINT#10000;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BURN_AvOST.Comment := 'Модуль А1.3 канал 10';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOK_DI_BURN_AvOST);




//011.Авария насоса Н1
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_TOUT_HIGH.I_IN := USOK_A1_3.i11;
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_TOUT_HIGH.QUAL_IN := USOK_A1_3.i11_status;
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_TOUT_HIGH.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_TOUT_HIGH.Name := 'Котельная. Температура котла на выходе аварийно высокая';
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_TOUT_HIGH.Source := 'УСО К. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_TOUT_HIGH.IDE := 'PLC_GSP_SEV_KSSEV_E_USOK_DI_B_TOUT_HIGH';
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_TOUT_HIGH.ID := ULINT#70011;
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_TOUT_HIGH.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_TOUT_HIGH.AlarmClass := DINT#10000;
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_TOUT_HIGH.Comment := 'Модуль А1.3 канал 11';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOK_DI_B_TOUT_HIGH);

//012.Емкость аэрационная наполнена
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_P_LOW.I_IN := USOK_A1_3.i12;
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_P_LOW.QUAL_IN := USOK_A1_3.i12_status;
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_P_LOW.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_P_LOW.Name := 'Котельная. Давление воды в котле аварийно низкое';
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_P_LOW.Source := 'УСО К. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_P_LOW.IDE := 'PLC_GSP_SEV_KSSEV_E_USOK_DI_B_P_LOW';
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_P_LOW.ID := ULINT#70012;
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_P_LOW.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_P_LOW.AlarmClass := DINT#10000;
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_P_LOW.Comment := 'Модуль А1.3 канал 12';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOK_DI_B_P_LOW);

//013.Насос Н2
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_C_LOW.I_IN := USOK_A1_3.i13;
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_C_LOW.QUAL_IN := USOK_A1_3.i13_status;
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_C_LOW.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_C_LOW.Name := 'Котельная. Циркуляция воды через котел аварийно низкая';
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_C_LOW.Source := 'УСО К. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_C_LOW.IDE := 'PLC_GSP_SEV_KSSEV_E_USOK_DI_B_C_LOW';
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_C_LOW.ID := ULINT#70013;
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_C_LOW.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_C_LOW.AlarmClass := DINT#10000;
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_C_LOW.Comment := 'Модуль А1.3 канал 13';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOK_DI_B_C_LOW);

//014.Сухой ход насоса Н2
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_P_HIGH.I_IN := USOK_A1_3.i14;
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_P_HIGH.QUAL_IN := USOK_A1_3.i14_status;
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_P_HIGH.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_P_HIGH.Name := 'Котельная. Давление воды в котле аварийно высокое';
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_P_HIGH.Source := 'УСО К. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_P_HIGH.IDE := 'PLC_GSP_SEV_KSSEV_E_USOK_DI_B_P_HIGH';
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_P_HIGH.ID := ULINT#70014;
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_P_HIGH.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_P_HIGH.AlarmClass := DINT#10000;
PLC_GSP_SEV_KSSEV_E_USOK_DI_B_P_HIGH.Comment := 'Модуль А1.3 канал 14';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOK_DI_B_P_HIGH);

//015.Авария насоса Н2
PLC_GSP_SEV_KSSEV_E_USOK_DI_FIREBOX_P_HIGH.I_IN := USOK_A1_3.i15;
PLC_GSP_SEV_KSSEV_E_USOK_DI_FIREBOX_P_HIGH.QUAL_IN := USOK_A1_3.i15_status;
PLC_GSP_SEV_KSSEV_E_USOK_DI_FIREBOX_P_HIGH.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOK_DI_FIREBOX_P_HIGH.Name := 'Котельная. Давление в топке котла аварийно высокое';
PLC_GSP_SEV_KSSEV_E_USOK_DI_FIREBOX_P_HIGH.Source := 'УСО К. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOK_DI_FIREBOX_P_HIGH.IDE := 'PLC_GSP_SEV_KSSEV_E_USOK_DI_FIREBOX_P_HIGH';
PLC_GSP_SEV_KSSEV_E_USOK_DI_FIREBOX_P_HIGH.ID := ULINT#70015;
PLC_GSP_SEV_KSSEV_E_USOK_DI_FIREBOX_P_HIGH.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOK_DI_FIREBOX_P_HIGH.AlarmClass := DINT#10000;
PLC_GSP_SEV_KSSEV_E_USOK_DI_FIREBOX_P_HIGH.Comment := 'Модуль А1.3 канал 15';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOK_DI_FIREBOX_P_HIGH);

//016.Резерв
PLC_GSP_SEV_KSSEV_E_USOK_DI_H1_WK.I_IN := USOK_A1_3.i16;
PLC_GSP_SEV_KSSEV_E_USOK_DI_H1_WK.QUAL_IN := USOK_A1_3.i16_status;
PLC_GSP_SEV_KSSEV_E_USOK_DI_H1_WK.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOK_DI_H1_WK.Name := 'Котельная. Насос №1 летнего контура в работе';
PLC_GSP_SEV_KSSEV_E_USOK_DI_H1_WK.Source := 'УСО К. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOK_DI_H1_WK.IDE := 'PLC_GSP_SEV_KSSEV_E_USOK_DI_H1_WK';
PLC_GSP_SEV_KSSEV_E_USOK_DI_H1_WK.ID := ULINT#70016;
PLC_GSP_SEV_KSSEV_E_USOK_DI_H1_WK.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOK_DI_H1_WK.AlarmClass := DINT#101;
PLC_GSP_SEV_KSSEV_E_USOK_DI_H1_WK.Comment := 'Модуль А1.3 канал 16';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOK_DI_H1_WK);

//017.Насос артскважины №2 
PLC_GSP_SEV_KSSEV_E_USOK_DI_H1_FL.I_IN := USOK_A1_4.i1;
PLC_GSP_SEV_KSSEV_E_USOK_DI_H1_FL.QUAL_IN := USOK_A1_4.i1_status;
PLC_GSP_SEV_KSSEV_E_USOK_DI_H1_FL.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOK_DI_H1_FL.Name := 'Котельная. Авария насоса №1 летнего контура ';
PLC_GSP_SEV_KSSEV_E_USOK_DI_H1_FL.Source := 'УСО К. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOK_DI_H1_FL.IDE := 'PLC_GSP_SEV_KSSEV_E_USOK_DI_H1_FL';
PLC_GSP_SEV_KSSEV_E_USOK_DI_H1_FL.ID := ULINT#70017;
PLC_GSP_SEV_KSSEV_E_USOK_DI_H1_FL.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOK_DI_H1_FL.AlarmClass := DINT#10000;
PLC_GSP_SEV_KSSEV_E_USOK_DI_H1_FL.Comment := 'Модуль А1.4 канал 1';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOK_DI_H1_FL);

//018.Авария насоса
PLC_GSP_SEV_KSSEV_E_USOK_DI_H2_WK.I_IN := USOK_A1_4.i2;
PLC_GSP_SEV_KSSEV_E_USOK_DI_H2_WK.QUAL_IN := USOK_A1_4.i2_status;
PLC_GSP_SEV_KSSEV_E_USOK_DI_H2_WK.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOK_DI_H2_WK.Name := 'Котельная. Насос №2 летнего контура в работе';
PLC_GSP_SEV_KSSEV_E_USOK_DI_H2_WK.Source := 'УСО К. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOK_DI_H2_WK.IDE := 'PLC_GSP_SEV_KSSEV_E_USOK_DI_H2_WK';
PLC_GSP_SEV_KSSEV_E_USOK_DI_H2_WK.ID := ULINT#70018;
PLC_GSP_SEV_KSSEV_E_USOK_DI_H2_WK.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOK_DI_H2_WK.AlarmClass := DINT#101;
PLC_GSP_SEV_KSSEV_E_USOK_DI_H2_WK.Comment := 'Модуль А1.4 канал 2';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOK_DI_H2_WK);

//019.Автоматическое управление
PLC_GSP_SEV_KSSEV_E_USOK_DI_H2_FL.I_IN := USOK_A1_4.i3;
PLC_GSP_SEV_KSSEV_E_USOK_DI_H2_FL.QUAL_IN := USOK_A1_4.i3_status;
PLC_GSP_SEV_KSSEV_E_USOK_DI_H2_FL.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOK_DI_H2_FL.Name := 'Котельная. Авария насоса №2 летнего контура';
PLC_GSP_SEV_KSSEV_E_USOK_DI_H2_FL.Source := 'УСО К. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOK_DI_H2_FL.IDE := 'PLC_GSP_SEV_KSSEV_E_USOK_DI_H2_FL';
PLC_GSP_SEV_KSSEV_E_USOK_DI_H2_FL.ID := ULINT#70019;
PLC_GSP_SEV_KSSEV_E_USOK_DI_H2_FL.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOK_DI_H2_FL.AlarmClass := DINT#10000;
PLC_GSP_SEV_KSSEV_E_USOK_DI_H2_FL.Comment := 'Модуль А1.4 канал 3';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOK_DI_H2_FL);




//020.Перегрузка насоса
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H1_WK.I_IN := USOK_A1_4.i4;
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H1_WK.QUAL_IN := USOK_A1_4.i4_status;
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H1_WK.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H1_WK.Name := 'Котельная. Насос №1 ГВС в работе';
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H1_WK.Source := 'УСО К. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H1_WK.IDE := 'PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H1_WK';
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H1_WK.ID := ULINT#70020;
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H1_WK.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H1_WK.AlarmClass := DINT#101;
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H1_WK.Comment := 'Модуль А1.4 канал 4';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H1_WK);

//021.Сухой ход
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H1_FL.I_IN := USOK_A1_4.i5;
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H1_FL.QUAL_IN := USOK_A1_4.i5_status;
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H1_FL.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H1_FL.Name := 'Котельная. Авария насоса №1 ГВС';
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H1_FL.Source := 'УСО К. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H1_FL.IDE := 'PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H1_FL';
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H1_FL.ID := ULINT#70021;
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H1_FL.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H1_FL.AlarmClass := DINT#10000;
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H1_FL.Comment := 'Модуль А1.4 канал 5';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H1_FL);

//022.ВОС. Питание в норме
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H2_WK.I_IN := USOK_A1_4.i6;
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H2_WK.QUAL_IN := USOK_A1_4.i6_status;
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H2_WK.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H2_WK.Name := 'Котельная. Насос №2 ГВС в работе';
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H2_WK.Source := 'УСО К. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H2_WK.IDE := 'PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H2_WK';
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H2_WK.ID := ULINT#70022;
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H2_WK.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H2_WK.AlarmClass := DINT#101;
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H2_WK.Comment := 'Модуль А1.4 канал 6';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H2_WK);

//023.УСО К. ПЛК А1. Резерв 1
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H2_FL.I_IN := USOK_A1_4.i7;
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H2_FL.QUAL_IN := USOK_A1_4.i7_status;
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H2_FL.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H2_FL.Name := 'Котельная. Авария насоса 2 ГВС';
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H2_FL.Source := 'УСО К. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H2_FL.IDE := 'PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H2_FL';
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H2_FL.ID := ULINT#70023;
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H2_FL.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H2_FL.AlarmClass := DINT#10000;
PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H2_FL.Comment := 'Модуль А1.4 канал 7';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOK_DI_GVS_H2_FL);

//024.УСО К. ПЛК А1. Резерв 2
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER1_ON.I_IN := USOK_A1_4.i8;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER1_ON.QUAL_IN := USOK_A1_4.i8_status;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER1_ON.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER1_ON.Name := 'Котельная. Котел №1 в работе';
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER1_ON.Source := 'УСО К. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER1_ON.IDE := 'PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER1_ON';
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER1_ON.ID := ULINT#70022;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER1_ON.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER1_ON.AlarmClass := DINT#101;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER1_ON.Comment := 'Модуль А1.4 канал 8';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER1_ON);

//025.УСО К. ПЛК А1. Резерв 3
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER2_ON.I_IN := USOK_A1_4.i9;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER2_ON.QUAL_IN := USOK_A1_4.i9_status;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER2_ON.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER2_ON.Name := 'Котельная. Котел №2 в работе';
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER2_ON.Source := 'УСО К. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER2_ON.IDE := 'PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER2_ON';
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER2_ON.ID := ULINT#70022;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER2_ON.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER2_ON.AlarmClass := DINT#101;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER2_ON.Comment := 'Модуль А1.4 канал 9';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER2_ON);


PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER3_ON.I_IN := USOK_A1_4.i10;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER3_ON.QUAL_IN := USOK_A1_4.i10_status;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER3_ON.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER3_ON.Name := 'Котельная. Котел №3 в работе';
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER3_ON.Source := 'УСО К. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER3_ON.IDE := 'PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER3_ON';
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER3_ON.ID := ULINT#70022;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER3_ON.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER3_ON.AlarmClass := DINT#101;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER3_ON.Comment := 'Модуль А1.4 канал 10';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER3_ON);


PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER4_ON.I_IN := USOK_A1_4.i11;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER4_ON.QUAL_IN := USOK_A1_4.i11_status;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER4_ON.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER4_ON.Name := 'Котельная. Котел №4 в работе';
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER4_ON.Source := 'УСО К. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER4_ON.IDE := 'PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER4_ON';
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER4_ON.ID := ULINT#70022;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER4_ON.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER4_ON.AlarmClass := DINT#101;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER4_ON.Comment := 'Модуль А1.4 канал 11';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER4_ON);



PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER_GVS_ON.I_IN := USOK_A1_4.i12;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER_GVS_ON.QUAL_IN := USOK_A1_4.i12_status;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER_GVS_ON.ShiftTime := ShiftTime;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER_GVS_ON.Name := 'Котельная. Котел ГВС в работе';
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER_GVS_ON.Source := 'УСО К. ПЛК А1';
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER_GVS_ON.IDE := 'PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER_GVS_ON';
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER_GVS_ON.ID := ULINT#70022;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER_GVS_ON.FAULT_ON := TRUE;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER_GVS_ON.AlarmClass := DINT#101;
PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER_GVS_ON.Comment := 'Модуль А1.4 канал 12';
FC_V_DGI(CHANNEL := PLC_GSP_SEV_KSSEV_E_USOK_DI_BOILER_GVS_ON);]]></ST>
            </FunctionBlock>
            <FunctionBlock UUID="38080C0F46F166F5CBDA29A2CF9E4320" Name="COUNTER_USOK">
                <Variables />
                <ST><![CDATA[//Счетчик 
IF COUNTER.COUNT_USOK <= 20000 THEN
		COUNTER.COUNT_USOK := COUNTER.COUNT_USOK + 1;
		ELSE COUNTER.COUNT_USOK := 0;
END_IF;]]></ST>
            </FunctionBlock>
            <FunctionBlock UUID="EE8960A84081AB026085928B7439EB52" Name="SLOT_FAULT">
                <Variables />
                <ST><![CDATA[USOK_EVENT_FAULT.CPU.status := PLC_USOK_A1_FAULT.CPU;
USOK_EVENT_FAULT.CPU.SOURCE := 'УСО К. ПЛК А1';
USOK_EVENT_FAULT.CPU.NAME :=  'Частичная неисправность в корзине ПЛК';
FC_FAULT_CHECK(FAULT := USOK_EVENT_FAULT.CPU);

USOK_EVENT_FAULT.SLOT3.status := PLC_USOK_A1_FAULT.Slot3;
USOK_EVENT_FAULT.SLOT3.SOURCE := 'УСО К. ПЛК А1';
USOK_EVENT_FAULT.SLOT3.NAME :=  'ПЛК. Неисправность модуля А1.3';
FC_FAULT_CHECK(FAULT := USOK_EVENT_FAULT.SLOT3);


USOK_EVENT_FAULT.SLOT4.status := PLC_USOK_A1_FAULT.Slot4;
USOK_EVENT_FAULT.SLOT4.SOURCE := 'УСО К. ПЛК А1';
USOK_EVENT_FAULT.SLOT4.NAME :=  'ПЛК. Неисправность модуля А1.4';
FC_FAULT_CHECK(FAULT := USOK_EVENT_FAULT.SLOT4);



]]></ST>
            </FunctionBlock>
        </Folder>
    </FBLibrary>
</Program>
